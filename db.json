{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","path":"fancybox/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","path":"js/jquery-3.6.4.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","path":"fancybox/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/anime.min.js","path":"lib/anime.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/css/all.min.css","path":"lib/font-awesome/css/all.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-brands-400.woff2","path":"lib/font-awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-regular-400.woff2","path":"lib/font-awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-solid-900.woff2","path":"lib/font-awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"source/img/7579449-9b4f591d793547b6.webp","path":"img/7579449-9b4f591d793547b6.webp","modified":0,"renderable":0},{"_id":"source/img/7579449-a8a0b3970380eeeb.webp","path":"img/7579449-a8a0b3970380eeeb.webp","modified":0,"renderable":0},{"_id":"source/img/7579449-b2ab8dfe80fe828d.webp","path":"img/7579449-b2ab8dfe80fe828d.webp","modified":0,"renderable":0},{"_id":"source/img/Garbled.png","path":"img/Garbled.png","modified":0,"renderable":0},{"_id":"source/img/blockchain-basic-core.png","path":"img/blockchain-basic-core.png","modified":0,"renderable":0},{"_id":"source/img/callAndapply.jpg","path":"img/callAndapply.jpg","modified":0,"renderable":0},{"_id":"source/img/curious.jpg","path":"img/curious.jpg","modified":0,"renderable":0},{"_id":"source/img/diff-diagram.png","path":"img/diff-diagram.png","modified":0,"renderable":0},{"_id":"source/img/diff.png","path":"img/diff.png","modified":0,"renderable":0},{"_id":"source/img/dom.png","path":"img/dom.png","modified":0,"renderable":0},{"_id":"source/img/dom1.png","path":"img/dom1.png","modified":0,"renderable":0},{"_id":"source/img/functionnal.gif","path":"img/functionnal.gif","modified":0,"renderable":0},{"_id":"source/img/github-pages.png","path":"img/github-pages.png","modified":0,"renderable":0},{"_id":"source/img/inheritAttrs1.webp","path":"img/inheritAttrs1.webp","modified":0,"renderable":0},{"_id":"source/img/inheritAttrs2.webp","path":"img/inheritAttrs2.webp","modified":0,"renderable":0},{"_id":"source/img/inheritAttrs3.webp","path":"img/inheritAttrs3.webp","modified":0,"renderable":0},{"_id":"source/img/jy.png","path":"img/jy.png","modified":0,"renderable":0},{"_id":"source/img/lazyload.gif","path":"img/lazyload.gif","modified":0,"renderable":0},{"_id":"source/img/libuv.png","path":"img/libuv.png","modified":0,"renderable":0},{"_id":"source/img/location.jpeg","path":"img/location.jpeg","modified":0,"renderable":0},{"_id":"source/img/nerve.png","path":"img/nerve.png","modified":0,"renderable":0},{"_id":"source/img/nerve1.png","path":"img/nerve1.png","modified":0,"renderable":0},{"_id":"source/img/ownership.png","path":"img/ownership.png","modified":0,"renderable":0},{"_id":"source/img/ownership1.png","path":"img/ownership1.png","modified":0,"renderable":0},{"_id":"source/img/sameVnode.png","path":"img/sameVnode.png","modified":0,"renderable":0},{"_id":"source/img/slot.jpeg","path":"img/slot.jpeg","modified":0,"renderable":0},{"_id":"source/img/updateChildren.png","path":"img/updateChildren.png","modified":0,"renderable":0},{"_id":"source/img/urlimg.png","path":"img/urlimg.png","modified":0,"renderable":0},{"_id":"source/img/vuejs2.png","path":"img/vuejs2.png","modified":0,"renderable":0},{"_id":"source/img/vuejs3.png","path":"img/vuejs3.png","modified":0,"renderable":0},{"_id":"source/img/vuejs4.png","path":"img/vuejs4.png","modified":0,"renderable":0},{"_id":"source/img/vuejs5.png","path":"img/vuejs5.png","modified":0,"renderable":0},{"_id":"source/img/vuejs6.png","path":"img/vuejs6.png","modified":0,"renderable":0},{"_id":"source/img/vuejs7.png","path":"img/vuejs7.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1767266244566},{"_id":"node_modules/hexo-theme-landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/de-DE.yml","hash":"d29d1c4256b7ed9df42f511c2ff0a23ad5fd6c1f","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/README.md","hash":"6497b70356271fd6f9f1dc862353be844c457a53","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/_config.yml","hash":"a93d7b3990e45bc7247eecf01888f71674887a63","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/package.json","hash":"06889bee30e4c39479467021da434d3a6a0990fc","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/en-GB.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/en-US.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/en.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/es-ES.yml","hash":"7008a8fc91f18d2a735864817b8ebda30c7a2c66","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/hu-HU.yml","hash":"712d18664898fa21ba38d4973e90ef41a324ea25","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/it.yml","hash":"89b7d91306b2c1a0f3ac023b657bf974f798a1e8","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/fr-FR.yml","hash":"8d09dbdab00a30a2870b56f7c0a7ca7deafa7b88","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/hu.yml","hash":"284d557130bf54a74e7dcef9d42096130e4d9550","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/it-IT.yml","hash":"2cb6dc2fab9bd2dbe1c8bb869a9e8bf85a564fdd","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ja-JP.yml","hash":"08481267e0c112e1f6855620f2837ec4c4a98bbd","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ko-KR.yml","hash":"19209ad8f9d4057e8df808937f950eb265e1db69","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/mn.yml","hash":"2e7523951072a9403ead3840ad823edd1084c116","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/mn-MN.yml","hash":"b9e5f3e7c0c2f779cf2cfded6db847b5941637ca","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/nl-NL.yml","hash":"5ebbc30021f05d99938f96dfff280392df7f91f0","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ru-RU.yml","hash":"360d11a28bb768afb1dd15f63fa7fd3a8cc547ee","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/pt-PT.yml","hash":"0f852b6b228e6ea59aa3540574bb89b233f2a098","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/th.yml","hash":"84a55b00aa01f03982be294e43c33a20e6d32862","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/th-TH.yml","hash":"ebfdba9bc4842c829473c1e6e4544344f182724d","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/tr.yml","hash":"a1cdbfa17682d7a971de8ab8588bf57c74224b5b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/category.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/languages/zh-CN.yml","hash":"1efd95774f401c80193eac6ee3f1794bfe93dc5a","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/scripts/fancybox.js","hash":"c857d7a5e4a5d71c743a009c5932bf84229db428","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/archive.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/index.ejs","hash":"57281fc3812c877ec2d8e89ec87ede57b9789d4c","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/layout.ejs","hash":"0d1765036e4874500e68256fedb7470e96eeb6ee","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/after-footer.ejs","hash":"1b89d0caba03a66a43d9c290a5e94fa438a89210","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive.ejs","hash":"0039146b8ccbdf9b9f8bee58fc6c238f0e9921fc","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/article.ejs","hash":"e9d4678e14be5e3cd5e34d783e5af6d6626092f5","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/footer.ejs","hash":"3656eb692254346671abc03cb3ba1459829e0dce","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/tag.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/gauges-analytics.ejs","hash":"21a1e2a3907d1a3dad1cd0ab855fe6735f233c74","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/recent_posts.ejs","hash":"60c4b012dcc656438ff59997e60367e5a21ab746","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/google-analytics.ejs","hash":"2ea7442ea1e1a8ab4e41e26c563f58413b59a3d0","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/head.ejs","hash":"0e94f5722d4c44d3cc91be2f4fd30b9ab503b868","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/header.ejs","hash":"6a5033d189554c9a6d42e2ef7952ae5c9742648e","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_variables.styl","hash":"ca28281423ae57d76b6c1eb91cd845fd4e518bd6","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","hash":"e55a1d92954ed20f6887f92dc727bb995a010a43","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/date.ejs","hash":"f1458584b679545830b75bef2526e2f3eb931045","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/article.styl","hash":"f608400a08cf137ab15ec1f44bac551950afe879","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/header.styl","hash":"268d2989acb06e2ddd06cc36a6918c6cd865476b","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/highlight.styl","hash":"9cc3b2927d814f2f6e8e188f9d3657b94f4c6ef3","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/title.ejs","hash":"4d7e62574ddf46de9b41605fe3140d77b5ddb26d","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1767266291856},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1767266291856},{"_id":"themes/hexo-theme-next-master/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.gitignore","hash":"56f3470755c20311ddd30d421b377697a6e5e68b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.gitattributes","hash":"a54f902957d49356376b59287b894b1a3d7a003f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.travis.yml","hash":"ecca3b919a5b15886e3eca58aa84aafc395590da","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/README.md","hash":"9b4b7d66aca47f9c65d6321b14eef48d95c4dff1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/LICENSE.md","hash":"18144d8ed58c75af66cb419d54f3f63374cd5c5b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/ALGOLIA-SEARCH.md","hash":"c7a994b9542040317d8f99affa1405c143a94a38","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/DATA-FILES.md","hash":"cddbdc91ee9e65c37a50bec12194f93d36161616","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/_config.yml","hash":"79d03c2f9f208e9056be88938dec93598152b7fc","modified":1767323597538},{"_id":"themes/hexo-theme-next-master/package.json","hash":"62fad6de02adbbba9fb096cbe2dcc15fe25f2435","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/INSTALLATION.md","hash":"af88bcce035780aaa061261ed9d0d6c697678618","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/gulpfile.js","hash":"1b4fc262b89948937b9e3794de812a7c1f2f3592","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/AUTHORS.md","hash":"10135a2f78ac40e9f46b3add3e360c025400752f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"94dc3404ccb0e5f663af2aa883c1af1d6eae553d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/UPDATE-FROM-5.1.X.md","hash":"8b6e4b2c9cfcb969833092bdeaed78534082e3e6","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/MATH.md","hash":"d645b025ec7fb9fbf799b9bb76af33b9f5b9ed93","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_layout.swig","hash":"1726de2ad36c425b008395e422c2a1ce3a300909","modified":1767318684723},{"_id":"themes/hexo-theme-next-master/docs/LICENSE.txt","hash":"368bf2c29d70f27d8726dd914f1b3211cae4bbab","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/category.swig","hash":"1bde61cf4d2d171647311a0ac2c5c7933f6a53b0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/archive.swig","hash":"e4e31317a8df68f23156cfc49e9b1aa9a12ad2ed","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/index.swig","hash":"7f403a18a68e6d662ae3e154b2c1d3bbe0801a23","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/CODE_OF_CONDUCT.md","hash":"aa4cb7aff595ca628cb58160ee1eee117989ec4e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/CONTRIBUTING.md","hash":"e554931b98f251fd49ff1d2443006d9ea2c20461","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/post.swig","hash":"2f6d992ced7e067521fdce05ffe4fd75481f41c5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/PULL_REQUEST_TEMPLATE.md","hash":"1a435c20ae8fa183d49bbf96ac956f7c6c25c8af","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/page.swig","hash":"db581bdeac5c75fabb0f17d7c5e746e47f2a9168","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/tag.swig","hash":"0dfb653bd5de980426d55a0606d1ab122bd8c017","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/config.yml","hash":"1d3f4e8794986817c0fead095c74f756d45f91ed","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/issue-close-app.yml","hash":"7cba457eec47dbfcfd4086acd1c69eaafca2f0cd","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/issue_label_bot.yaml","hash":"fca600ddef6f80c5e61aeed21722d191e5606e5b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/lock.yml","hash":"61173b9522ebac13db2c544e138808295624f7fd","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/mergeable.yml","hash":"0ee56e23bbc71e1e76427d2bd255a9879bd36e22","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/de.yml","hash":"74c59f2744217003b717b59d96e275b54635abf5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/release-drafter.yml","hash":"3cc10ce75ecc03a5ce86b00363e2a17eb65d15ea","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/stale.yml","hash":"fdf82de9284f8bc8e0b0712b4cc1cb081a94de59","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/ar.yml","hash":"9815e84e53d750c8bcbd9193c2d44d8d910e3444","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/support.yml","hash":"d75db6ffa7b4ca3b865a925f9de9aef3fc51925c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/en.yml","hash":"45bc5118828bdc72dcaa25282cd367c8622758cb","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/es.yml","hash":"c64cf05f356096f1464b4b1439da3c6c9b941062","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/fr.yml","hash":"752bf309f46a2cd43890b82300b342d7218d625f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/fa.yml","hash":"3676b32fda37e122f3c1a655085a1868fb6ad66b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/hu.yml","hash":"b1ebb77a5fd101195b79f94de293bcf9001d996f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/it.yml","hash":"44759f779ce9c260b895532de1d209ad4bd144bf","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/id.yml","hash":"572ed855d47aafe26f58c73b1394530754881ec2","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/ja.yml","hash":"0cf0baa663d530f22ff380a051881216d6adcdd8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/ko.yml","hash":"0feea9e43cd399f3610b94d755a39fff1d371e97","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/nl.yml","hash":"5af3473d9f22897204afabc08bb984b247493330","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/pt-BR.yml","hash":"67555b1ba31a0242b12fc6ce3add28531160e35b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/pt.yml","hash":"718d131f42f214842337776e1eaddd1e9a584054","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/ru.yml","hash":"e993d5ca072f7f6887e30fc0c19b4da791ca7a88","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/vi.yml","hash":"93393b01df148dcbf0863f6eee8e404e2d94ef9e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/tr.yml","hash":"2b041eeb8bd096f549464f191cfc1ea0181daca4","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/uk.yml","hash":"3a6d635b1035423b22fc86d9455dba9003724de9","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/renderer.js","hash":"49a65df2028a1bc24814dc72fa50d52231ca4f05","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/zh-CN.yml","hash":"a1f15571ee7e1e84e3cc0985c3ec4ba1a113f6f8","modified":1767320834268},{"_id":"themes/hexo-theme-next-master/docs/ru/INSTALLATION.md","hash":"9c4fe2873123bf9ceacab5c50d17d8a0f1baef27","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/zh-HK.yml","hash":"3789f94010f948e9f23e21235ef422a191753c65","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"34b88784ec120dfdc20fa82aadeb5f64ef614d14","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/languages/zh-TW.yml","hash":"8c09da7c4ec3fca2c6ee897b2eea260596a2baa1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/ru/README.md","hash":"85dd68ed1250897a8e4a444a53a68c1d49eb7e11","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/ru/UPDATE-FROM-5.1.X.md","hash":"5237a368ab99123749d724b6c379415f2c142a96","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/DATA-FILES.md","hash":"ca1030efdfca5e20f9db2e7a428998e66a24c0d0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"fb23b85db6f7d8279d73ae1f41631f92f64fc864","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/CONTRIBUTING.md","hash":"d3f03be036b75dc71cf3c366cd75aee7c127c874","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/ru/DATA-FILES.md","hash":"0bd2d696f62a997a11a7d84fec0130122234174e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/INSTALLATION.md","hash":"579c7bd8341873fb8be4732476d412814f1a3df7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/MATH.md","hash":"b92585d251f1f9ebe401abb5d932cb920f9b8b10","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/README.md","hash":"c038629ff8f3f24e8593c4c8ecf0bef3a35c750d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"8b18f84503a361fc712b0fe4d4568e2f086ca97d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"d9ce7331c1236bbe0a551d56cef2405e47e65325","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_macro/post-collapse.swig","hash":"9c8dc0b8170679cdc1ee9ee8dbcbaebf3f42897b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/comments.swig","hash":"db6ab5421b5f4b7cb32ac73ad0e053fdf065f83e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/footer.swig","hash":"4ade30dd31a55c27592ec3a065c96fffa2059ba5","modified":1767322535444},{"_id":"themes/hexo-theme-next-master/layout/_macro/sidebar.swig","hash":"71655ca21907e9061b6e8ac52d0d8fbf54d0062b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/pagination.swig","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/languages.swig","hash":"ba9e272f1065b8f0e8848648caa7dea3f02c6be1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_macro/post.swig","hash":"42f5e3001d9d5e3da00f168993f482db56a08411","modified":1767319569136},{"_id":"themes/hexo-theme-next-master/layout/_third-party/baidu-push.swig","hash":"b782eb2e34c0c15440837040b5d65b093ab6ec04","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/index.swig","hash":"cea942b450bcb0f352da78d76dc6d6f1d23d5029","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/quicklink.swig","hash":"311e5eceec9e949f1ea8d623b083cec0b8700ff2","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/pjax.swig","hash":"4d2c93c66e069852bb0e3ea2e268d213d07bfa3f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/noscript.swig","hash":"d1f2bfde6f1da51a2b35a7ab9e7e8eb6eefd1c6b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/rating.swig","hash":"2731e262a6b88eaee2a3ca61e6a3583a7f594702","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/ISSUE_TEMPLATE/bug-report.md","hash":"c3e6b8196c983c40fd140bdeca012d03e6e86967","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/three.swig","hash":"a4f42f2301866bd25a784a2281069d8b66836d0b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/widgets.swig","hash":"83a40ce83dfd5cada417444fb2d6f5470aae6bb0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/vendors.swig","hash":"ef38c213679e7b6d2a4116f56c9e55d678446069","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/ISSUE_TEMPLATE/other.md","hash":"d3efc0df0275c98440e69476f733097916a2d579","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/index.swig","hash":"70c3c01dd181de81270c57f3d99b6d8f4c723404","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/ISSUE_TEMPLATE/feature-request.md","hash":"12d99fb8b62bd9e34d9672f306c9ae4ace7e053e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/.github/ISSUE_TEMPLATE/question.md","hash":"53df7d537e26aaf062d70d86835c5fd8f81412f3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/events/index.js","hash":"5743cde07f3d2aa11532a168a652e52ec28514fd","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/default-injects.js","hash":"aec50ed57b9d5d3faf2db3c88374f107203617e0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/front-matter.js","hash":"703bdd142a671b4b67d3d9dfb4a19d1dd7e7e8f7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/locals.js","hash":"b193a936ee63451f09f8886343dcfdca577c0141","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_colors.styl","hash":"a8442520f719d3d7a19811cb3b85bcfd4a596e1f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/post.js","hash":"44ba9b1c0bdda57590b53141306bb90adf0678db","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_mixins.styl","hash":"e31a557f8879c2f4d8d5567ee1800b3e03f91f6e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/minify.js","hash":"19985723b9f677ff775f3b17dcebf314819a76ac","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/algolia-search.js","hash":"498d233eb5c7af6940baf94c1a1c36fdf1dd2636","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/main.styl","hash":"a3a3bbb5a973052f0186b3523911cb2539ff7b88","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/bookmark.js","hash":"9734ebcb9b83489686f5c2da67dc9e6157e988ad","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/local-search.js","hash":"35ccf100d8f9c0fd6bfbb7fa88c2a76c42a69110","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/next-boot.js","hash":"a1b0636423009d4a4e4cea97bcbf1842bfab582c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/helpers/engine.js","hash":"bdb424c3cc0d145bd0c6015bb1d2443c8a9c6cda","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/helpers/font.js","hash":"40cf00e9f2b7aa6e5f33d412e03ed10304b15fd7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/motion.js","hash":"72df86f6dfa29cce22abeff9d814c9dddfcf13a9","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/utils.js","hash":"730cca7f164eaf258661a61ff3f769851ff1e5da","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/helpers/next-url.js","hash":"958e86b2bd24e4fdfcbf9ce73e998efe3491a71f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/button.js","hash":"8c6b45f36e324820c919a822674703769e6da32c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/helpers/next-config.js","hash":"5e11f30ddb5093a88a687446617a46b048fa02e5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/caniuse.js","hash":"94e0bbc7999b359baa42fa3731bdcf89c79ae2b3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/label.js","hash":"fc5b267d903facb7a35001792db28b801cccb1f8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/center-quote.js","hash":"f1826ade2d135e2f60e2d95cb035383685b3370c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/pdf.js","hash":"8c613b39e7bff735473e35244b5629d02ee20618","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/mermaid.js","hash":"983c6c4adea86160ecc0ba2204bc312aa338121d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/note.js","hash":"0a02bb4c15aec41f6d5f1271cdb5c65889e265d9","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/group-pictures.js","hash":"d902fd313e8d35c3cc36f237607c2a0536c9edf1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/header/brand.swig","hash":"c70f8e71e026e878a4e9d5ab3bbbf9b0b23c240c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/tabs.js","hash":"93d8a734a3035c1d3f04933167b500517557ba3e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/header/index.swig","hash":"7dbe93b8297b746afb89700b4d29289556e85267","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/tags/video.js","hash":"e5ff4c44faee604dd3ea9db6b222828c4750c227","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/head/head-unique.swig","hash":"000bad572d76ee95d9c0a78f9ccdc8d97cc7d4b4","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/head/head.swig","hash":"810d544019e4a8651b756dd23e5592ee851eda71","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/header/menu.swig","hash":"d31f896680a6c2f2c3f5128b4d4dd46c87ce2130","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/header/menu-item.swig","hash":"9440d8a3a181698b80e1fa47f5104f4565d8cdf3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/analytics/google-analytics.swig","hash":"2fa2b51d56bfac6a1ea76d651c93b9c20b01c09b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/header/sub-menu.swig","hash":"ae2261bea836581918a1c2b0d1028a78718434e0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/analytics/baidu-analytics.swig","hash":"4790058691b7d36cf6d2d6b4e93795a7b8d608ad","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/analytics/growingio.swig","hash":"5adea065641e8c55994dd2328ddae53215604928","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/post/post-followme.swig","hash":"ceba16b9bd3a0c5c8811af7e7e49d0f9dcb2f41e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/page/page-header.swig","hash":"9b7a66791d7822c52117fe167612265356512477","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/page/breadcrumb.swig","hash":"c851717497ca64789f2176c9ecd1dedab237b752","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/post/post-copyright.swig","hash":"954ad71536b6eb08bd1f30ac6e2f5493b69d1c04","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/sidebar/site-overview.swig","hash":"c46849e0af8f8fb78baccd40d2af14df04a074af","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/post/post-footer.swig","hash":"8f14f3f8a1b2998d5114cc56b680fb5c419a6b07","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/analytics/index.swig","hash":"1472cabb0181f60a6a0b7fec8899a4d03dfb2040","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/search/index.swig","hash":"2be50f9bfb1c56b85b3b6910a7df27f51143632c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/chat/chatra.swig","hash":"f910618292c63871ca2e6c6e66c491f344fa7b1f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/post/post-reward.swig","hash":"2b1a73556595c37951e39574df5a3f20b2edeaef","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/chat/tidio.swig","hash":"cba0e6e0fad08568a9e74ba9a5bee5341cfc04c1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/post/post-related.swig","hash":"f79c44692451db26efce704813f7a8872b7e63a0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/search/localsearch.swig","hash":"f48a6a8eba04eb962470ce76dd731e13074d4c45","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/changyan.swig","hash":"f39a5bf3ce9ee9adad282501235e0c588e4356ec","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_partials/search/algolia-search.swig","hash":"48430bd03b8f19c9b8cdb2642005ed67d56c6e0b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/disqus.swig","hash":"b14908644225d78c864cd0a9b60c52407de56183","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/disqusjs.swig","hash":"82f5b6822aa5ec958aa987b101ef860494c6cf1f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/livere.swig","hash":"f7a9eca599a682479e8ca863db59be7c9c7508c8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/gitalk.swig","hash":"d6ceb70648555338a80ae5724b778c8c58d7060d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/search/algolia-search.swig","hash":"d35a999d67f4c302f76fdf13744ceef3c6506481","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/pages/schedule.swig","hash":"077b5d66f6309f2e7dcf08645058ff2e03143e6c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/search/localsearch.swig","hash":"767b6c714c22588bcd26ba70b0fc19b6810cbacd","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/comments/valine.swig","hash":"be0a8eccf1f6dc21154af297fc79555343031277","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/search/swiftype.swig","hash":"ba0dbc06b9d244073a1c681ff7a722dcbf920b51","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/schemes/muse.swig","hash":"7f14ef43d9e82bc1efc204c5adf0b1dbfc919a9f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/math/index.swig","hash":"6c5976621efd5db5f7c4c6b4f11bc79d6554885f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/schemes/mist.swig","hash":"7f14ef43d9e82bc1efc204c5adf0b1dbfc919a9f","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/schemes/gemini.swig","hash":"1c910fc066c06d5fbbe9f2b0c47447539e029af7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/statistics/busuanzi-counter.swig","hash":"4b1986e43d6abce13450d2b41a736dd6a5620a10","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/statistics/cnzz-analytics.swig","hash":"a17ace37876822327a2f9306a472974442c9005d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_scripts/schemes/pisces.swig","hash":"1c910fc066c06d5fbbe9f2b0c47447539e029af7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/statistics/firestore.swig","hash":"b26ac2bfbe91dd88267f8b96aee6bb222b265b7a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/statistics/lean-analytics.swig","hash":"d56d5af427cdfecc33a0f62ee62c056b4e33d095","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/statistics/index.swig","hash":"5f6a966c509680dbfa70433f9d658cee59c304d7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/changyan.js","hash":"a54708fd9309b4357c423a3730eb67f395344a5e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/disqusjs.js","hash":"7f8b92913d21070b489457fa5ed996d2a55f2c32","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/default-config.js","hash":"7f2d93af012c1e14b8596fecbfc7febb43d9b7f5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/common.js","hash":"2486f3e0150c753e5f3af1a3665d074704b8ee2c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/disqus.js","hash":"4c0c99c7e0f00849003dfce02a131104fb671137","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/valine.js","hash":"6cbd85f9433c06bae22225ccf75ac55e04f2d106","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/gitalk.js","hash":"e51dc3072c1ba0ea3008f09ecae8b46242ec6021","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/math/katex.swig","hash":"4791c977a730f29c846efcf6c9c15131b9400ead","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/math/mathjax.swig","hash":"ecf751321e799f0fb3bf94d049e535130e2547aa","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/filters/comment/livere.js","hash":"d5fefc31fba4ab0188305b1af1feb61da49fdeb0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/tags/mermaid.swig","hash":"f3c43664a071ff3c0b28bd7e59b5523446829576","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/events/lib/config.js","hash":"d34c6040b13649714939f59be5175e137de65ede","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/events/lib/injects-point.js","hash":"6661c1c91c7cbdefc6a5e6a034b443b8811235a1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/scripts/events/lib/injects.js","hash":"f233d8d0103ae7f9b861344aa65c1a3c1de8a845","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/layout/_third-party/tags/pdf.swig","hash":"d30b0e255a8092043bac46441243f943ed6fb09b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/schemes/muse.js","hash":"1eb9b88103ddcf8827b1a7cbc56471a9c5592d53","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_variables/Pisces.styl","hash":"612ec843372dae709acb17112c1145a53450cc59","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_variables/Mist.styl","hash":"f70be8e229da7e1715c11dd0e975a2e71e453ac8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_variables/Gemini.styl","hash":"f4e694e5db81e57442c7e34505a416d818b3044a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_variables/Muse.styl","hash":"62df49459d552bbf73841753da8011a1f5e875c8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Gemini/index.styl","hash":"7785bd756e0c4acede3a47fec1ed7b55988385a5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/css/all.min.css","hash":"0038dc97c79451578b7bd48af60ba62282b4082b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_variables/base.styl","hash":"818508748b7a62e02035e87fe58e75b603ed56dc","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/js/schemes/pisces.js","hash":"0ac5ce155bc58c972fe21c4c447f85e6f8755c62","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Mist/_header.styl","hash":"f6516d0f7d89dc7b6c6e143a5af54b926f585d82","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"260bb01acd44d88dcb7f501a238ab968f86bef9e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Mist/_layout.styl","hash":"bb7ace23345364eb14983e860a7172e1683a4c94","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/_header.styl","hash":"f0131db6275ceaecae7e1a6a3798b8f89f6c850d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/_layout.styl","hash":"4d1c17345d2d39ef7698f7acf82dfc0f59308c34","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/_menu.styl","hash":"93db5dafe9294542a6b5f647643cb9deaced8e06","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Mist/_menu.styl","hash":"7104b9cef90ca3b140d7a7afcf15540a250218fc","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/_sidebar.styl","hash":"2b2e7b5cea7783c9c8bb92655e26a67c266886f0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Mist/index.styl","hash":"a717969829fa6ef88225095737df3f8ee86c286b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Mist/_posts-expand.styl","hash":"6136da4bbb7e70cec99f5c7ae8c7e74f5e7c261a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/_header.styl","hash":"e282df938bd029f391c466168d0e68389978f120","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/back-to-top-sidebar.styl","hash":"ca5e70662dcfb261c25191cc5db5084dcf661c76","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/back-to-top.styl","hash":"a47725574e1bee3bc3b63b0ff2039cc982b17eff","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/components.styl","hash":"8e7b57a72e757cf95278239641726bb2d5b869d1","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/reading-progress.styl","hash":"2e3bf7baf383c9073ec5e67f157d3cb3823c0957","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/_sidebar.styl","hash":"44f47c88c06d89d06f220f102649057118715828","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/_layout.styl","hash":"70a4324b70501132855b5e59029acfc5d3da1ebd","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/_sub-menu.styl","hash":"e740deadcfc4f29c5cb01e40f9df6277262ba4e3","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/_menu.styl","hash":"85da2f3006f4bef9a2199416ecfab4d288f848c4","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/buttons.styl","hash":"a2e9e00962e43e98ec2614d6d248ef1773bb9b78","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/base.styl","hash":"0b2c4b78eead410020d7c4ded59c75592a648df8","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/comments.styl","hash":"b1f0fab7344a20ed6748b04065b141ad423cf4d9","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_schemes/Pisces/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/pagination.styl","hash":"8f58570a1bbc34c4989a47a1b7d42a8030f38b06","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/mobile.styl","hash":"681d33e3bc85bdca407d93b134c089264837378c","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/pages/categories.styl","hash":"2bd0eb1512415325653b26d62a4463e6de83c5ac","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/pages/breadcrumb.styl","hash":"fafc96c86926b22afba8bb9418c05e6afbc05a57","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/outline.styl","hash":"a1690e035b505d28bdef2b4424c13fc6312ab049","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/pages/pages.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/scaffolding.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/toggles.styl","hash":"179e33b8ac7f4d8a8e76736a7e4f965fe9ab8b42","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tables.styl","hash":"18ce72d90459c9aa66910ac64eae115f2dde3767","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/pages/schedule.styl","hash":"e771dcb0b4673e063c0f3e2d73e7336ac05bcd57","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/pages/tag-cloud.styl","hash":"d21d4ac1982c13d02f125a67c065412085a92ff2","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-collapse.styl","hash":"e75693f33dbc92afc55489438267869ae2f3db54","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-expand.styl","hash":"ded41fd9d20a5e8db66aaff7cc50f105f5ef2952","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-copyright.styl","hash":"f49ca072b5a800f735e8f01fc3518f885951dd8e","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-eof.styl","hash":"902569a9dea90548bec21a823dd3efd94ff7c133","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-followme.styl","hash":"1e4190c10c9e0c9ce92653b0dbcec21754b0b69d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-header.styl","hash":"65cb6edb69e94e70e3291e9132408361148d41d5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-nav.styl","hash":"6a97bcfa635d637dc59005be3b931109e0d1ead5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-reward.styl","hash":"d114b2a531129e739a27ba6271cfe6857aa9a865","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-gallery.styl","hash":"72d495a88f7d6515af425c12cbc67308a57d88ea","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/third-party/gitalk.styl","hash":"8a7fc03a568b95be8d3337195e38bc7ec5ba2b23","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-tags.styl","hash":"99e12c9ce3d14d4837e3d3f12fc867ba9c565317","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-rtl.styl","hash":"f5c2788a78790aca1a2f37f7149d6058afb539e0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/third-party/math.styl","hash":"b49e9fbd3c182b8fc066b8c2caf248e3eb748619","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/third-party/related-posts.styl","hash":"e2992846b39bf3857b5104675af02ba73e72eed5","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post.styl","hash":"6dc0604db8760dbe65d6ef0987e466d097d6e162","modified":1767320582395},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/post/post-widgets.styl","hash":"5b5649b9749e3fd8b63aef22ceeece0a6e1df605","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"f71a3e86c05ea668b008cf05a81f67d92b6d65e4","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/third-party/third-party.styl","hash":"9a878d0119785a2316f42aebcceaa05a120b9a7a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/highlight/highlight.styl","hash":"35c871a809afa8306c8cde13651010e282548bc6","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/components/third-party/search.styl","hash":"9f0b93d109c9aec79450c8a0cf4a4eab717d674d","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/bookmark.styl","hash":"e2d606f1ac343e9be4f15dbbaf3464bc4df8bf81","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/footer/footer.styl","hash":"454a4aebfabb4469b92a8cbb49f46c49ac9bf165","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/highlight/diff.styl","hash":"d3f73688bb7423e3ab0de1efdf6db46db5e34f80","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/header.styl","hash":"a793cfff86ad4af818faef04c18013077873f8f0","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/highlight/theme.styl","hash":"3b3acc5caa0b95a2598bef4eeacb21bab21bea56","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/github-banner.styl","hash":"e7a9fdb6478b8674b1cdf94de4f8052843fb71d9","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/headerband.styl","hash":"0caf32492692ba8e854da43697a2ec8a41612194","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/menu.styl","hash":"5f432a6ed9ca80a413c68b00e93d4a411abf280a","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/site-nav.styl","hash":"b2fc519828fe89a1f8f03ff7b809ad68cd46f3d7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/header/site-meta.styl","hash":"45a239edca44acecf971d99b04f30a1aafbf6906","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"709d10f763e357e1472d6471f8be384ec9e2d983","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"1d2778ca5aeeeafaa690dc2766b01b352ab76a02","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/note.styl","hash":"e4d9a77ffe98e851c1202676940097ba28253313","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/label.styl","hash":"d7fce4b51b5f4b7c31d93a9edb6c6ce740aa0d6b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"2cb1876e9e0c9ac32160888af27b1178dbcb0616","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/tags.styl","hash":"9e4c0653cfd3cc6908fa0d97581bcf80861fb1e7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/pdf.styl","hash":"b49c64f8e9a6ca1c45c0ba98febf1974fdd03616","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"fa0222197b5eee47e18ac864cdc6eac75678b8fe","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/scaffolding/tags/tabs.styl","hash":"f23670f1d8e749f3e83766d446790d8fd9620278","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"44487d9ab290dc97871fa8dd4487016deb56e123","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"9b479c2f9a9bfed77885e5093b8245cc5d768ec7","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"1f0e7fbe80956f47087c2458ea880acf7a83078b","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"a960a2dd587b15d3b3fe1b59525d6fa971c6a6ec","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"b3220db827e1adbca7880c2bb23e78fa7cbe95cb","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"a05a4031e799bc864a4536f9ef61fe643cd421af","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/site-state.styl","hash":"2a47f8a6bb589c2fb635e6c1e4a2563c7f63c407","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/css/_common/outline/sidebar/sidebar.styl","hash":"a9cd93c36bae5af9223e7804963096274e8a4f03","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"509988477da79c146cb93fb728405f18e923c2de","modified":1627608806000},{"_id":"themes/hexo-theme-next-master/source/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"75a88815c47a249eadb5f0edc1675957f860cca7","modified":1627608806000},{"_id":"source/_posts/img/7579449-9b4f591d793547b6.webp","hash":"d5f60d7386872646d35798f2c24a4a517b2a804f","modified":1767161262352},{"_id":"source/_posts/img/7579449-b2ab8dfe80fe828d.webp","hash":"88a4480ff989f912298f8bf735512a758f81de93","modified":1767161262353},{"_id":"source/_posts/img/callAndapply.jpg","hash":"7019ef22aa89dec5fe21c7d85599707a0e4a9dc1","modified":1767161262361},{"_id":"source/_posts/img/curious.jpg","hash":"4e9569ac72ed4099f9a8a00e9986a45440f376e7","modified":1767161262361},{"_id":"source/_posts/img/inheritAttrs1.webp","hash":"4af151162e8888bbfe337a2683a983a4da82e903","modified":1767161262368},{"_id":"source/_posts/img/7579449-a8a0b3970380eeeb.webp","hash":"4ab2f71cfe2ee898c8700b9e5215615ebbfe14b0","modified":1767161262352},{"_id":"source/_posts/img/dom.png","hash":"d15b6330a3225cb3c055e0e0357edc5438f97b34","modified":1767161262365},{"_id":"source/_posts/img/dom1.png","hash":"9f12672e2ac91aa72211ef3e3f1cae90f27a38dd","modified":1767161262366},{"_id":"source/_posts/img/github-pages.png","hash":"a886628ff8fd3e51080f6272f93857dd25301bd3","modified":1767161262368},{"_id":"source/_posts/img/functionnal.gif","hash":"626f962cbab56fd66586ef162ec9b1fc093ad461","modified":1767161262367},{"_id":"source/_posts/img/Garbled.png","hash":"c200754d68171ec372c4aa0c43fbe5660f01d0ce","modified":1767161262355},{"_id":"source/_posts/img/diff-diagram.png","hash":"bf4ab0f2da34703ff636e5dd0e023f3382977143","modified":1767161262363},{"_id":"source/_posts/img/diff.png","hash":"18e556ec4ed301bc00e428501218cda5029245db","modified":1767161262364},{"_id":"source/_posts/img/blockchain-basic-core.png","hash":"21527b978dc583e76ef61019e374df99ed06ef58","modified":1767161262360},{"_id":"source/img/7579449-9b4f591d793547b6.webp","hash":"d5f60d7386872646d35798f2c24a4a517b2a804f","modified":1767161262352},{"_id":"source/img/7579449-b2ab8dfe80fe828d.webp","hash":"88a4480ff989f912298f8bf735512a758f81de93","modified":1767161262353},{"_id":"source/img/7579449-a8a0b3970380eeeb.webp","hash":"4ab2f71cfe2ee898c8700b9e5215615ebbfe14b0","modified":1767161262352},{"_id":"source/img/callAndapply.jpg","hash":"7019ef22aa89dec5fe21c7d85599707a0e4a9dc1","modified":1767161262361},{"_id":"source/img/curious.jpg","hash":"4e9569ac72ed4099f9a8a00e9986a45440f376e7","modified":1767161262361},{"_id":"source/img/inheritAttrs2.webp","hash":"913203670746b751c53f9e5aa90a8a3d98bdc264","modified":1767161262369},{"_id":"source/img/inheritAttrs3.webp","hash":"19e6c33a334f83ac08c791063a3c91a4cd3055ff","modified":1767161262369},{"_id":"source/img/inheritAttrs1.webp","hash":"4af151162e8888bbfe337a2683a983a4da82e903","modified":1767161262368},{"_id":"source/img/lazyload.gif","hash":"b66fc917fcf1a46d531c9639ec8dde80c3838787","modified":1767161262371},{"_id":"source/img/location.jpeg","hash":"2874b3e15ea1abcec19bf1bc7020a31fee71cfd8","modified":1767161262373},{"_id":"source/img/vuejs2.png","hash":"dfc2f047d2a358cbb65915418d98de18f6a20cef","modified":1767161262393},{"_id":"source/img/urlimg.png","hash":"c75226d4b3ea485206e09db8d68e84a55db4434c","modified":1767161262392},{"_id":"source/img/vuejs3.png","hash":"166ebe833436ce7c405bceef24eda1ce3fc7d56d","modified":1767161262393},{"_id":"source/img/vuejs5.png","hash":"f48bedd65628b5ff4e494502a8e5b962991cfddb","modified":1767161262395},{"_id":"source/img/vuejs6.png","hash":"c5fff1d55e5b16b5b5ea43006cd203921809ced7","modified":1767161262396},{"_id":"source/img/dom.png","hash":"d15b6330a3225cb3c055e0e0357edc5438f97b34","modified":1767161262365},{"_id":"source/img/dom1.png","hash":"9f12672e2ac91aa72211ef3e3f1cae90f27a38dd","modified":1767161262366},{"_id":"source/img/github-pages.png","hash":"a886628ff8fd3e51080f6272f93857dd25301bd3","modified":1767161262368},{"_id":"source/img/libuv.png","hash":"2a1787a687f6b18d57c1244339337b57297e0eec","modified":1767161262372},{"_id":"source/img/sameVnode.png","hash":"9ce03a5c5f53d34fa1a4552b98ea24cd12756f53","modified":1767161262388},{"_id":"source/img/slot.jpeg","hash":"e1aa14e832eb2f04b2c33619bbe0552d5dbbb254","modified":1767161262389},{"_id":"source/img/updateChildren.png","hash":"468e6c6cb19c9fd057d3fa67c212c1b4a1144b2a","modified":1767161262391},{"_id":"source/img/vuejs4.png","hash":"80076921c69eeb7a288fec82292cb91ca527cfc7","modified":1767161262394},{"_id":"source/img/vuejs7.png","hash":"f140452a07d00675edb7f89f91f0522b3d93bfba","modified":1767161262398},{"_id":"source/img/functionnal.gif","hash":"626f962cbab56fd66586ef162ec9b1fc093ad461","modified":1767161262367},{"_id":"source/img/Garbled.png","hash":"c200754d68171ec372c4aa0c43fbe5660f01d0ce","modified":1767161262355},{"_id":"source/img/diff-diagram.png","hash":"bf4ab0f2da34703ff636e5dd0e023f3382977143","modified":1767161262363},{"_id":"source/img/diff.png","hash":"18e556ec4ed301bc00e428501218cda5029245db","modified":1767161262364},{"_id":"source/img/jy.png","hash":"8e0433380fd921567d13efed00660952a79fac48","modified":1767161262370},{"_id":"source/img/ownership.png","hash":"13849bf1bcac05a63a744bbffc48e4d721c2c26f","modified":1767161262384},{"_id":"source/img/ownership1.png","hash":"d8cbda4930ae6407be37956c05ecdf3efe0fd758","modified":1767161262387},{"_id":"source/img/nerve1.png","hash":"eeb77b5d3ac2a74646ad072c2c34688b300580ef","modified":1767161262382},{"_id":"source/img/nerve.png","hash":"733fd8fee312c1ecfe5be5d63f554de7ac271d5a","modified":1767161262378},{"_id":"source/img/blockchain-basic-core.png","hash":"21527b978dc583e76ef61019e374df99ed06ef58","modified":1767161262360},{"_id":"source/_posts/CommonJs-AMD-CMD.md","hash":"ffed1d3c5a021720aff8cb8f0e9dd526a5492803","modified":1767314597570},{"_id":"source/_posts/Emojis-url.md","hash":"af8cbd829da1018666b7dc36333b023f2ffc7eb8","modified":1767314597570},{"_id":"source/_posts/VUEinheritAttrs-attrs-listeners.md","hash":"20c422ef0255a4f13bb872e25c3a6e826be2d28c","modified":1767314597571},{"_id":"source/_posts/Vue-router.md","hash":"0c71839f504d38742efa61b4e93a31d091945e94","modified":1767314597571},{"_id":"source/_posts/Vuejs.md","hash":"5c89d194bb55cd8422db89789c86309503d91cb1","modified":1767314597572},{"_id":"source/_posts/gulpwebpack.md","hash":"9e9406671e045dbe8f8ec96258f53cfe1fe1d2f0","modified":1767314597572},{"_id":"source/_posts/Promise.md","hash":"cd90617939a7cb15e2b93673bd7a7a6d58d7c3ed","modified":1767314597571},{"_id":"source/_posts/Vue.md","hash":"b41897c82a63db8027788135f75a7ecf2ec7a818","modified":1767314597572},{"_id":"source/_posts/hexo.md","hash":"348fa5f4931c33e0b4c96b5a9b41558b0c9baa21","modified":1767314597573},{"_id":"source/_posts/js.md","hash":"e334682f16531b33bb9dce71484caca4f0f7fb52","modified":1767314597573},{"_id":"source/_posts/nodeJs.md","hash":"add8bc3bbd3604f84c13eaca037f5ecc512544c6","modified":1767314597573},{"_id":"source/_posts/posts.md","hash":"36eab38d048b436b15208228d9f2f9c0dc844c8b","modified":1767314597574},{"_id":"source/_posts/vue-diff.md","hash":"28256d099e8a30505728445849d3aaf88b74c3ad","modified":1767314597574},{"_id":"source/_posts/vue-source-code.md","hash":"29f1750a56220297c33953774680e0b805dd12b7","modified":1767314597575},{"_id":"source/_posts/vue-emit-on-once-off.md","hash":"946dd342ae44948de5689bb910ecfb3edb77ef10","modified":1767314597576},{"_id":"source/_posts/vuefunctionnal.md","hash":"8fe415f7502b4f38efb5d54f3829bcc4fa78fae7","modified":1767314784227},{"_id":"source/_posts/webpack4-29-0.md","hash":"d128c8f359dddddfbb325bff99b6167115bbed4e","modified":1767314597576},{"_id":"source/_posts/.md","hash":"42cccc3478e557df68e2a13849c79c2458aac4c6","modified":1767314597576},{"_id":"source/_posts/.md","hash":"1f920e6e0afe7ee82c798d8b6402853a9908fcfd","modified":1767314597576},{"_id":"source/_posts/slot.md","hash":"47c716f6a6f8ce5a0be107c6564d13956e34a2b7","modified":1767314597574},{"_id":"source/_posts/mac app store.md","hash":"a2a2043e2394b2db811a950822c72c190b5ea553","modified":1767314597577},{"_id":"source/_posts/npm.md","hash":"88f1a08ba107ebdc869762bcfcec11866167a7f5","modified":1767314597577},{"_id":"source/_posts/.md","hash":"2fa672a5087bd3f50820781a346b91f08a4ba25b","modified":1767314597578},{"_id":"source/_posts/-7 copy.md","hash":"c7d4b3f4932e388cc8dfd6a4bf73a09175496097","modified":1767314597578},{"_id":"source/_posts/-7.md","hash":"c7d4b3f4932e388cc8dfd6a4bf73a09175496097","modified":1767314597578},{"_id":"source/_posts/call--apply-.md","hash":"e38e220aa15835ac2de0bcda33312eaff1b8cfb6","modified":1767314597577},{"_id":"public/search.xml","hash":"49280735851b88afcddde054edbdb96418c653df","modified":1767316450987},{"_id":"public/atom.xml","hash":"9f462aa893e9813a27328084ec92936c0158dc57","modified":1767316450987},{"_id":"public/2021/08/17/Vue-router/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2021/09/01/-7/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2021/09/01/-7 copy/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2020/05/26/VUEinheritAttrs-attrs-listeners/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2020/05/25/vuefunctionnal/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2020/05/19/npm/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/11/25/nodeJs/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/08/15/mac app store/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/08/23/vue-emit-on-once-off/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/07/09/hexo/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/07/09/Vue/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/05/31/Promise/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/04/22/slot/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/02/18/call--apply-/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/02/14//index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/02/14/js/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/02/04//index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/02/03//index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/31/Vuejs/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/30/vue-diff/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/30/vue-source-code/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/29/gulpwebpack/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/28/CommonJs-AMD-CMD/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/25/webpack4-29-0/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/27/Emojis-url/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/2019/01/24/posts/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1767316450987},{"_id":"public/archives/index.html","hash":"457c8ff0bfc430267c7cddfc4305c8ad59dac7b5","modified":1767316450987},{"_id":"public/archives/page/2/index.html","hash":"807863571fe1d1ccc5af879ce38cb7752ab38be6","modified":1767316450987},{"_id":"public/archives/page/3/index.html","hash":"c590bf2a588ac177a7334798a1f1e3a591588d10","modified":1767316450987},{"_id":"public/archives/2019/01/index.html","hash":"c888d1e40b42f37ebd17b5f8d20d18a4f48487f4","modified":1767316450987},{"_id":"public/archives/2019/page/2/index.html","hash":"4f46f6d52d1fc944171c2c21c0bb2f59e863a132","modified":1767316450987},{"_id":"public/archives/2019/04/index.html","hash":"eb56ca2d38b472eb99ccbea3200908a92487048b","modified":1767316450987},{"_id":"public/archives/2019/02/index.html","hash":"a635851e27630842ff48fb232e2cc113e687cd37","modified":1767316450987},{"_id":"public/archives/2019/05/index.html","hash":"bda23ee10bab2f2bcb5556ace77f7d52af596dbe","modified":1767316450987},{"_id":"public/archives/2019/index.html","hash":"784aafd635171ecc62aa0c84e0745679e60b4894","modified":1767316450987},{"_id":"public/archives/2019/07/index.html","hash":"d572e448b6233d2f5d72be71b6bd857e19c6fc36","modified":1767316450987},{"_id":"public/archives/2019/08/index.html","hash":"14cb77cef97fdb9219136ac68721e9e16ee5f510","modified":1767316450987},{"_id":"public/archives/2019/11/index.html","hash":"d7573ae96274d634dc8dd4ab739c423428196db0","modified":1767316450987},{"_id":"public/archives/2020/05/index.html","hash":"0e18b4fafc2172203136f17afea03091ea31c33d","modified":1767316450987},{"_id":"public/archives/2020/index.html","hash":"e0c160610db7e8a7c99c4c5755bc598b8e885c29","modified":1767316450987},{"_id":"public/index.html","hash":"ac51b693c171b308a1dc54914342fb2c0ed71f1a","modified":1767316450987},{"_id":"public/archives/2021/index.html","hash":"a11da3a044de7e5df5c0f7ab250ac4fb9b12669a","modified":1767316450987},{"_id":"public/page/2/index.html","hash":"e48d0ad325e2ef89f362be610284ef1796bcd2a8","modified":1767316450987},{"_id":"public/archives/2021/08/index.html","hash":"888f484f7c7d282d5fa45f995324124a1220849b","modified":1767316450987},{"_id":"public/archives/2021/09/index.html","hash":"c62fd7d69714fb5ee1f2e1101ca6ca90e09e2a15","modified":1767316450987},{"_id":"public/page/3/index.html","hash":"dbb694cf53b1574ce6188f2d1d734cd4e421fbbe","modified":1767316450987},{"_id":"public/categories/web/index.html","hash":"5341f7b31233b2548f8905d06bfc1c83261afa26","modified":1767316450987},{"_id":"public/categories/web/page/2/index.html","hash":"f6ba5db3b7fc1c0fe4a1eef2beb54504c8d54e5a","modified":1767316450987},{"_id":"public/categories//index.html","hash":"2d8647ef2f4f6231c9441d9ab0625c6080dfa0b5","modified":1767316450987},{"_id":"public/categories//index.html","hash":"9293798cb1db96197dbef5d7034c554ac66ada22","modified":1767316450987},{"_id":"public/categories//index.html","hash":"684854bcd0de072ec1bb0101b3c39d2f281f4951","modified":1767316450987},{"_id":"public/categories/hexo/index.html","hash":"1593d4c20fbcf20d9faf7ea72fb2b44a7bfab8f7","modified":1767316450987},{"_id":"public/tags/-7/index.html","hash":"fa796f57c9cb876677c9a3845ec1c23834626ee7","modified":1767316450987},{"_id":"public/tags//index.html","hash":"1437c042ec9f34937f037ca7b2ea6c0c8ad05cfb","modified":1767316450987},{"_id":"public/tags//index.html","hash":"c2a9bff5f270dd390008a6f497fa9aef24806b24","modified":1767316450987},{"_id":"public/tags/npm/index.html","hash":"d8a72d4d03fec1d4ce0780a10d9f898f1209d04e","modified":1767316450987},{"_id":"public/tags/call--apply-/index.html","hash":"89b643cbf02a2b90ad78a7f4d6907be82ae8d614","modified":1767316450987},{"_id":"public/tags//index.html","hash":"174870f383019ca28911455afc7b79eb3979714a","modified":1767316450987},{"_id":"public/tags/CommonJS-AMD-CMD/index.html","hash":"4ecfd09c095a4625d7f4c525c3ed3cd870305f79","modified":1767316450987},{"_id":"public/tags/3/index.html","hash":"ddc00f6246e418bec8fed165d8b5423468326dd9","modified":1767316450987},{"_id":"public/tags/JavaScriptEmoji-/index.html","hash":"5f8b2a32c3eb7789d963d76fe930aeb39fc52632","modified":1767316450987},{"_id":"public/tags/gulpwebpack/index.html","hash":"ed1a56c2ae8fcc5792a2998ad3de7633fb4941b9","modified":1767316450987},{"_id":"public/tags/hexo/index.html","hash":"497885181b0cc8ada8f3f056cee46f66aae11f3b","modified":1767316450987},{"_id":"public/tags/screenX-screenY/index.html","hash":"2fddb827f41089de4fa34aa29ad5895b7ac615d6","modified":1767316450987},{"_id":"public/tags/clientX-slientY/index.html","hash":"f418b7cda62ca7b50cb2c3abe3e214a374821565","modified":1767316450987},{"_id":"public/tags/offsetX-offsetY/index.html","hash":"a26d7a6a5d778156421d39a2f284d1276de68bbc","modified":1767316450987},{"_id":"public/tags/nodejs/index.html","hash":"57a5b89b1352a3aa819e0c16a56120af16445e47","modified":1767316450987},{"_id":"public/tags/hexo/index.html","hash":"dd801e3809cf8f0d30e065a92e2646f954dfbd19","modified":1767316450987},{"_id":"public/tags/nexT/index.html","hash":"af1821fccda8f7dbab8c0588366b044b7cf5dbe5","modified":1767316450987},{"_id":"public/tags//index.html","hash":"dbe8bb3e223809e30e24745bb0aae737783fbc8a","modified":1767316450987},{"_id":"public/tags/nextloadding/index.html","hash":"5a3dafe859377b43a4002029b90a695b2be04735","modified":1767316450987},{"_id":"public/tags/Promise/index.html","hash":"f0af0e604e46adea8d1ea4c186838c3c6a91b7e8","modified":1767316450987},{"_id":"public/tags/slot/index.html","hash":"6e622fa1c8bbe32c7bab571128ad3a3a3262514f","modified":1767316450987},{"_id":"public/tags/vuediff/index.html","hash":"d82332b9c6cf49cb1bd1865b1f294fea902b0ed5","modified":1767316450987},{"_id":"public/tags/Vue-router/index.html","hash":"746b182704ba5d4a7aa2ddd450fc57b47ba403c5","modified":1767316450987},{"_id":"public/tags/Vue-js-/index.html","hash":"1b5874fb22793771e826135e009e25dc06220328","modified":1767316450987},{"_id":"public/tags/patch/index.html","hash":"6a859fa8af3989b8eb0f5a2fc4eb9bdc3fb5bcea","modified":1767316450987},{"_id":"public/tags/render-function/index.html","hash":"cdc0fa6fbe8d55c7e959232339f58ffe4af8e55b","modified":1767316450987},{"_id":"public/tags/diff/index.html","hash":"e594e00d8e77f4b2a484308f095cb79e3aa6332b","modified":1767316450987},{"_id":"public/tags/vue-emit-on-once-off/index.html","hash":"17b7088efa676d16697f452d9dfa58c28b049f17","modified":1767316450987},{"_id":"public/tags/vuefunctionnal/index.html","hash":"26a42b0ed897f27746094e8ef30c26fe6825b30d","modified":1767316450987},{"_id":"public/tags/Vue/index.html","hash":"358a2d2a702677879fd116d4c2e644080b7fcabb","modified":1767316450987},{"_id":"public/tags/-VueinheritAttrs-attrs-listeners/index.html","hash":"33f094d79f97905ea1d206175aee70f53a5dbcdc","modified":1767316450987},{"_id":"public/tags/webpack4/index.html","hash":"1405d3d2e3ca06d1d41fbc54ed7e217d74c41864","modified":1767316450987},{"_id":"public/img/7579449-a8a0b3970380eeeb.webp","hash":"4ab2f71cfe2ee898c8700b9e5215615ebbfe14b0","modified":1767316450987},{"_id":"public/img/7579449-9b4f591d793547b6.webp","hash":"d5f60d7386872646d35798f2c24a4a517b2a804f","modified":1767316450987},{"_id":"public/img/7579449-b2ab8dfe80fe828d.webp","hash":"88a4480ff989f912298f8bf735512a758f81de93","modified":1767316450987},{"_id":"public/img/callAndapply.jpg","hash":"7019ef22aa89dec5fe21c7d85599707a0e4a9dc1","modified":1767316450987},{"_id":"public/img/curious.jpg","hash":"4e9569ac72ed4099f9a8a00e9986a45440f376e7","modified":1767316450987},{"_id":"public/img/inheritAttrs2.webp","hash":"913203670746b751c53f9e5aa90a8a3d98bdc264","modified":1767316450987},{"_id":"public/img/inheritAttrs1.webp","hash":"4af151162e8888bbfe337a2683a983a4da82e903","modified":1767316450987},{"_id":"public/img/inheritAttrs3.webp","hash":"19e6c33a334f83ac08c791063a3c91a4cd3055ff","modified":1767316450987},{"_id":"public/img/location.jpeg","hash":"2874b3e15ea1abcec19bf1bc7020a31fee71cfd8","modified":1767316450987},{"_id":"public/img/lazyload.gif","hash":"b66fc917fcf1a46d531c9639ec8dde80c3838787","modified":1767316450987},{"_id":"public/img/vuejs3.png","hash":"166ebe833436ce7c405bceef24eda1ce3fc7d56d","modified":1767316450987},{"_id":"public/img/urlimg.png","hash":"c75226d4b3ea485206e09db8d68e84a55db4434c","modified":1767316450987},{"_id":"public/img/vuejs2.png","hash":"dfc2f047d2a358cbb65915418d98de18f6a20cef","modified":1767316450987},{"_id":"public/img/vuejs5.png","hash":"f48bedd65628b5ff4e494502a8e5b962991cfddb","modified":1767316450987},{"_id":"public/img/dom.png","hash":"d15b6330a3225cb3c055e0e0357edc5438f97b34","modified":1767316450987},{"_id":"public/img/vuejs6.png","hash":"c5fff1d55e5b16b5b5ea43006cd203921809ced7","modified":1767316450987},{"_id":"public/img/dom1.png","hash":"9f12672e2ac91aa72211ef3e3f1cae90f27a38dd","modified":1767316450987},{"_id":"public/img/github-pages.png","hash":"a886628ff8fd3e51080f6272f93857dd25301bd3","modified":1767316450987},{"_id":"public/img/libuv.png","hash":"2a1787a687f6b18d57c1244339337b57297e0eec","modified":1767316450987},{"_id":"public/img/slot.jpeg","hash":"e1aa14e832eb2f04b2c33619bbe0552d5dbbb254","modified":1767316450987},{"_id":"public/img/sameVnode.png","hash":"9ce03a5c5f53d34fa1a4552b98ea24cd12756f53","modified":1767316450987},{"_id":"public/img/updateChildren.png","hash":"468e6c6cb19c9fd057d3fa67c212c1b4a1144b2a","modified":1767316450987},{"_id":"public/img/vuejs4.png","hash":"80076921c69eeb7a288fec82292cb91ca527cfc7","modified":1767316450987},{"_id":"public/img/functionnal.gif","hash":"626f962cbab56fd66586ef162ec9b1fc093ad461","modified":1767316450987},{"_id":"public/img/vuejs7.png","hash":"f140452a07d00675edb7f89f91f0522b3d93bfba","modified":1767316450987},{"_id":"public/img/Garbled.png","hash":"c200754d68171ec372c4aa0c43fbe5660f01d0ce","modified":1767316450987},{"_id":"public/img/diff-diagram.png","hash":"bf4ab0f2da34703ff636e5dd0e023f3382977143","modified":1767316450987},{"_id":"public/img/diff.png","hash":"18e556ec4ed301bc00e428501218cda5029245db","modified":1767316450987},{"_id":"public/img/jy.png","hash":"8e0433380fd921567d13efed00660952a79fac48","modified":1767316450987},{"_id":"public/img/ownership.png","hash":"13849bf1bcac05a63a744bbffc48e4d721c2c26f","modified":1767316450987},{"_id":"public/img/nerve1.png","hash":"eeb77b5d3ac2a74646ad072c2c34688b300580ef","modified":1767316450987},{"_id":"public/img/ownership1.png","hash":"d8cbda4930ae6407be37956c05ecdf3efe0fd758","modified":1767316450987},{"_id":"public/img/nerve.png","hash":"733fd8fee312c1ecfe5be5d63f554de7ac271d5a","modified":1767316450987},{"_id":"public/img/blockchain-basic-core.png","hash":"21527b978dc583e76ef61019e374df99ed06ef58","modified":1767316450987},{"_id":"source/categories/index.md","hash":"dec743b743e681dff87d842b7184212171db0d55","modified":1767161262351},{"_id":"source/tags/index.md","hash":"517f7f30f699cd482a204caa52b2f7249e11b9dd","modified":1767161262401}],"Category":[{"name":"web","_id":"cmjw5hvsh0001w0tg6vr888gd"},{"name":"","_id":"cmjw5ipnu0009w0tgcgk403ou"},{"name":"","_id":"cmjw5ipoc000ew0tggc4lb3gh"},{"name":"","_id":"cmjw5ipp8000xw0tg7kcu0uqb"},{"name":"hexo","_id":"cmjw5ipqs001cw0tg99ynehq8"}],"Data":[],"Page":[{"date":"2017-05-27T05:47:40.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ndate: 2017-05-27 13:47:40\ntype: \"categories\"   #\n---\n","updated":"2025-12-31T06:07:42.351Z","path":"categories/index.html","_id":"cmjwawkax00003ktg9n54fhjn","title":"","comments":1,"layout":"page","content":"","excerpt":"","more":""},{"date":"2018-08-06T14:48:29.000Z","type":"tags","_content":"\n","source":"tags/index.md","raw":"---\ndate: 2018-08-06 22:48:29\ntype: 'tags'              \n---\n\n","updated":"2025-12-31T06:07:42.401Z","path":"tags/index.html","_id":"cmjwawqql00013ktgcgo790be","title":"","comments":1,"layout":"page","content":"","excerpt":"","more":""}],"Post":[{"title":",7","date":"2021-09-01T00:26:58.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} ,7 {% endcq %}\n\n<!--more-->\n#### WebSocket\n    \n\n    ```javascript\n        const WebSocket = require('ws');\n\n        const server = new WebSocket.Server({\n        port: 8080\n        });\n\n        server.on('open', function open() {\n        console.log('connected');\n        });\n\n        server.on('close', function close() {\n        console.log('disconnected');\n        });\n\n        server.on('connection', function connection(ws, req) {\n        const ip = req.connection.remoteAddress;\n        const port = req.connection.remotePort;\n        const clientName = ip + port;\n\n        console.log('%s is connected', clientName)\n\n        // \n        ws.send(\"Welcome \" + clientName);\n\n        ws.on('message', function incoming(message) {\n            console.log('received: %s from %s', message, clientName);\n\n            // \n            server.clients.forEach(function each(client) {\n            if (client.readyState === WebSocket.OPEN) {\n                client.send(clientName + \" -> \" + message);\n            }\n            });\n\n        });\n\n        });\n    ```\n\n    ```javascript\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>WebSocket Chat</title>\n        </head>\n        <body>\n            <script type=\"text/javascript\">\n                var socket;\n                if (!window.WebSocket) {\n                    window.WebSocket = window.MozWebSocket;\n                }\n                if (window.WebSocket) {\n                    socket = new WebSocket(\"ws://localhost:8080/ws\");\n                    socket.onmessage = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + '\\n' + event.data\n                    };\n                    socket.onopen = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = \"!\";\n                    };\n                    socket.onclose = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + \"\";\n                    };\n                } else {\n                    alert(\" WebSocket\");\n                }\n\n                function send(message) {\n                    if (!window.WebSocket) {\n                        return;\n                    }\n                    if (socket.readyState == WebSocket.OPEN) {\n                        socket.send(message);\n                    } else {\n                        alert(\".\");\n                    }\n                }\n            </script>\n            <form onsubmit=\"return false;\">\n                <h3>WebSocket </h3>\n                <textarea id=\"responseText\" style=\"width: 500px; height: 300px;\"></textarea>\n                <br>\n                <input type=\"text\" name=\"message\" style=\"width: 300px\" value=\"\">\n                <input type=\"button\" value=\"\" onclick=\"send(this.form.message.value)\">\n                <input type=\"button\" onclick=\"javascript:document.getElementById('responseText').value=''\" value=\"\">\n            </form>\n        </body>\n        </html>\n    ```\n####  + \n\n#### postMessage\n\n#### StorageEvent\n    page1\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n\n    ```\n    page2\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n    ```\n#### BroadcastChannel\n    page1\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.postMessage('Hello, BroadcastChannel!')\n    ```\n    page2\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.addEventListener(\"message\", function(ev) {\n            console.log(ev.data)\n        });\n    ```\n#### SharedWorker\n>  `chrome://inspectshared workersworkerinspectlog\n>  SharedWorker host \n    worker.js\n    ```javascript\n        var portList = [];\n\n        onconnect = function(e) {\n            console.log('e', e)\n            var port = e.ports[0];\n            ensurePorts(port);\n            port.onmessage = function(e) {\n                var data = e.data;\n                disptach(port, data);\n            };\n            port.start();\n        };\n        // workder\n        function ensurePorts(port) {\n            if (portList.indexOf(port) < 0) {\n                portList.push(port);\n            }\n        }\n        // \n        function disptach(selfPort, data) {\n            console.log('portList', portList)\n            console.log('selfPort', selfPort)\n            console.log('data', data)\n            portList\n                .filter(port => selfPort !== port)\n                .forEach(port => port.postMessage(data));\n        }\n    ```\n    page1\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 1</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n                // \n                myWorker.port.onmessage = function(e) {\n                console.log('page1', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n                // \n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 1\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n    page2\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 2</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n\n                myWorker.port.onmessage = function(e) {\n                console.log('page2', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n\n                var message = messageEl.value;\n\n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 2\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n#### MessageChannel","source":"_posts/-7.md","raw":"---\ntitle: ',7'\ndate: 2021-09-01 08:26:58\ncategories: web\ntags: [',7']\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} ,7 {% endcq %}\n\n<!--more-->\n#### WebSocket\n    \n\n    ```javascript\n        const WebSocket = require('ws');\n\n        const server = new WebSocket.Server({\n        port: 8080\n        });\n\n        server.on('open', function open() {\n        console.log('connected');\n        });\n\n        server.on('close', function close() {\n        console.log('disconnected');\n        });\n\n        server.on('connection', function connection(ws, req) {\n        const ip = req.connection.remoteAddress;\n        const port = req.connection.remotePort;\n        const clientName = ip + port;\n\n        console.log('%s is connected', clientName)\n\n        // \n        ws.send(\"Welcome \" + clientName);\n\n        ws.on('message', function incoming(message) {\n            console.log('received: %s from %s', message, clientName);\n\n            // \n            server.clients.forEach(function each(client) {\n            if (client.readyState === WebSocket.OPEN) {\n                client.send(clientName + \" -> \" + message);\n            }\n            });\n\n        });\n\n        });\n    ```\n\n    ```javascript\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>WebSocket Chat</title>\n        </head>\n        <body>\n            <script type=\"text/javascript\">\n                var socket;\n                if (!window.WebSocket) {\n                    window.WebSocket = window.MozWebSocket;\n                }\n                if (window.WebSocket) {\n                    socket = new WebSocket(\"ws://localhost:8080/ws\");\n                    socket.onmessage = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + '\\n' + event.data\n                    };\n                    socket.onopen = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = \"!\";\n                    };\n                    socket.onclose = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + \"\";\n                    };\n                } else {\n                    alert(\" WebSocket\");\n                }\n\n                function send(message) {\n                    if (!window.WebSocket) {\n                        return;\n                    }\n                    if (socket.readyState == WebSocket.OPEN) {\n                        socket.send(message);\n                    } else {\n                        alert(\".\");\n                    }\n                }\n            </script>\n            <form onsubmit=\"return false;\">\n                <h3>WebSocket </h3>\n                <textarea id=\"responseText\" style=\"width: 500px; height: 300px;\"></textarea>\n                <br>\n                <input type=\"text\" name=\"message\" style=\"width: 300px\" value=\"\">\n                <input type=\"button\" value=\"\" onclick=\"send(this.form.message.value)\">\n                <input type=\"button\" onclick=\"javascript:document.getElementById('responseText').value=''\" value=\"\">\n            </form>\n        </body>\n        </html>\n    ```\n####  + \n\n#### postMessage\n\n#### StorageEvent\n    page1\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n\n    ```\n    page2\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n    ```\n#### BroadcastChannel\n    page1\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.postMessage('Hello, BroadcastChannel!')\n    ```\n    page2\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.addEventListener(\"message\", function(ev) {\n            console.log(ev.data)\n        });\n    ```\n#### SharedWorker\n>  `chrome://inspectshared workersworkerinspectlog\n>  SharedWorker host \n    worker.js\n    ```javascript\n        var portList = [];\n\n        onconnect = function(e) {\n            console.log('e', e)\n            var port = e.ports[0];\n            ensurePorts(port);\n            port.onmessage = function(e) {\n                var data = e.data;\n                disptach(port, data);\n            };\n            port.start();\n        };\n        // workder\n        function ensurePorts(port) {\n            if (portList.indexOf(port) < 0) {\n                portList.push(port);\n            }\n        }\n        // \n        function disptach(selfPort, data) {\n            console.log('portList', portList)\n            console.log('selfPort', selfPort)\n            console.log('data', data)\n            portList\n                .filter(port => selfPort !== port)\n                .forEach(port => port.postMessage(data));\n        }\n    ```\n    page1\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 1</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n                // \n                myWorker.port.onmessage = function(e) {\n                console.log('page1', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n                // \n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 1\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n    page2\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 2</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n\n                myWorker.port.onmessage = function(e) {\n                console.log('page2', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n\n                var message = messageEl.value;\n\n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 2\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n#### MessageChannel","slug":"-7","published":1,"updated":"2026-01-02T00:43:17.578Z","_id":"cmjw5hvsf0000w0tg1jwicmyz","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>,7 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n\n<span id=\"more\"></span>\n<h4 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h4><pre><code>\n</code></pre>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> server = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>.<span class=\"title class_\">Server</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">port</span>: <span class=\"number\">8080</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;open&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">open</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;connected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;close&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;disconnected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">connection</span>(<span class=\"params\">ws, req</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ip = req.<span class=\"property\">connection</span>.<span class=\"property\">remoteAddress</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> port = req.<span class=\"property\">connection</span>.<span class=\"property\">remotePort</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> clientName = ip + port;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%s is connected&#x27;</span>, clientName)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(<span class=\"string\">&quot;Welcome &quot;</span> + clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">incoming</span>(<span class=\"params\">message</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;received: %s from %s&#x27;</span>, message, clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    server.<span class=\"property\">clients</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">each</span>(<span class=\"params\">client</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (client.<span class=\"property\">readyState</span> === <span class=\"title class_\">WebSocket</span>.<span class=\"property\">OPEN</span>) &#123;</span><br><span class=\"line\">        client.<span class=\"title function_\">send</span>(clientName + <span class=\"string\">&quot; -&gt; &quot;</span> + message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;WebSocket Chat&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">        var socket;</span><br><span class=\"line\">        if (!window.WebSocket) &#123;</span><br><span class=\"line\">            window.WebSocket = window.MozWebSocket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (window.WebSocket) &#123;</span><br><span class=\"line\">            socket = new WebSocket(&quot;ws://localhost:8080/ws&quot;);</span><br><span class=\"line\">            socket.onmessage = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &#x27;\\n&#x27; + event.data</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onopen = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = &quot;!&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onclose = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &quot;&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            alert(&quot; WebSocket&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function send(message) &#123;</span><br><span class=\"line\">            if (!window.WebSocket) &#123;</span><br><span class=\"line\">                return;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (socket.readyState == WebSocket.OPEN) &#123;</span><br><span class=\"line\">                socket.send(message);</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                alert(&quot;.&quot;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">    &lt;form onsubmit=&quot;return false;&quot;&gt;</span><br><span class=\"line\">        &lt;h3&gt;WebSocket &lt;/h3&gt;</span><br><span class=\"line\">        &lt;textarea id=&quot;responseText&quot; style=&quot;width: 500px; height: 300px;&quot;&gt;&lt;/textarea&gt;</span><br><span class=\"line\">        &lt;br&gt;</span><br><span class=\"line\">        &lt;input type=&quot;text&quot; name=&quot;message&quot; style=&quot;width: 300px&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; value=&quot;&quot; onclick=&quot;send(this.form.message.value)&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; onclick=&quot;javascript:document.getElementById(&#x27;responseText&#x27;).value=&#x27;&#x27;&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h4><h4 id=\"postMessage\"><a href=\"#postMessage\" class=\"headerlink\" title=\"postMessage\"></a>postMessage</h4><h4 id=\"StorageEvent\"><a href=\"#StorageEvent\" class=\"headerlink\" title=\"StorageEvent\"></a>StorageEvent</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"BroadcastChannel\"><a href=\"#BroadcastChannel\" class=\"headerlink\" title=\"BroadcastChannel\"></a>BroadcastChannel</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;Hello, BroadcastChannel!&#x27;</span>)</span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ev.<span class=\"property\">data</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"SharedWorker\"><a href=\"#SharedWorker\" class=\"headerlink\" title=\"SharedWorker\"></a>SharedWorker</h4><blockquote>\n<p> &#96;chrome:&#x2F;&#x2F;inspectshared workersworkerinspectlog<br> SharedWorker host <br>    worker.js<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> portList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">onconnect = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;e&#x27;</span>, e)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> port = e.<span class=\"property\">ports</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"title function_\">ensurePorts</span>(port);</span><br><span class=\"line\">    port.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span><br><span class=\"line\">        <span class=\"title function_\">disptach</span>(port, data);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    port.<span class=\"title function_\">start</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// workder</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ensurePorts</span>(<span class=\"params\">port</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (portList.<span class=\"title function_\">indexOf</span>(port) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        portList.<span class=\"title function_\">push</span>(port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">disptach</span>(<span class=\"params\">selfPort, data</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;portList&#x27;</span>, portList)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;selfPort&#x27;</span>, selfPort)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;data&#x27;</span>, data)</span><br><span class=\"line\">    portList</span><br><span class=\"line\">        .<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> selfPort !== port)</span><br><span class=\"line\">        .<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> port.<span class=\"title function_\">postMessage</span>(data));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>    page1<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 1<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page1&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 1&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>    page2<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 2<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page2&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 2&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"MessageChannel\"><a href=\"#MessageChannel\" class=\"headerlink\" title=\"MessageChannel\"></a>MessageChannel</h4>","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>,7 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h4 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h4><pre><code>\n</code></pre>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> server = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>.<span class=\"title class_\">Server</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">port</span>: <span class=\"number\">8080</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;open&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">open</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;connected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;close&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;disconnected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">connection</span>(<span class=\"params\">ws, req</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ip = req.<span class=\"property\">connection</span>.<span class=\"property\">remoteAddress</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> port = req.<span class=\"property\">connection</span>.<span class=\"property\">remotePort</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> clientName = ip + port;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%s is connected&#x27;</span>, clientName)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(<span class=\"string\">&quot;Welcome &quot;</span> + clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">incoming</span>(<span class=\"params\">message</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;received: %s from %s&#x27;</span>, message, clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    server.<span class=\"property\">clients</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">each</span>(<span class=\"params\">client</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (client.<span class=\"property\">readyState</span> === <span class=\"title class_\">WebSocket</span>.<span class=\"property\">OPEN</span>) &#123;</span><br><span class=\"line\">        client.<span class=\"title function_\">send</span>(clientName + <span class=\"string\">&quot; -&gt; &quot;</span> + message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;WebSocket Chat&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">        var socket;</span><br><span class=\"line\">        if (!window.WebSocket) &#123;</span><br><span class=\"line\">            window.WebSocket = window.MozWebSocket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (window.WebSocket) &#123;</span><br><span class=\"line\">            socket = new WebSocket(&quot;ws://localhost:8080/ws&quot;);</span><br><span class=\"line\">            socket.onmessage = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &#x27;\\n&#x27; + event.data</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onopen = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = &quot;!&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onclose = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &quot;&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            alert(&quot; WebSocket&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function send(message) &#123;</span><br><span class=\"line\">            if (!window.WebSocket) &#123;</span><br><span class=\"line\">                return;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (socket.readyState == WebSocket.OPEN) &#123;</span><br><span class=\"line\">                socket.send(message);</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                alert(&quot;.&quot;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">    &lt;form onsubmit=&quot;return false;&quot;&gt;</span><br><span class=\"line\">        &lt;h3&gt;WebSocket &lt;/h3&gt;</span><br><span class=\"line\">        &lt;textarea id=&quot;responseText&quot; style=&quot;width: 500px; height: 300px;&quot;&gt;&lt;/textarea&gt;</span><br><span class=\"line\">        &lt;br&gt;</span><br><span class=\"line\">        &lt;input type=&quot;text&quot; name=&quot;message&quot; style=&quot;width: 300px&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; value=&quot;&quot; onclick=&quot;send(this.form.message.value)&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; onclick=&quot;javascript:document.getElementById(&#x27;responseText&#x27;).value=&#x27;&#x27;&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h4><h4 id=\"postMessage\"><a href=\"#postMessage\" class=\"headerlink\" title=\"postMessage\"></a>postMessage</h4><h4 id=\"StorageEvent\"><a href=\"#StorageEvent\" class=\"headerlink\" title=\"StorageEvent\"></a>StorageEvent</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"BroadcastChannel\"><a href=\"#BroadcastChannel\" class=\"headerlink\" title=\"BroadcastChannel\"></a>BroadcastChannel</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;Hello, BroadcastChannel!&#x27;</span>)</span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ev.<span class=\"property\">data</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"SharedWorker\"><a href=\"#SharedWorker\" class=\"headerlink\" title=\"SharedWorker\"></a>SharedWorker</h4><blockquote>\n<p> &#96;chrome:&#x2F;&#x2F;inspectshared workersworkerinspectlog<br> SharedWorker host <br>    worker.js<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> portList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">onconnect = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;e&#x27;</span>, e)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> port = e.<span class=\"property\">ports</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"title function_\">ensurePorts</span>(port);</span><br><span class=\"line\">    port.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span><br><span class=\"line\">        <span class=\"title function_\">disptach</span>(port, data);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    port.<span class=\"title function_\">start</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// workder</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ensurePorts</span>(<span class=\"params\">port</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (portList.<span class=\"title function_\">indexOf</span>(port) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        portList.<span class=\"title function_\">push</span>(port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">disptach</span>(<span class=\"params\">selfPort, data</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;portList&#x27;</span>, portList)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;selfPort&#x27;</span>, selfPort)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;data&#x27;</span>, data)</span><br><span class=\"line\">    portList</span><br><span class=\"line\">        .<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> selfPort !== port)</span><br><span class=\"line\">        .<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> port.<span class=\"title function_\">postMessage</span>(data));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>    page1<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 1<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page1&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 1&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>    page2<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 2<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page2&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 2&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"MessageChannel\"><a href=\"#MessageChannel\" class=\"headerlink\" title=\"MessageChannel\"></a>MessageChannel</h4>"},{"title":",7","date":"2021-09-01T00:26:58.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} ,7 {% endcq %}\n\n<!--more-->\n#### WebSocket\n    \n\n    ```javascript\n        const WebSocket = require('ws');\n\n        const server = new WebSocket.Server({\n        port: 8080\n        });\n\n        server.on('open', function open() {\n        console.log('connected');\n        });\n\n        server.on('close', function close() {\n        console.log('disconnected');\n        });\n\n        server.on('connection', function connection(ws, req) {\n        const ip = req.connection.remoteAddress;\n        const port = req.connection.remotePort;\n        const clientName = ip + port;\n\n        console.log('%s is connected', clientName)\n\n        // \n        ws.send(\"Welcome \" + clientName);\n\n        ws.on('message', function incoming(message) {\n            console.log('received: %s from %s', message, clientName);\n\n            // \n            server.clients.forEach(function each(client) {\n            if (client.readyState === WebSocket.OPEN) {\n                client.send(clientName + \" -> \" + message);\n            }\n            });\n\n        });\n\n        });\n    ```\n\n    ```javascript\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>WebSocket Chat</title>\n        </head>\n        <body>\n            <script type=\"text/javascript\">\n                var socket;\n                if (!window.WebSocket) {\n                    window.WebSocket = window.MozWebSocket;\n                }\n                if (window.WebSocket) {\n                    socket = new WebSocket(\"ws://localhost:8080/ws\");\n                    socket.onmessage = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + '\\n' + event.data\n                    };\n                    socket.onopen = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = \"!\";\n                    };\n                    socket.onclose = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + \"\";\n                    };\n                } else {\n                    alert(\" WebSocket\");\n                }\n\n                function send(message) {\n                    if (!window.WebSocket) {\n                        return;\n                    }\n                    if (socket.readyState == WebSocket.OPEN) {\n                        socket.send(message);\n                    } else {\n                        alert(\".\");\n                    }\n                }\n            </script>\n            <form onsubmit=\"return false;\">\n                <h3>WebSocket </h3>\n                <textarea id=\"responseText\" style=\"width: 500px; height: 300px;\"></textarea>\n                <br>\n                <input type=\"text\" name=\"message\" style=\"width: 300px\" value=\"\">\n                <input type=\"button\" value=\"\" onclick=\"send(this.form.message.value)\">\n                <input type=\"button\" onclick=\"javascript:document.getElementById('responseText').value=''\" value=\"\">\n            </form>\n        </body>\n        </html>\n    ```\n####  + \n\n#### postMessage\n\n#### StorageEvent\n    page1\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n\n    ```\n    page2\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n    ```\n#### BroadcastChannel\n    page1\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.postMessage('Hello, BroadcastChannel!')\n    ```\n    page2\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.addEventListener(\"message\", function(ev) {\n            console.log(ev.data)\n        });\n    ```\n#### SharedWorker\n>  `chrome://inspectshared workersworkerinspectlog\n>  SharedWorker host \n    worker.js\n    ```javascript\n        var portList = [];\n\n        onconnect = function(e) {\n            console.log('e', e)\n            var port = e.ports[0];\n            ensurePorts(port);\n            port.onmessage = function(e) {\n                var data = e.data;\n                disptach(port, data);\n            };\n            port.start();\n        };\n        // workder\n        function ensurePorts(port) {\n            if (portList.indexOf(port) < 0) {\n                portList.push(port);\n            }\n        }\n        // \n        function disptach(selfPort, data) {\n            console.log('portList', portList)\n            console.log('selfPort', selfPort)\n            console.log('data', data)\n            portList\n                .filter(port => selfPort !== port)\n                .forEach(port => port.postMessage(data));\n        }\n    ```\n    page1\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 1</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n                // \n                myWorker.port.onmessage = function(e) {\n                console.log('page1', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n                // \n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 1\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n    page2\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 2</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n\n                myWorker.port.onmessage = function(e) {\n                console.log('page2', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n\n                var message = messageEl.value;\n\n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 2\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n#### MessageChannel","source":"_posts/-7 copy.md","raw":"---\ntitle: ',7'\ndate: 2021-09-01 08:26:58\ncategories: web\ntags: [',7']\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} ,7 {% endcq %}\n\n<!--more-->\n#### WebSocket\n    \n\n    ```javascript\n        const WebSocket = require('ws');\n\n        const server = new WebSocket.Server({\n        port: 8080\n        });\n\n        server.on('open', function open() {\n        console.log('connected');\n        });\n\n        server.on('close', function close() {\n        console.log('disconnected');\n        });\n\n        server.on('connection', function connection(ws, req) {\n        const ip = req.connection.remoteAddress;\n        const port = req.connection.remotePort;\n        const clientName = ip + port;\n\n        console.log('%s is connected', clientName)\n\n        // \n        ws.send(\"Welcome \" + clientName);\n\n        ws.on('message', function incoming(message) {\n            console.log('received: %s from %s', message, clientName);\n\n            // \n            server.clients.forEach(function each(client) {\n            if (client.readyState === WebSocket.OPEN) {\n                client.send(clientName + \" -> \" + message);\n            }\n            });\n\n        });\n\n        });\n    ```\n\n    ```javascript\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>WebSocket Chat</title>\n        </head>\n        <body>\n            <script type=\"text/javascript\">\n                var socket;\n                if (!window.WebSocket) {\n                    window.WebSocket = window.MozWebSocket;\n                }\n                if (window.WebSocket) {\n                    socket = new WebSocket(\"ws://localhost:8080/ws\");\n                    socket.onmessage = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + '\\n' + event.data\n                    };\n                    socket.onopen = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = \"!\";\n                    };\n                    socket.onclose = function (event) {\n                        var ta = document.getElementById('responseText');\n                        ta.value = ta.value + \"\";\n                    };\n                } else {\n                    alert(\" WebSocket\");\n                }\n\n                function send(message) {\n                    if (!window.WebSocket) {\n                        return;\n                    }\n                    if (socket.readyState == WebSocket.OPEN) {\n                        socket.send(message);\n                    } else {\n                        alert(\".\");\n                    }\n                }\n            </script>\n            <form onsubmit=\"return false;\">\n                <h3>WebSocket </h3>\n                <textarea id=\"responseText\" style=\"width: 500px; height: 300px;\"></textarea>\n                <br>\n                <input type=\"text\" name=\"message\" style=\"width: 300px\" value=\"\">\n                <input type=\"button\" value=\"\" onclick=\"send(this.form.message.value)\">\n                <input type=\"button\" onclick=\"javascript:document.getElementById('responseText').value=''\" value=\"\">\n            </form>\n        </body>\n        </html>\n    ```\n####  + \n\n#### postMessage\n\n#### StorageEvent\n    page1\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n\n    ```\n    page2\n    ```javascript\n        localStorage.setItem('message',JSON.stringify({\n            message: ''\n            from: 'Page 1',\n            date: Date.now()\n        }))\n    ```\n#### BroadcastChannel\n    page1\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.postMessage('Hello, BroadcastChannel!')\n    ```\n    page2\n    ```javascript\n        var channel = new BroadcastChannel(\"channel-BroadcastChannel\");\n        channel.addEventListener(\"message\", function(ev) {\n            console.log(ev.data)\n        });\n    ```\n#### SharedWorker\n>  `chrome://inspectshared workersworkerinspectlog\n>  SharedWorker host \n    worker.js\n    ```javascript\n        var portList = [];\n\n        onconnect = function(e) {\n            console.log('e', e)\n            var port = e.ports[0];\n            ensurePorts(port);\n            port.onmessage = function(e) {\n                var data = e.data;\n                disptach(port, data);\n            };\n            port.start();\n        };\n        // workder\n        function ensurePorts(port) {\n            if (portList.indexOf(port) < 0) {\n                portList.push(port);\n            }\n        }\n        // \n        function disptach(selfPort, data) {\n            console.log('portList', portList)\n            console.log('selfPort', selfPort)\n            console.log('data', data)\n            portList\n                .filter(port => selfPort !== port)\n                .forEach(port => port.postMessage(data));\n        }\n    ```\n    page1\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 1</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n                // \n                myWorker.port.onmessage = function(e) {\n                console.log('page1', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n                // \n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 1\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n    page2\n    ```javascript\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n            <title>BroadcastChannel Page 1</title>\n        </head>\n        <body>\n            <h3>Page 2</h3>\n            <section style=\"margin-top:50px; text-align: center\">\n            <input id=\"inputMessage\" value=\"page 1\" />\n            <input type=\"button\" value=\"\" id=\"btnSend\" />\n            <section id=\"messages\">\n                <p></p>\n            </section>\n            </section>\n\n            <script src=\"./worker.js\"></script>\n            <script>\n            var messagesEle = document.getElementById(\"messages\");\n            var messageEl = document.getElementById(\"inputMessage\");\n            var btnSend = document.getElementById(\"btnSend\");\n            //\n\n            if (!window.SharedWorker) {\n                alert(\"SharedWorkder!\");\n            } else {\n                var myWorker = new SharedWorker(\"./worker.js\");\n\n                myWorker.port.onmessage = function(e) {\n                console.log('page2', e)\n                var msgEl = document.createElement(\"p\");\n                var data = e.data;\n                msgEl.innerText = data.date + \" \" + data.from + \":\" + data.message;\n                messagesEle.appendChild(msgEl);\n                };\n\n                btnSend.addEventListener(\"click\", function() {\n                var message = messageEl.value;\n\n                var message = messageEl.value;\n\n                myWorker.port.postMessage({\n                    date: new Date().toLocaleString(),\n                    message,\n                    from: \"page 2\"\n                });\n                });\n\n                myWorker.port.start();\n            }\n            </script>\n        </body>\n        </html>\n    ```\n#### MessageChannel","slug":"-7 copy","published":1,"updated":"2026-01-02T00:43:17.578Z","_id":"cmjw5ipng0005w0tge1ua0mrv","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>,7 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n\n<span id=\"more\"></span>\n<h4 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h4><pre><code>\n</code></pre>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> server = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>.<span class=\"title class_\">Server</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">port</span>: <span class=\"number\">8080</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;open&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">open</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;connected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;close&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;disconnected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">connection</span>(<span class=\"params\">ws, req</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ip = req.<span class=\"property\">connection</span>.<span class=\"property\">remoteAddress</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> port = req.<span class=\"property\">connection</span>.<span class=\"property\">remotePort</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> clientName = ip + port;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%s is connected&#x27;</span>, clientName)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(<span class=\"string\">&quot;Welcome &quot;</span> + clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">incoming</span>(<span class=\"params\">message</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;received: %s from %s&#x27;</span>, message, clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    server.<span class=\"property\">clients</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">each</span>(<span class=\"params\">client</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (client.<span class=\"property\">readyState</span> === <span class=\"title class_\">WebSocket</span>.<span class=\"property\">OPEN</span>) &#123;</span><br><span class=\"line\">        client.<span class=\"title function_\">send</span>(clientName + <span class=\"string\">&quot; -&gt; &quot;</span> + message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;WebSocket Chat&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">        var socket;</span><br><span class=\"line\">        if (!window.WebSocket) &#123;</span><br><span class=\"line\">            window.WebSocket = window.MozWebSocket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (window.WebSocket) &#123;</span><br><span class=\"line\">            socket = new WebSocket(&quot;ws://localhost:8080/ws&quot;);</span><br><span class=\"line\">            socket.onmessage = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &#x27;\\n&#x27; + event.data</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onopen = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = &quot;!&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onclose = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &quot;&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            alert(&quot; WebSocket&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function send(message) &#123;</span><br><span class=\"line\">            if (!window.WebSocket) &#123;</span><br><span class=\"line\">                return;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (socket.readyState == WebSocket.OPEN) &#123;</span><br><span class=\"line\">                socket.send(message);</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                alert(&quot;.&quot;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">    &lt;form onsubmit=&quot;return false;&quot;&gt;</span><br><span class=\"line\">        &lt;h3&gt;WebSocket &lt;/h3&gt;</span><br><span class=\"line\">        &lt;textarea id=&quot;responseText&quot; style=&quot;width: 500px; height: 300px;&quot;&gt;&lt;/textarea&gt;</span><br><span class=\"line\">        &lt;br&gt;</span><br><span class=\"line\">        &lt;input type=&quot;text&quot; name=&quot;message&quot; style=&quot;width: 300px&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; value=&quot;&quot; onclick=&quot;send(this.form.message.value)&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; onclick=&quot;javascript:document.getElementById(&#x27;responseText&#x27;).value=&#x27;&#x27;&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h4><h4 id=\"postMessage\"><a href=\"#postMessage\" class=\"headerlink\" title=\"postMessage\"></a>postMessage</h4><h4 id=\"StorageEvent\"><a href=\"#StorageEvent\" class=\"headerlink\" title=\"StorageEvent\"></a>StorageEvent</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"BroadcastChannel\"><a href=\"#BroadcastChannel\" class=\"headerlink\" title=\"BroadcastChannel\"></a>BroadcastChannel</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;Hello, BroadcastChannel!&#x27;</span>)</span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ev.<span class=\"property\">data</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"SharedWorker\"><a href=\"#SharedWorker\" class=\"headerlink\" title=\"SharedWorker\"></a>SharedWorker</h4><blockquote>\n<p> &#96;chrome:&#x2F;&#x2F;inspectshared workersworkerinspectlog<br> SharedWorker host <br>    worker.js<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> portList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">onconnect = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;e&#x27;</span>, e)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> port = e.<span class=\"property\">ports</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"title function_\">ensurePorts</span>(port);</span><br><span class=\"line\">    port.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span><br><span class=\"line\">        <span class=\"title function_\">disptach</span>(port, data);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    port.<span class=\"title function_\">start</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// workder</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ensurePorts</span>(<span class=\"params\">port</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (portList.<span class=\"title function_\">indexOf</span>(port) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        portList.<span class=\"title function_\">push</span>(port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">disptach</span>(<span class=\"params\">selfPort, data</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;portList&#x27;</span>, portList)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;selfPort&#x27;</span>, selfPort)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;data&#x27;</span>, data)</span><br><span class=\"line\">    portList</span><br><span class=\"line\">        .<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> selfPort !== port)</span><br><span class=\"line\">        .<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> port.<span class=\"title function_\">postMessage</span>(data));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>    page1<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 1<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page1&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 1&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>    page2<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 2<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page2&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 2&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"MessageChannel\"><a href=\"#MessageChannel\" class=\"headerlink\" title=\"MessageChannel\"></a>MessageChannel</h4>","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>,7 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h4 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h4><pre><code>\n</code></pre>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> server = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>.<span class=\"title class_\">Server</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">port</span>: <span class=\"number\">8080</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;open&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">open</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;connected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;close&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">close</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;disconnected&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">connection</span>(<span class=\"params\">ws, req</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ip = req.<span class=\"property\">connection</span>.<span class=\"property\">remoteAddress</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> port = req.<span class=\"property\">connection</span>.<span class=\"property\">remotePort</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> clientName = ip + port;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;%s is connected&#x27;</span>, clientName)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(<span class=\"string\">&quot;Welcome &quot;</span> + clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> <span class=\"title function_\">incoming</span>(<span class=\"params\">message</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;received: %s from %s&#x27;</span>, message, clientName);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    server.<span class=\"property\">clients</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> <span class=\"title function_\">each</span>(<span class=\"params\">client</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (client.<span class=\"property\">readyState</span> === <span class=\"title class_\">WebSocket</span>.<span class=\"property\">OPEN</span>) &#123;</span><br><span class=\"line\">        client.<span class=\"title function_\">send</span>(clientName + <span class=\"string\">&quot; -&gt; &quot;</span> + message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><br><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;WebSocket Chat&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">        var socket;</span><br><span class=\"line\">        if (!window.WebSocket) &#123;</span><br><span class=\"line\">            window.WebSocket = window.MozWebSocket;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (window.WebSocket) &#123;</span><br><span class=\"line\">            socket = new WebSocket(&quot;ws://localhost:8080/ws&quot;);</span><br><span class=\"line\">            socket.onmessage = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &#x27;\\n&#x27; + event.data</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onopen = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = &quot;!&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            socket.onclose = function (event) &#123;</span><br><span class=\"line\">                var ta = document.getElementById(&#x27;responseText&#x27;);</span><br><span class=\"line\">                ta.value = ta.value + &quot;&quot;;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            alert(&quot; WebSocket&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function send(message) &#123;</span><br><span class=\"line\">            if (!window.WebSocket) &#123;</span><br><span class=\"line\">                return;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            if (socket.readyState == WebSocket.OPEN) &#123;</span><br><span class=\"line\">                socket.send(message);</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                alert(&quot;.&quot;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">    &lt;form onsubmit=&quot;return false;&quot;&gt;</span><br><span class=\"line\">        &lt;h3&gt;WebSocket &lt;/h3&gt;</span><br><span class=\"line\">        &lt;textarea id=&quot;responseText&quot; style=&quot;width: 500px; height: 300px;&quot;&gt;&lt;/textarea&gt;</span><br><span class=\"line\">        &lt;br&gt;</span><br><span class=\"line\">        &lt;input type=&quot;text&quot; name=&quot;message&quot; style=&quot;width: 300px&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; value=&quot;&quot; onclick=&quot;send(this.form.message.value)&quot;&gt;</span><br><span class=\"line\">        &lt;input type=&quot;button&quot; onclick=&quot;javascript:document.getElementById(&#x27;responseText&#x27;).value=&#x27;&#x27;&quot; value=&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h4><h4 id=\"postMessage\"><a href=\"#postMessage\" class=\"headerlink\" title=\"postMessage\"></a>postMessage</h4><h4 id=\"StorageEvent\"><a href=\"#StorageEvent\" class=\"headerlink\" title=\"StorageEvent\"></a>StorageEvent</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;message&#x27;</span>,<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">from</span>: <span class=\"string\">&#x27;Page 1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">date</span>: <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"BroadcastChannel\"><a href=\"#BroadcastChannel\" class=\"headerlink\" title=\"BroadcastChannel\"></a>BroadcastChannel</h4><pre><code>page1\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;Hello, BroadcastChannel!&#x27;</span>)</span><br></pre></td></tr></table></figure>\npage2\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> channel = <span class=\"keyword\">new</span> <span class=\"title class_\">BroadcastChannel</span>(<span class=\"string\">&quot;channel-BroadcastChannel&quot;</span>);</span><br><span class=\"line\">channel.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ev.<span class=\"property\">data</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</code></pre>\n<h4 id=\"SharedWorker\"><a href=\"#SharedWorker\" class=\"headerlink\" title=\"SharedWorker\"></a>SharedWorker</h4><blockquote>\n<p> &#96;chrome:&#x2F;&#x2F;inspectshared workersworkerinspectlog<br> SharedWorker host <br>    worker.js<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> portList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">onconnect = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;e&#x27;</span>, e)</span><br><span class=\"line\">    <span class=\"keyword\">var</span> port = e.<span class=\"property\">ports</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"title function_\">ensurePorts</span>(port);</span><br><span class=\"line\">    port.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span><br><span class=\"line\">        <span class=\"title function_\">disptach</span>(port, data);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    port.<span class=\"title function_\">start</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// workder</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ensurePorts</span>(<span class=\"params\">port</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (portList.<span class=\"title function_\">indexOf</span>(port) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        portList.<span class=\"title function_\">push</span>(port);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">disptach</span>(<span class=\"params\">selfPort, data</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;portList&#x27;</span>, portList)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;selfPort&#x27;</span>, selfPort)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;data&#x27;</span>, data)</span><br><span class=\"line\">    portList</span><br><span class=\"line\">        .<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> selfPort !== port)</span><br><span class=\"line\">        .<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">port</span> =&gt;</span> port.<span class=\"title function_\">postMessage</span>(data));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>    page1<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 1<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page1&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 1&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>    page2<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!<span class=\"variable constant_\">DOCTYPE</span> html&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>BroadcastChannel Page 1<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>Page 2<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-top:50px; text-align: center&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;inputMessage&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;page 1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;btnSend&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;messages&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./worker.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messagesEle = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;messages&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> messageEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;inputMessage&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">var</span> btnSend = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btnSend&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"comment\">//</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (!<span class=\"variable language_\">window</span>.<span class=\"property\">SharedWorker</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;SharedWorkder!&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> myWorker = <span class=\"keyword\">new</span> <span class=\"title class_\">SharedWorker</span>(<span class=\"string\">&quot;./worker.js&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;page2&#x27;</span>, e)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> msgEl = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = e.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        msgEl.<span class=\"property\">innerText</span> = data.<span class=\"property\">date</span> + <span class=\"string\">&quot; &quot;</span> + data.<span class=\"property\">from</span> + <span class=\"string\">&quot;:&quot;</span> + data.<span class=\"property\">message</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        messagesEle.<span class=\"title function_\">appendChild</span>(msgEl);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        btnSend.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> message = messageEl.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">postMessage</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">date</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">toLocaleString</span>(),</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            message,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">from</span>: <span class=\"string\">&quot;page 2&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        myWorker.<span class=\"property\">port</span>.<span class=\"title function_\">start</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"MessageChannel\"><a href=\"#MessageChannel\" class=\"headerlink\" title=\"MessageChannel\"></a>MessageChannel</h4>"},{"title":"","date":"2019-02-03T13:28:21.000Z","copyright":null,"keywords":null,"description":null,"_content":"{%cq%}{%endcq%}\n5G\n<!--more-->\n\n* [](https://v.youku.com/v_show/id_XMzk5Mzk3MjI4OA==.html?spm=a2h0j.11185381.listitem_page1.5!6~A&&s=6e782defbfbd0d4e11ef)\n\n* [](https://www.imooc.com/video/17059)\n\n* [](https://www.imooc.com/video/17549)\n\n* [](https://github.com/ethereum/go-ethereum) EthereumEtherEthereum Virtual Machine\n\n\n## \n\n*  ****\n*  ****\n* \n\n## \n\n //hash\n\n## \n\n    <img src=\"/img/ownership.png\">\n    <img src=\"/img/ownership1.png\">\nhashBase58,,\n\n## go\n<img src=\"/img/blockchain-basic-core.png\">\n\n# \nhash","source":"_posts/.md","raw":"---\ntitle: \ndate: 2019-02-03 21:28:21\ncategories: \ntags:\n    - \ncopyright:\nkeywords:\ndescription:\n---\n{%cq%}{%endcq%}\n5G\n<!--more-->\n\n* [](https://v.youku.com/v_show/id_XMzk5Mzk3MjI4OA==.html?spm=a2h0j.11185381.listitem_page1.5!6~A&&s=6e782defbfbd0d4e11ef)\n\n* [](https://www.imooc.com/video/17059)\n\n* [](https://www.imooc.com/video/17549)\n\n* [](https://github.com/ethereum/go-ethereum) EthereumEtherEthereum Virtual Machine\n\n\n## \n\n*  ****\n*  ****\n* \n\n## \n\n //hash\n\n## \n\n    <img src=\"/img/ownership.png\">\n    <img src=\"/img/ownership1.png\">\nhashBase58,,\n\n## go\n<img src=\"/img/blockchain-basic-core.png\">\n\n# \nhash","slug":"","published":1,"updated":"2026-01-02T00:43:17.576Z","_id":"cmjw5ipnu0008w0tghdon1s1n","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<p>5G</p>\n<span id=\"more\"></span>\n<p></p>\n<ul>\n<li><p><a href=\"https://v.youku.com/v_show/id_XMzk5Mzk3MjI4OA==.html?spm=a2h0j.11185381.listitem_page1.5!6~A&&s=6e782defbfbd0d4e11ef\"></a></p>\n</li>\n<li><p><a href=\"https://www.imooc.com/video/17059\"></a></p>\n</li>\n<li><p><a href=\"https://www.imooc.com/video/17549\"></a></p>\n</li>\n<li><p><a href=\"https://github.com/ethereum/go-ethereum\"></a> EthereumEtherEthereum Virtual Machine</p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> <strong></strong></li>\n<li> <strong></strong></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br> &#x2F;&#x2F;hash</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>    <img src=\"/img/ownership.png\"><br>    <img src=\"/img/ownership1.png\"><br>hashBase58,,</p>\n<h2 id=\"go\"><a href=\"#go\" class=\"headerlink\" title=\"go\"></a>go</h2><img src=\"/img/blockchain-basic-core.png\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hash</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<p>5G</p>","more":"<p></p>\n<ul>\n<li><p><a href=\"https://v.youku.com/v_show/id_XMzk5Mzk3MjI4OA==.html?spm=a2h0j.11185381.listitem_page1.5!6~A&&s=6e782defbfbd0d4e11ef\"></a></p>\n</li>\n<li><p><a href=\"https://www.imooc.com/video/17059\"></a></p>\n</li>\n<li><p><a href=\"https://www.imooc.com/video/17549\"></a></p>\n</li>\n<li><p><a href=\"https://github.com/ethereum/go-ethereum\"></a> EthereumEtherEthereum Virtual Machine</p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> <strong></strong></li>\n<li> <strong></strong></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br> &#x2F;&#x2F;hash</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>    <img src=\"/img/ownership.png\"><br>    <img src=\"/img/ownership1.png\"><br>hashBase58,,</p>\n<h2 id=\"go\"><a href=\"#go\" class=\"headerlink\" title=\"go\"></a>go</h2><img src=\"/img/blockchain-basic-core.png\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hash</p>"},{"title":"","date":"2019-02-04T09:50:33.000Z","copyright":null,"keywords":null,"description":null,"_content":"{%cq%}19{%endcq%}\n<!--more-->\n# \n\n[](https://www.imooc.com/video/18099)\n\n## \n<img src=\"/img/nerve.png\">\n<img src=\"/img/nerve1.png\">\n\n# \n ","source":"_posts/.md","raw":"---\ntitle: \ndate: 2019-02-04 17:50:33\ncategories: \ntags:\n    - \ncopyright:\nkeywords:\ndescription:\n---\n{%cq%}19{%endcq%}\n<!--more-->\n# \n\n[](https://www.imooc.com/video/18099)\n\n## \n<img src=\"/img/nerve.png\">\n<img src=\"/img/nerve1.png\">\n\n# \n ","slug":"","published":1,"updated":"2026-01-02T00:43:17.578Z","_id":"cmjw5ipoc000dw0tgcquxfg96","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>19</p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://www.imooc.com/video/18099\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><img src=\"/img/nerve.png\">\n<img src=\"/img/nerve1.png\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> </p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>19</p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://www.imooc.com/video/18099\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><img src=\"/img/nerve.png\">\n<img src=\"/img/nerve1.png\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> </p>"},{"title":"npm","date":"2020-05-19T08:03:49.000Z","copyright":true,"keywords":null,"description":null,"_content":"1.\nnpm config set registry https://registry.npm.taobao.org\n\n2.\nnpm config set registry https://registry.npmjs.org","source":"_posts/npm.md","raw":"---\ntitle: npm\ndate: 2020-05-19 16:03:49\ncategories: web\ntags:\n    - npm\ncopyright: true\nkeywords: \ndescription:\n---\n1.\nnpm config set registry https://registry.npm.taobao.org\n\n2.\nnpm config set registry https://registry.npmjs.org","slug":"npm","published":1,"updated":"2026-01-02T00:43:17.577Z","_id":"cmjw5ipod000iw0tgak6n64l1","comments":1,"layout":"post","photos":[],"content":"<p>1.<br>npm config set registry <a href=\"https://registry.npm.taobao.org/\">https://registry.npm.taobao.org</a></p>\n<p>2.<br>npm config set registry <a href=\"https://registry.npmjs.org/\">https://registry.npmjs.org</a></p>\n","excerpt":"","more":"<p>1.<br>npm config set registry <a href=\"https://registry.npm.taobao.org/\">https://registry.npm.taobao.org</a></p>\n<p>2.<br>npm config set registry <a href=\"https://registry.npmjs.org/\">https://registry.npmjs.org</a></p>\n"},{"title":"call  apply ","date":"2019-02-18T06:40:01.000Z","copyright":null,"keywords":null,"description":null,"_content":"{%cq%}{%endcq%}\n<img src=\"/img/callAndapply.jpg\">\n[](https://music.163.com/#/song?id=1293886117)\n<!--more-->\n# call\n> callapplythis\n\n```javascript\n    var a = {\n        value:1\n    }\n    var b = function(){\n        console.log(this.value) // thisbar() undefined\n    }\n    b.call(a) //1\n```\ncall\n\n```javascript\n    Function.prototype.myCall = function(context){\n        var context = context || window; //window\n        context.fn = this; //myCall\n        var args = [...arguments].slice(1);//...\n        var result = context.fn(...args);//dinging 18b\n        delete context.fn; //\n        return result\n    }\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.myCall(a,\"dingding\",18)\n```\n## apply\n> apply call \n\napplyAPI:\n```javascript\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.apply(a,[\"dingding\",18])\n```\napply\n```javascript\n    Function.prototype.myApply = function(context){\n        var context = context || window;\n        context.fn = this;\n        var result;\n        if(arguments[1]){\n            result = context.fn(...arguments[1]) \n        }else{\n            result = context.fn()\n        }\n        delete context.fn\n        return result\n    }\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.myApply(a,[\"dingding\",18])\n```\n[](https://www.jianshu.com/p/92b48caee4b2)","source":"_posts/call--apply-.md","raw":"---\ntitle: call  apply \ndate: 2019-02-18 14:40:01\ncategories: web\ntags: [\"call  apply \"]\ncopyright:\nkeywords:\ndescription:\n---\n{%cq%}{%endcq%}\n<img src=\"/img/callAndapply.jpg\">\n[](https://music.163.com/#/song?id=1293886117)\n<!--more-->\n# call\n> callapplythis\n\n```javascript\n    var a = {\n        value:1\n    }\n    var b = function(){\n        console.log(this.value) // thisbar() undefined\n    }\n    b.call(a) //1\n```\ncall\n\n```javascript\n    Function.prototype.myCall = function(context){\n        var context = context || window; //window\n        context.fn = this; //myCall\n        var args = [...arguments].slice(1);//...\n        var result = context.fn(...args);//dinging 18b\n        delete context.fn; //\n        return result\n    }\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.myCall(a,\"dingding\",18)\n```\n## apply\n> apply call \n\napplyAPI:\n```javascript\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.apply(a,[\"dingding\",18])\n```\napply\n```javascript\n    Function.prototype.myApply = function(context){\n        var context = context || window;\n        context.fn = this;\n        var result;\n        if(arguments[1]){\n            result = context.fn(...arguments[1]) \n        }else{\n            result = context.fn()\n        }\n        delete context.fn\n        return result\n    }\n    var a = {\n        value:1\n    }\n    var b = function(name,age){\n        console.log(this.value)\n        console.log(name)\n        console.log(age)\n    }\n    b.myApply(a,[\"dingding\",18])\n```\n[](https://www.jianshu.com/p/92b48caee4b2)","slug":"call--apply-","published":1,"updated":"2026-01-02T00:43:17.577Z","_id":"cmjw5ipor000mw0tg95ww4lln","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/callAndapply.jpg\">\n[](https://music.163.com/#/song?id=1293886117)\n<span id=\"more\"></span>\n# call\n> callapplythis\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>) <span class=\"comment\">// thisbar() undefined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">call</span>(a) <span class=\"comment\">//1</span></span><br></pre></td></tr></table></figure>\n<p>call</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myCall</span> = <span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> context = context || <span class=\"variable language_\">window</span>; <span class=\"comment\">//window</span></span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>; <span class=\"comment\">//myCall</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>);<span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = context.<span class=\"title function_\">fn</span>(...args);<span class=\"comment\">//dinging 18b</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">myCall</span>(a,<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h2><blockquote>\n<p>apply call </p>\n</blockquote>\n<p>applyAPI:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">apply</span>(a,[<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>])</span><br></pre></td></tr></table></figure>\n<p>apply</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myApply</span> = <span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">        result = context.<span class=\"title function_\">fn</span>(...<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>]) </span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        result = context.<span class=\"title function_\">fn</span>()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">myApply</span>(a,[<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>])</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.jianshu.com/p/92b48caee4b2\"></a></p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/callAndapply.jpg\">\n[](https://music.163.com/#/song?id=1293886117)","more":"# call\n> callapplythis\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>) <span class=\"comment\">// thisbar() undefined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">call</span>(a) <span class=\"comment\">//1</span></span><br></pre></td></tr></table></figure>\n<p>call</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myCall</span> = <span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> context = context || <span class=\"variable language_\">window</span>; <span class=\"comment\">//window</span></span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>; <span class=\"comment\">//myCall</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> args = [...<span class=\"variable language_\">arguments</span>].<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>);<span class=\"comment\">//...</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = context.<span class=\"title function_\">fn</span>(...args);<span class=\"comment\">//dinging 18b</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">myCall</span>(a,<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h2><blockquote>\n<p>apply call </p>\n</blockquote>\n<p>applyAPI:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">apply</span>(a,[<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>])</span><br></pre></td></tr></table></figure>\n<p>apply</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">myApply</span> = <span class=\"keyword\">function</span>(<span class=\"params\">context</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> context = context || <span class=\"variable language_\">window</span>;</span><br><span class=\"line\">    context.<span class=\"property\">fn</span> = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">        result = context.<span class=\"title function_\">fn</span>(...<span class=\"variable language_\">arguments</span>[<span class=\"number\">1</span>]) </span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        result = context.<span class=\"title function_\">fn</span>()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> context.<span class=\"property\">fn</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>:<span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">function</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name)</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">b.<span class=\"title function_\">myApply</span>(a,[<span class=\"string\">&quot;dingding&quot;</span>,<span class=\"number\">18</span>])</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.jianshu.com/p/92b48caee4b2\"></a></p>"},{"title":"","date":"2019-02-14T11:22:21.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} LazyLoad {% endcq %}\n<img src=\"/img/lazyload.gif\">\n<!--more-->\n# \n\n# \nimgsrcdata-srcsrc\n# \n[js](https://zhanghuaxiao.github.io/2019/02/14/js/)\n```javascript\n    <head>\n    <meta charset=\"UTF-8\">\n    <title>Document</title>\n    <style>\n        img {\n            display: block;\n            margin-bottom: 50px;\n            width: 400px;\n            height: 400px;\n        }\n    </style>\n</head>\n<body>\n    <img src=\"\" data-src=\"http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/3c6d55fbb2fb43161361e1432ba4462309f7d389.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://qimg.hxnews.com/2019/0128/1548663985785.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/242dd42a2834349bf8d014a3c3ea15ce37d3bec6.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/d439b6003af33a87089f4704cc5c10385343b53a.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/38dbb6fd5266d01607666e0b9d2bd40735fa3591.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/d043ad4bd11373f02f236d8cae0f4bfbfbed0480.jpg\" alt=\"\">\n</body>\n```\n## javascript\n```javascript\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    lazyload(); //\n    window.onscroll = lazyload;\n    function lazyload() { //\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n```\n## \nscroll\n\n\nN\n{%codeblock lang:javascript%}\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    resizehandler(); //\n    n=0;\n    function resizehandler(){\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n    function throttle(method,context){\n        clearTimeout(method.tId);\n        method.tId=setTimeout(function(){\n            method.call(context);\n        },500);\n    }\n    window.onscroll=function(){\n        throttle(resizehandler,window);\n    }\n{% endcodeblock %}    \n# \n## \n{% codeblock lang:javascript%}\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    lazyload(); //\n    function lazyload() { //\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n---------------------------------    --------------------------------\n    var throttle = function(fun,delay){\n        var perv = Date.now();\n        return function(){\n            var context = this;\n            var now = Date.now();\n            if (now-perv >= delay){\n                fun.apply(context,arguments)\n                prev = Date.now();\n            }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}\n## \n{% codeblock lang:javascript %}\n    var throttle = function(fun,delay){\n        var timer = null;\n        return function(){\n            var context = this;\n            if(!timer){\n                timer = setTimeout(function(){\n                    fun.apply(context,arguments)\n                    timer = null\n                },delay)\n            }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}\n## +\n{% codeblock lang:javascript %}\n    var throttle = function(fun,delay){\n        var timer = null;\n        var startTime = Date.now();\n        return function() {\n                var curTime = Date.now();\n                var remaining = delay - (curTime - startTime);\n                var context = this;\n                var args = arguments;\n                clearTimeout(timer);\n                if (remaining <= 0) {\n                        fun.apply(context, args);\n                        startTime = Date.now();\n                } else {\n                        timer = setTimeout(fun, remaining);\n                }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}","source":"_posts/.md","raw":"---\ntitle: \ndate: 2019-02-14 19:22:21\ncategories: web\ntags: [\"\",\"3\"]\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} LazyLoad {% endcq %}\n<img src=\"/img/lazyload.gif\">\n<!--more-->\n# \n\n# \nimgsrcdata-srcsrc\n# \n[js](https://zhanghuaxiao.github.io/2019/02/14/js/)\n```javascript\n    <head>\n    <meta charset=\"UTF-8\">\n    <title>Document</title>\n    <style>\n        img {\n            display: block;\n            margin-bottom: 50px;\n            width: 400px;\n            height: 400px;\n        }\n    </style>\n</head>\n<body>\n    <img src=\"\" data-src=\"http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/3c6d55fbb2fb43161361e1432ba4462309f7d389.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://qimg.hxnews.com/2019/0128/1548663985785.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/242dd42a2834349bf8d014a3c3ea15ce37d3bec6.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/d439b6003af33a87089f4704cc5c10385343b53a.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/38dbb6fd5266d01607666e0b9d2bd40735fa3591.jpg\" alt=\"\">\n        <img src=\"\" data-src=\"http://imgsrc.baidu.com/imgad/pic/item/d043ad4bd11373f02f236d8cae0f4bfbfbed0480.jpg\" alt=\"\">\n</body>\n```\n## javascript\n```javascript\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    lazyload(); //\n    window.onscroll = lazyload;\n    function lazyload() { //\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n```\n## \nscroll\n\n\nN\n{%codeblock lang:javascript%}\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    resizehandler(); //\n    n=0;\n    function resizehandler(){\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n    function throttle(method,context){\n        clearTimeout(method.tId);\n        method.tId=setTimeout(function(){\n            method.call(context);\n        },500);\n    }\n    window.onscroll=function(){\n        throttle(resizehandler,window);\n    }\n{% endcodeblock %}    \n# \n## \n{% codeblock lang:javascript%}\n    var num = document.getElementsByTagName('img').length;\n    var img = document.getElementsByTagName(\"img\");\n    var n = 0; //\n    lazyload(); //\n    function lazyload() { //\n        var seeHeight = document.documentElement.clientHeight; //\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //\n        for (var i = n; i < num; i++) {\n            if (img[i].offsetTop < seeHeight + scrollTop) {\n                if (img[i].getAttribute(\"src\") == \"\") {\n                    img[i].src = img[i].getAttribute(\"data-src\");\n                }\n                n = i + 1;\n            }\n        }\n    }\n---------------------------------    --------------------------------\n    var throttle = function(fun,delay){\n        var perv = Date.now();\n        return function(){\n            var context = this;\n            var now = Date.now();\n            if (now-perv >= delay){\n                fun.apply(context,arguments)\n                prev = Date.now();\n            }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}\n## \n{% codeblock lang:javascript %}\n    var throttle = function(fun,delay){\n        var timer = null;\n        return function(){\n            var context = this;\n            if(!timer){\n                timer = setTimeout(function(){\n                    fun.apply(context,arguments)\n                    timer = null\n                },delay)\n            }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}\n## +\n{% codeblock lang:javascript %}\n    var throttle = function(fun,delay){\n        var timer = null;\n        var startTime = Date.now();\n        return function() {\n                var curTime = Date.now();\n                var remaining = delay - (curTime - startTime);\n                var context = this;\n                var args = arguments;\n                clearTimeout(timer);\n                if (remaining <= 0) {\n                        fun.apply(context, args);\n                        startTime = Date.now();\n                } else {\n                        timer = setTimeout(fun, remaining);\n                }\n        }\n    }\n    window.addEventListener('scroll',throttle(lazyload,1000))\n{% endcodeblock %}","slug":"","published":1,"updated":"2026-01-02T00:43:17.576Z","_id":"cmjw5ipoy000qw0tg4eckhxeg","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>LazyLoad </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/lazyload.gif\">\n<span id=\"more\"></span>\n# \n\n# \nimgsrcdata-srcsrc\n# \n[js](https://zhanghuaxiao.github.io/2019/02/14/js/)\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;head&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">        <span class=\"selector-tag\">img</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">display</span>: block;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">50px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">width</span>: <span class=\"number\">400px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;img src=&quot;&quot; data-src=&quot;http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/3c6d55fbb2fb43161361e1432ba4462309f7d389.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://qimg.hxnews.com/2019/0128/1548663985785.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/242dd42a2834349bf8d014a3c3ea15ce37d3bec6.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/d439b6003af33a87089f4704cc5c10385343b53a.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/38dbb6fd5266d01607666e0b9d2bd40735fa3591.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/d043ad4bd11373f02f236d8cae0f4bfbfbed0480.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>\n## javascript\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"title function_\">lazyload</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onscroll</span> = lazyload;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n## \nscroll\n\n\n<p>N</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"title function_\">resizehandler</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\">n=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">resizehandler</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">method,context</span>)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">clearTimeout</span>(method.<span class=\"property\">tId</span>);</span><br><span class=\"line\">    method.<span class=\"property\">tId</span>=<span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        method.<span class=\"title function_\">call</span>(context);</span><br><span class=\"line\">    &#125;,<span class=\"number\">500</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onscroll</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">throttle</span>(resizehandler,<span class=\"variable language_\">window</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>    \n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"title function_\">lazyload</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                    img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">---------------------------------    --------------------------------</span><br><span class=\"line\">    <span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> perv = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> now = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (now-perv &gt;= delay)&#123;</span><br><span class=\"line\">                fun.<span class=\"title function_\">apply</span>(context,<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">                prev = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!timer)&#123;</span><br><span class=\"line\">            timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                fun.<span class=\"title function_\">apply</span>(context,<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">                timer = <span class=\"literal\">null</span></span><br><span class=\"line\">            &#125;,delay)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> startTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> curTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> remaining = delay - (curTime - startTime);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">            <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (remaining &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    fun.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">                    startTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    timer = <span class=\"built_in\">setTimeout</span>(fun, remaining);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>LazyLoad </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/lazyload.gif\">","more":"# \n\n# \nimgsrcdata-srcsrc\n# \n[js](https://zhanghuaxiao.github.io/2019/02/14/js/)\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;head&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">        <span class=\"selector-tag\">img</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">display</span>: block;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">50px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">width</span>: <span class=\"number\">400px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">            <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;img src=&quot;&quot; data-src=&quot;http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/3c6d55fbb2fb43161361e1432ba4462309f7d389.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://pic.58pic.com/58pic/15/68/59/71X58PICNjx_1024.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://qimg.hxnews.com/2019/0128/1548663985785.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/242dd42a2834349bf8d014a3c3ea15ce37d3bec6.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/d439b6003af33a87089f4704cc5c10385343b53a.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/38dbb6fd5266d01607666e0b9d2bd40735fa3591.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">        &lt;img src=&quot;&quot; data-src=&quot;http://imgsrc.baidu.com/imgad/pic/item/d043ad4bd11373f02f236d8cae0f4bfbfbed0480.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>\n## javascript\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"title function_\">lazyload</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onscroll</span> = lazyload;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n## \nscroll\n\n\n<p>N</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"title function_\">resizehandler</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\">n=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">resizehandler</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">method,context</span>)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">clearTimeout</span>(method.<span class=\"property\">tId</span>);</span><br><span class=\"line\">    method.<span class=\"property\">tId</span>=<span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        method.<span class=\"title function_\">call</span>(context);</span><br><span class=\"line\">    &#125;,<span class=\"number\">500</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onscroll</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">throttle</span>(resizehandler,<span class=\"variable language_\">window</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>    \n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">var</span> num = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;img&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> n = <span class=\"number\">0</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"title function_\">lazyload</span>(); <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; num; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (img[i].<span class=\"property\">offsetTop</span> &lt; seeHeight + scrollTop) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;src&quot;</span>) == <span class=\"string\">&quot;&quot;</span>) &#123;</span><br><span class=\"line\">                    img[i].<span class=\"property\">src</span> = img[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&quot;data-src&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                n = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">---------------------------------    --------------------------------</span><br><span class=\"line\">    <span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> perv = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> now = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (now-perv &gt;= delay)&#123;</span><br><span class=\"line\">                fun.<span class=\"title function_\">apply</span>(context,<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">                prev = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!timer)&#123;</span><br><span class=\"line\">            timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                fun.<span class=\"title function_\">apply</span>(context,<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">                timer = <span class=\"literal\">null</span></span><br><span class=\"line\">            &#125;,delay)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"+\"></a>+</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fun,delay</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> startTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> curTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> remaining = delay - (curTime - startTime);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">            <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (remaining &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    fun.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">                    startTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    timer = <span class=\"built_in\">setTimeout</span>(fun, remaining);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"title function_\">throttle</span>(lazyload,<span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>"},{"title":"mac appstor","date":"2019-08-15T02:04:03.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<!--more-->\ntime machinetime machinetime machinetime machinedf -hsudo tmutil listlocalsnapshots /time machine","source":"_posts/mac app store.md","raw":"---\ntitle: mac appstor\ndate: 2019-08-15 10:04:03\ncategories: \ntags:\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<!--more-->\ntime machinetime machinetime machinetime machinedf -hsudo tmutil listlocalsnapshots /time machine","slug":"mac app store","published":1,"updated":"2026-01-02T00:43:17.577Z","_id":"cmjw5ipp7000ww0tg33bw36q6","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<p>time machinetime machinetime machinetime machinedf -hsudo tmutil listlocalsnapshots &#x2F;time machine</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<p>time machinetime machinetime machinetime machinedf -hsudo tmutil listlocalsnapshots &#x2F;time machine</p>"},{"title":"jsCommonJSAMD/CMD","date":"2019-01-28T03:40:04.000Z","copyright":true,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n\n\n<!--more-->\n> [](https://www.cnblogs.com/chenguangliang/p/5856701.html)\n\n# CommonJS\n   JSAPI()CommonJSCommonJS APIAPIPythonRubyJavaCommonJS APIJavaScript\nCommonJSJavaScript\n\n(1).JavaScript\n(2).\n(3).\n(4).TitaniumAdobe AIR\n\n2009Ryan Dahlnode.jsjavascript\"Javascript\"NodeJSCommonJSwebpack CommonJS\n\nnode.js[](https://nodejs.org/docs/latest/api/modules.html)[CommonJS](http://wiki.commonjs.org/wiki/Modules/1.1)CommonJSrequire()math.js\n\nvar math = require('math');\n\n\n\nvar math = require('math');\n\n      math.add(2,3); // 5\n\nCommonJS:{(require)} {(exports)} {(module)}\n\nrequire()exportsmodule\n\nNodeCommonJS\n\nCommonJSNodeNPMNPMNodeNodeCommonJSCommonJS WIKImodulespackages\n\ncommonJS\n## <font color=#0099ff size=3 face=\"\"></font>\nCommonJSNode.js\n> * module\n* exports\n* require\n* global\n4CommonJS\n\n\n    var module = {\n        exports : {}\n    };\n\n    (function(module,exports){\n        exports.multiply = function(n){return n*100}\n    }(module,module.exports))\n\n    var f = module.exports.multiply;\n    f(5) // 500\n module  exports  module.exports \n## <font color=#0099ff size=3 face=\"\">Browserify </font>\n[Browserify](http://browserify.org/)  CommonJS \n\nmain.js  foo.js \n    {% codeblock %}\n    // foo.js\n    module.exports = function(x) {\n    console.log(x);\n    };\n\n    // main.js\n    var foo = require(\"./foo\");\n    foo(\"Hi\");{% endcodeblock %}\n\n    main.js\n$ browserify main.js > compiled.js\nBrowserifybrowser-unpack\n$ npm install browser-unpack -g\ncompile.js\n    $ browser-unpack < compiled.js\n    {% codeblock %}\n        [\n            {\n                \"id\":1,\n                \"source\":\"module.exports = function(x) {\\n  console.log(x);\\n};\",\n                \"deps\":{}\n            },\n            {\n                \"id\":2,\n                \"source\":\"var foo = require(\\\"./foo\\\");\\nfoo(\\\"Hi\\\");\",\n                \"deps\":{\"./foo\":1},\n                \"entry\":true\n            }\n        ] {% endcodeblock %}\nbrowerify id source deps \n\nmain.jsfoo.js,deps./foo1require(./foo)1sourcemodule.exports   \n## <font color=#0099ff size=3 face=\"\">Tiny Browser Require</font>\n Browserify \n [mocha](https://github.com/mochajs/mocha)  CommonJS  [tiny-browser-require](https://github.com/ruanyf/tiny-browser-require) 30\n\nid\n{% codeblock %}\n  function require(p){\n  var path = require.resolve(p); //node.js\n  var mod = require.modules[path];\n  if (!mod) throw new Error('failed to require \"' + p + '\"');\n  if (!mod.exports) {\n    mod.exports = {};\n    mod.call(mod.exports, mod, mod.exports, require.relative(path));\n  }\n  return mod.exports;\n}\n\nrequire.modules = {};\n\nrequire.resolve = function (path){\n  var orig = path;\n  var reg = path + '.js';\n  var index = path + '/index.js';\n  return require.modules[reg] && reg\n    || require.modules[index] && index\n    || orig;\n};\n\nrequire.register = function (path, fn){\n  require.modules[path] = fn;\n};\n\nrequire.relative = function (parent) {\n  return function(p){\n    if ('.' != p.charAt(0)) return require(p);\n    var path = parent.split('/');\n    var segs = p.split('/');\n    path.pop();\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n      if ('..' == seg) path.pop();\n      else if ('.' != seg) path.push(seg);\n    }\n\n    return require(path.join('/'));\n  };\n};{% endcodeblock %}\n\n   \n    <script src=\"require.js\" />\n    <script>\n        require.register(\"moduleId\", function(module, exports, require){\n        // Module code goes here\n        });\n        var result = require(\"moduleId\");\n    </script>\n\n main.js  foo.js \n\n    require.register(\"./foo.js\", function(module, exports, require){\n    module.exports = function(x) {\n        console.log(x);\n        };\n    });\n\n    var foo = require(\"./foo.js\");\n    foo(\"Hi\");\n\n require module exports  global  Node  process\n# AMD\ncommonJSnodeJSCommonJS\n\n>var math = require('math');\nmath.add(2, 3);\n\nmath.add(2, 3)require('math')math.js<font color=red> require </font>\n\n\"\"\n\n\"\"synchronous\"\"asynchronousAMD\n\nCommonJSJSAMD()JS\n\n[AMD](https://github.com/amdjs/amdjs-api/wiki/AMD)\"Asynchronous Module Definition\"\"\"\n\nAMDrequire()CommonJS\n\n    require([module], callback);\n\n[module]callbackAMD\n{% codeblock %}\nrequire(['math'], function (math) {\n    math.add(2, 3);\n});{% endcodeblock %}\n\nmath.add()mathAMDJavascriptAMD[require.js](https://requirejs.org/)[curl.js](https://github.com/cujojs/curl)\n<font color=red>RequireJSAMD</font>\n<font size=2>RequireJSAMD</font>\n\n## <font color=#0099ff size=3 face=\"\">require.js</font>\nJavascript\n{% codeblock %}\n    <script src=\"1.js\"></script>\n    <script src=\"2.js\"></script>\n    <script src=\"3.js\"></script>\n    <script src=\"4.js\"></script>\n    <script src=\"5.js\"></script>\n    <script src=\"6.js\"></script>\n{% endcodeblock %}\njs\njs1.js2.js\n\nrequire.js\n>(1) js\n(2) \n## <font color=#0099ff size=3 face=\"\">require.js</font>\nrequire.js[](https://requirejs.org/docs/download.html)\njs\n\n    <script src=\"js/require.js\"></script>\n\n\n\n    <script src=\"js/require.js\" defer async=\"true\" ></script>\n\nasyncIEdeferdefer\nrequire.jsmain.jsjs\n\n    <script src=\"js/require.js\" data-main=\"js/main\"></script>\n\ndata-mainjsmain.jsrequire.jsrequire.jsjsmain.jsmain\n## <font color=#0099ff size=3 face=\"\"></font>\nmain.js\"\"Cmain()\nmain.js\njavascript\n\n>  // main.js\nalert(\"\");\n\nrequire.jsAMDrequire()\n\n>    // main.js\nrequire(['moduleA', 'moduleB', 'moduleC'], function (moduleA, moduleB, moduleC){\n// some code here\n});\n\nrequire()['moduleA', 'moduleB', 'moduleC']\n\nrequire()moduleAmoduleBmoduleC\n\n\njqueryunderscorebackbonemain.js\n\n>require(['jquery', 'underscore', 'backbone'], function ($, _, Backbone){\n// some code here\n});\n\nrequire.jsjQueryunderscorebackbone\n## <font color=#0099ff size=3 face=\"\"></font>\n['jquery', 'underscore', 'backbone']require.jsmain.jsjquery.jsunderscore.jsbackbone.js\n\nrequire.config()require.config()main.jspaths\n\n>    require.config({\npaths: {\n\"jquery\": \"jquery.min\",\n\"underscore\": \"underscore.min\",\n\"backbone\": \"backbone.min\"\n}\n});\n\nmain.jsjsjs/lib\n\n>    require.config({\npaths: {\n\"jquery\": \"lib/jquery.min\",\n\"underscore\": \"lib/underscore.min\",\n\"backbone\": \"lib/backbone.min\"\n}\n});\n\nbaseUrl\n\n>    require.config({\nbaseUrl: \"js/lib\",\npaths: {\n\"jquery\": \"jquery.min\",\n\"underscore\": \"underscore.min\",\n\"backbone\": \"backbone.min\"\n}\n});\n\n\n\n>    require.config({\npaths: {\n\"jquery\": \"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min\"\n}\n});\n\nrequire.jsjsHTTPrequire.js[](https://requirejs.org/docs/optimization.html)HTTP\n## <font color=#0099ff size=3 face=\"\">AMD</font>\nrequire.jsAMDAMD\n\ndefine()define()\n\nmath.jsmathmath.js\n\n>    // math.js\ndefine(function (){\nvar add = function (x,y){\nreturn x+y;\n};\nreturn {\nadd: add\n};\n});\n\n\n\n>    // main.js\nrequire(['math'], function (math){\nalert(math.add(1,1));\n});\n\ndefine()\n\n>    define(['myLib'], function(myLib){\nfunction foo(){\nmyLib.doSomething();\n}\nreturn {\nfoo : foo\n};\n});\n\nrequire()myLib.js\n## <font color=#0099ff size=3 face=\"\"></font>\nrequire.jsAMDdefine()jQueryAMDrequire.js\n\n\n\nrequire()require.config()\n\nunderscorebackboneAMD\n\n>    require.config({\nshim: {\n'underscore':{\nexports: '_'\n},\n'backbone': {\ndeps: ['underscore', 'jquery'],\nexports: 'Backbone'\n}\n}\n});\n\nrequire.config()pathsshim1exports2deps\n\njQuery\n\n>    shim: {\n'jquery.scroll': {\ndeps: ['jquery'],\nexports: 'jQuery.fn.scroll'\n}\n}\n\n## <font color=#0099ff size=3 face=\"\">require.js</font>\n\nrequire.js[](https://github.com/requirejs/requirejs/wiki/Plugins)\n\ndomreadyDOM\n\n>    require(['domready!'], function (doc){\n// called once the DOM is ready\n});\n\ntextimagerequire.js\n\n>   define([\n'text!review.txt',\n'image!cat.jpg'\n],\nfunction(review,cat){\nconsole.log(review);\ndocument.body.appendChild(cat);\n}\n);\n\njsonmdownjsonmarkdown\n\n()\n\nAMDdefine(id?,dependencies?,factory);\n\n(dep)factory\n>define(['dep1','dep2'],function(dep1,dep2){...});\n\n\n\n>        define(function(){\n        var exports = {};\n        exports.method = function(){...};\n        return exports;\n    });\n    \ndefineNodedefineNode.....\n\nAMDWIKI[AMDWIKI](https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88)\n\n# CMD\nseajsCMDAMD[seajsdoc](http://www6.seajs.org/?s_token=1548666648.0457692136&kw=Javascript&term=learn%20javascript&term=javascript%20example&term=module%20loader&term=api%20integration&term=javascript%20online%20courses&showDomain=1&backfill=0&tdfs=1#docs)\n>define(function(require,exports,module){...});\n\nseajs\n\nAMDRequireJSAMDCMDAMDRequireJSSeaJS\n\nCMDAMD\n\n[SeaJSRequireJS](https://github.com/seajs/seajs/issues/277)\n\n[SeaJSRequireJS)](https://www.douban.com/note/283566440/)\n\n\n","source":"_posts/CommonJs-AMD-CMD.md","raw":"---\ntitle: 'jsCommonJSAMD/CMD'\ndate: 2019-01-28 11:40:04\ncategories: web\ntags: \n    - CommonJS/AMD/CMD\ncopyright: true\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n\n\n<!--more-->\n> [](https://www.cnblogs.com/chenguangliang/p/5856701.html)\n\n# CommonJS\n   JSAPI()CommonJSCommonJS APIAPIPythonRubyJavaCommonJS APIJavaScript\nCommonJSJavaScript\n\n(1).JavaScript\n(2).\n(3).\n(4).TitaniumAdobe AIR\n\n2009Ryan Dahlnode.jsjavascript\"Javascript\"NodeJSCommonJSwebpack CommonJS\n\nnode.js[](https://nodejs.org/docs/latest/api/modules.html)[CommonJS](http://wiki.commonjs.org/wiki/Modules/1.1)CommonJSrequire()math.js\n\nvar math = require('math');\n\n\n\nvar math = require('math');\n\n      math.add(2,3); // 5\n\nCommonJS:{(require)} {(exports)} {(module)}\n\nrequire()exportsmodule\n\nNodeCommonJS\n\nCommonJSNodeNPMNPMNodeNodeCommonJSCommonJS WIKImodulespackages\n\ncommonJS\n## <font color=#0099ff size=3 face=\"\"></font>\nCommonJSNode.js\n> * module\n* exports\n* require\n* global\n4CommonJS\n\n\n    var module = {\n        exports : {}\n    };\n\n    (function(module,exports){\n        exports.multiply = function(n){return n*100}\n    }(module,module.exports))\n\n    var f = module.exports.multiply;\n    f(5) // 500\n module  exports  module.exports \n## <font color=#0099ff size=3 face=\"\">Browserify </font>\n[Browserify](http://browserify.org/)  CommonJS \n\nmain.js  foo.js \n    {% codeblock %}\n    // foo.js\n    module.exports = function(x) {\n    console.log(x);\n    };\n\n    // main.js\n    var foo = require(\"./foo\");\n    foo(\"Hi\");{% endcodeblock %}\n\n    main.js\n$ browserify main.js > compiled.js\nBrowserifybrowser-unpack\n$ npm install browser-unpack -g\ncompile.js\n    $ browser-unpack < compiled.js\n    {% codeblock %}\n        [\n            {\n                \"id\":1,\n                \"source\":\"module.exports = function(x) {\\n  console.log(x);\\n};\",\n                \"deps\":{}\n            },\n            {\n                \"id\":2,\n                \"source\":\"var foo = require(\\\"./foo\\\");\\nfoo(\\\"Hi\\\");\",\n                \"deps\":{\"./foo\":1},\n                \"entry\":true\n            }\n        ] {% endcodeblock %}\nbrowerify id source deps \n\nmain.jsfoo.js,deps./foo1require(./foo)1sourcemodule.exports   \n## <font color=#0099ff size=3 face=\"\">Tiny Browser Require</font>\n Browserify \n [mocha](https://github.com/mochajs/mocha)  CommonJS  [tiny-browser-require](https://github.com/ruanyf/tiny-browser-require) 30\n\nid\n{% codeblock %}\n  function require(p){\n  var path = require.resolve(p); //node.js\n  var mod = require.modules[path];\n  if (!mod) throw new Error('failed to require \"' + p + '\"');\n  if (!mod.exports) {\n    mod.exports = {};\n    mod.call(mod.exports, mod, mod.exports, require.relative(path));\n  }\n  return mod.exports;\n}\n\nrequire.modules = {};\n\nrequire.resolve = function (path){\n  var orig = path;\n  var reg = path + '.js';\n  var index = path + '/index.js';\n  return require.modules[reg] && reg\n    || require.modules[index] && index\n    || orig;\n};\n\nrequire.register = function (path, fn){\n  require.modules[path] = fn;\n};\n\nrequire.relative = function (parent) {\n  return function(p){\n    if ('.' != p.charAt(0)) return require(p);\n    var path = parent.split('/');\n    var segs = p.split('/');\n    path.pop();\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n      if ('..' == seg) path.pop();\n      else if ('.' != seg) path.push(seg);\n    }\n\n    return require(path.join('/'));\n  };\n};{% endcodeblock %}\n\n   \n    <script src=\"require.js\" />\n    <script>\n        require.register(\"moduleId\", function(module, exports, require){\n        // Module code goes here\n        });\n        var result = require(\"moduleId\");\n    </script>\n\n main.js  foo.js \n\n    require.register(\"./foo.js\", function(module, exports, require){\n    module.exports = function(x) {\n        console.log(x);\n        };\n    });\n\n    var foo = require(\"./foo.js\");\n    foo(\"Hi\");\n\n require module exports  global  Node  process\n# AMD\ncommonJSnodeJSCommonJS\n\n>var math = require('math');\nmath.add(2, 3);\n\nmath.add(2, 3)require('math')math.js<font color=red> require </font>\n\n\"\"\n\n\"\"synchronous\"\"asynchronousAMD\n\nCommonJSJSAMD()JS\n\n[AMD](https://github.com/amdjs/amdjs-api/wiki/AMD)\"Asynchronous Module Definition\"\"\"\n\nAMDrequire()CommonJS\n\n    require([module], callback);\n\n[module]callbackAMD\n{% codeblock %}\nrequire(['math'], function (math) {\n    math.add(2, 3);\n});{% endcodeblock %}\n\nmath.add()mathAMDJavascriptAMD[require.js](https://requirejs.org/)[curl.js](https://github.com/cujojs/curl)\n<font color=red>RequireJSAMD</font>\n<font size=2>RequireJSAMD</font>\n\n## <font color=#0099ff size=3 face=\"\">require.js</font>\nJavascript\n{% codeblock %}\n    <script src=\"1.js\"></script>\n    <script src=\"2.js\"></script>\n    <script src=\"3.js\"></script>\n    <script src=\"4.js\"></script>\n    <script src=\"5.js\"></script>\n    <script src=\"6.js\"></script>\n{% endcodeblock %}\njs\njs1.js2.js\n\nrequire.js\n>(1) js\n(2) \n## <font color=#0099ff size=3 face=\"\">require.js</font>\nrequire.js[](https://requirejs.org/docs/download.html)\njs\n\n    <script src=\"js/require.js\"></script>\n\n\n\n    <script src=\"js/require.js\" defer async=\"true\" ></script>\n\nasyncIEdeferdefer\nrequire.jsmain.jsjs\n\n    <script src=\"js/require.js\" data-main=\"js/main\"></script>\n\ndata-mainjsmain.jsrequire.jsrequire.jsjsmain.jsmain\n## <font color=#0099ff size=3 face=\"\"></font>\nmain.js\"\"Cmain()\nmain.js\njavascript\n\n>  // main.js\nalert(\"\");\n\nrequire.jsAMDrequire()\n\n>    // main.js\nrequire(['moduleA', 'moduleB', 'moduleC'], function (moduleA, moduleB, moduleC){\n// some code here\n});\n\nrequire()['moduleA', 'moduleB', 'moduleC']\n\nrequire()moduleAmoduleBmoduleC\n\n\njqueryunderscorebackbonemain.js\n\n>require(['jquery', 'underscore', 'backbone'], function ($, _, Backbone){\n// some code here\n});\n\nrequire.jsjQueryunderscorebackbone\n## <font color=#0099ff size=3 face=\"\"></font>\n['jquery', 'underscore', 'backbone']require.jsmain.jsjquery.jsunderscore.jsbackbone.js\n\nrequire.config()require.config()main.jspaths\n\n>    require.config({\npaths: {\n\"jquery\": \"jquery.min\",\n\"underscore\": \"underscore.min\",\n\"backbone\": \"backbone.min\"\n}\n});\n\nmain.jsjsjs/lib\n\n>    require.config({\npaths: {\n\"jquery\": \"lib/jquery.min\",\n\"underscore\": \"lib/underscore.min\",\n\"backbone\": \"lib/backbone.min\"\n}\n});\n\nbaseUrl\n\n>    require.config({\nbaseUrl: \"js/lib\",\npaths: {\n\"jquery\": \"jquery.min\",\n\"underscore\": \"underscore.min\",\n\"backbone\": \"backbone.min\"\n}\n});\n\n\n\n>    require.config({\npaths: {\n\"jquery\": \"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min\"\n}\n});\n\nrequire.jsjsHTTPrequire.js[](https://requirejs.org/docs/optimization.html)HTTP\n## <font color=#0099ff size=3 face=\"\">AMD</font>\nrequire.jsAMDAMD\n\ndefine()define()\n\nmath.jsmathmath.js\n\n>    // math.js\ndefine(function (){\nvar add = function (x,y){\nreturn x+y;\n};\nreturn {\nadd: add\n};\n});\n\n\n\n>    // main.js\nrequire(['math'], function (math){\nalert(math.add(1,1));\n});\n\ndefine()\n\n>    define(['myLib'], function(myLib){\nfunction foo(){\nmyLib.doSomething();\n}\nreturn {\nfoo : foo\n};\n});\n\nrequire()myLib.js\n## <font color=#0099ff size=3 face=\"\"></font>\nrequire.jsAMDdefine()jQueryAMDrequire.js\n\n\n\nrequire()require.config()\n\nunderscorebackboneAMD\n\n>    require.config({\nshim: {\n'underscore':{\nexports: '_'\n},\n'backbone': {\ndeps: ['underscore', 'jquery'],\nexports: 'Backbone'\n}\n}\n});\n\nrequire.config()pathsshim1exports2deps\n\njQuery\n\n>    shim: {\n'jquery.scroll': {\ndeps: ['jquery'],\nexports: 'jQuery.fn.scroll'\n}\n}\n\n## <font color=#0099ff size=3 face=\"\">require.js</font>\n\nrequire.js[](https://github.com/requirejs/requirejs/wiki/Plugins)\n\ndomreadyDOM\n\n>    require(['domready!'], function (doc){\n// called once the DOM is ready\n});\n\ntextimagerequire.js\n\n>   define([\n'text!review.txt',\n'image!cat.jpg'\n],\nfunction(review,cat){\nconsole.log(review);\ndocument.body.appendChild(cat);\n}\n);\n\njsonmdownjsonmarkdown\n\n()\n\nAMDdefine(id?,dependencies?,factory);\n\n(dep)factory\n>define(['dep1','dep2'],function(dep1,dep2){...});\n\n\n\n>        define(function(){\n        var exports = {};\n        exports.method = function(){...};\n        return exports;\n    });\n    \ndefineNodedefineNode.....\n\nAMDWIKI[AMDWIKI](https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88)\n\n# CMD\nseajsCMDAMD[seajsdoc](http://www6.seajs.org/?s_token=1548666648.0457692136&kw=Javascript&term=learn%20javascript&term=javascript%20example&term=module%20loader&term=api%20integration&term=javascript%20online%20courses&showDomain=1&backfill=0&tdfs=1#docs)\n>define(function(require,exports,module){...});\n\nseajs\n\nAMDRequireJSAMDCMDAMDRequireJSSeaJS\n\nCMDAMD\n\n[SeaJSRequireJS](https://github.com/seajs/seajs/issues/277)\n\n[SeaJSRequireJS)](https://www.douban.com/note/283566440/)\n\n\n","slug":"CommonJs-AMD-CMD","published":1,"updated":"2026-01-02T00:43:17.570Z","_id":"cmjw5ippl000zw0tgffqtgbcl","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<p><br></p>\n<span id=\"more\"></span>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/chenguangliang/p/5856701.html\"></a></p>\n</blockquote>\n<h1 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h1><p>   JSAPI()CommonJSCommonJS APIAPIPythonRubyJavaCommonJS APIJavaScript<br>CommonJSJavaScript</p>\n<p>(1).JavaScript<br>(2).<br>(3).<br>(4).TitaniumAdobe AIR</p>\n<p>2009Ryan Dahlnode.jsjavascriptJavascriptNodeJSCommonJSwebpack CommonJS</p>\n<p>node.js<a href=\"https://nodejs.org/docs/latest/api/modules.html\"></a><a href=\"http://wiki.commonjs.org/wiki/Modules/1.1\">CommonJS</a>CommonJSrequire()math.js</p>\n<p>var math &#x3D; require(math);</p>\n<p></p>\n<p>var math &#x3D; require(math);</p>\n<pre><code>  math.add(2,3); // 5\n</code></pre>\n<p>CommonJS:{(require)} {(exports)} {(module)}</p>\n<p>require()exportsmodule</p>\n<p>NodeCommonJS</p>\n<p>CommonJSNodeNPMNPMNodeNodeCommonJSCommonJS WIKImodulespackages</p>\n<p>commonJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>CommonJSNode.js</p>\n<blockquote>\n<ul>\n<li>module</li>\n</ul>\n</blockquote>\n<ul>\n<li><p>exports</p>\n</li>\n<li><p>require</p>\n</li>\n<li><p>global<br>4CommonJS<br></p>\n<p>  var module &#x3D; {<br>  exports : {}<br>  };</p>\n<p>  (function(module,exports){<br>  exports.multiply &#x3D; function(n){return n*100}<br>  }(module,module.exports))</p>\n<p>  var f &#x3D; module.exports.multiply;<br>  f(5) &#x2F;&#x2F; 500</p>\n</li>\n</ul>\n<p> module  exports  module.exports </p>\n<h2 id=\"Browserify-\"><a href=\"#Browserify-\" class=\"headerlink\" title=\"Browserify \"></a><font color=#0099ff size=3 face=\"\">Browserify </font></h2><p><a href=\"http://browserify.org/\">Browserify</a>  CommonJS </p>\n<p>main.js  foo.js <br>    <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// foo.js</span><br><span class=\"line\">module.exports = function(x) &#123;</span><br><span class=\"line\">console.log(x);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// main.js</span><br><span class=\"line\">var foo = require(&quot;./foo&quot;);</span><br><span class=\"line\">foo(&quot;Hi&quot;);</span><br></pre></td></tr></table></figure></p>\n<pre><code>main.js\n</code></pre>\n<p>$ browserify main.js &gt; compiled.js<br>Browserifybrowser-unpack<br>$ npm install browser-unpack -g<br>compile.js<br>    $ browser-unpack &lt; compiled.js<br>    <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;id&quot;:1,</span><br><span class=\"line\">        &quot;source&quot;:&quot;module.exports = function(x) &#123;\\n  console.log(x);\\n&#125;;&quot;,</span><br><span class=\"line\">        &quot;deps&quot;:&#123;&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;id&quot;:2,</span><br><span class=\"line\">        &quot;source&quot;:&quot;var foo = require(\\&quot;./foo\\&quot;);\\nfoo(\\&quot;Hi\\&quot;);&quot;,</span><br><span class=\"line\">        &quot;deps&quot;:&#123;&quot;./foo&quot;:1&#125;,</span><br><span class=\"line\">        &quot;entry&quot;:true</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">] </span><br></pre></td></tr></table></figure><br>browerify id source deps </p>\n<p>main.jsfoo.js,deps.&#x2F;foo1require(.&#x2F;foo)1sourcemodule.exports   </p>\n<h2 id=\"Tiny-Browser-Require\"><a href=\"#Tiny-Browser-Require\" class=\"headerlink\" title=\"Tiny Browser Require\"></a><font color=#0099ff size=3 face=\"\">Tiny Browser Require</font></h2><p> Browserify <br> <a href=\"https://github.com/mochajs/mocha\">mocha</a>  CommonJS  <a href=\"https://github.com/ruanyf/tiny-browser-require\">tiny-browser-require</a> 30</p>\n<p>id</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  function require(p)&#123;</span><br><span class=\"line\">  var path = require.resolve(p); //node.js</span><br><span class=\"line\">  var mod = require.modules[path];</span><br><span class=\"line\">  if (!mod) throw new Error(&#x27;failed to require &quot;&#x27; + p + &#x27;&quot;&#x27;);</span><br><span class=\"line\">  if (!mod.exports) &#123;</span><br><span class=\"line\">    mod.exports = &#123;&#125;;</span><br><span class=\"line\">    mod.call(mod.exports, mod, mod.exports, require.relative(path));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return mod.exports;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">require.modules = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.resolve = function (path)&#123;</span><br><span class=\"line\">  var orig = path;</span><br><span class=\"line\">  var reg = path + &#x27;.js&#x27;;</span><br><span class=\"line\">  var index = path + &#x27;/index.js&#x27;;</span><br><span class=\"line\">  return require.modules[reg] &amp;&amp; reg</span><br><span class=\"line\">    || require.modules[index] &amp;&amp; index</span><br><span class=\"line\">    || orig;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.register = function (path, fn)&#123;</span><br><span class=\"line\">  require.modules[path] = fn;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.relative = function (parent) &#123;</span><br><span class=\"line\">  return function(p)&#123;</span><br><span class=\"line\">    if (&#x27;.&#x27; != p.charAt(0)) return require(p);</span><br><span class=\"line\">    var path = parent.split(&#x27;/&#x27;);</span><br><span class=\"line\">    var segs = p.split(&#x27;/&#x27;);</span><br><span class=\"line\">    path.pop();</span><br><span class=\"line\"></span><br><span class=\"line\">    for (var i = 0; i &lt; segs.length; i++) &#123;</span><br><span class=\"line\">      var seg = segs[i];</span><br><span class=\"line\">      if (&#x27;..&#x27; == seg) path.pop();</span><br><span class=\"line\">      else if (&#x27;.&#x27; != seg) path.push(seg);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return require(path.join(&#x27;/&#x27;));</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<pre><code>&lt;script src=&quot;require.js&quot; /&gt;\n&lt;script&gt;\n    require.register(&quot;moduleId&quot;, function(module, exports, require)&#123;\n    // Module code goes here\n    &#125;);\n    var result = require(&quot;moduleId&quot;);\n&lt;/script&gt;\n</code></pre>\n<p> main.js  foo.js </p>\n<pre><code>require.register(&quot;./foo.js&quot;, function(module, exports, require)&#123;\nmodule.exports = function(x) &#123;\n    console.log(x);\n    &#125;;\n&#125;);\n\nvar foo = require(&quot;./foo.js&quot;);\nfoo(&quot;Hi&quot;);\n</code></pre>\n<p> require module exports  global  Node  process</p>\n<h1 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h1><p>commonJSnodeJSCommonJS</p>\n<blockquote>\n<p>var math &#x3D; require(math);<br>math.add(2, 3);</p>\n</blockquote>\n<p>math.add(2, 3)require(math)math.js<font color=red> require </font></p>\n<p></p>\n<p>synchronousasynchronousAMD</p>\n<p>CommonJSJSAMD()JS</p>\n<p><a href=\"https://github.com/amdjs/amdjs-api/wiki/AMD\">AMD</a>Asynchronous Module Definition</p>\n<p>AMDrequire()CommonJS</p>\n<pre><code>require([module], callback);\n</code></pre>\n<p>[module]callbackAMD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&#x27;math&#x27;], function (math) &#123;</span><br><span class=\"line\">    math.add(2, 3);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>math.add()mathAMDJavascriptAMD<a href=\"https://requirejs.org/\">require.js</a><a href=\"https://github.com/cujojs/curl\">curl.js</a><br><font color=red>RequireJSAMD</font><br><font size=2>RequireJSAMD</font></p>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>Javascript</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>js<br>js1.js2.js</p>\n<p>require.js</p>\n<blockquote>\n<p>(1) js<br>(2) </p>\n</blockquote>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>require.js<a href=\"https://requirejs.org/docs/download.html\"></a><br>js</p>\n<pre><code>&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt;\n</code></pre>\n<p>asyncIEdeferdefer<br>require.jsmain.jsjs</p>\n<pre><code>&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/main&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>data-mainjsmain.jsrequire.jsrequire.jsjsmain.jsmain</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>main.jsCmain()<br>main.js<br>javascript</p>\n<blockquote>\n<p> &#x2F;&#x2F; main.js<br>alert();</p>\n</blockquote>\n<p>require.jsAMDrequire()</p>\n<blockquote>\n<p>   &#x2F;&#x2F; main.js<br>require([moduleA, moduleB, moduleC], function (moduleA, moduleB, moduleC){<br>&#x2F;&#x2F; some code here<br>});</p>\n</blockquote>\n<p>require()[moduleA, moduleB, moduleC]</p>\n<p>require()moduleAmoduleBmoduleC</p>\n<p><br>jqueryunderscorebackbonemain.js</p>\n<blockquote>\n<p>require([jquery, underscore, backbone], function ($, _, Backbone){<br>&#x2F;&#x2F; some code here<br>});</p>\n</blockquote>\n<p>require.jsjQueryunderscorebackbone</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>[jquery, underscore, backbone]require.jsmain.jsjquery.jsunderscore.jsbackbone.js</p>\n<p>require.config()require.config()main.jspaths</p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: jquery.min,<br>underscore: underscore.min,<br>backbone: backbone.min<br>}<br>});</p>\n</blockquote>\n<p>main.jsjsjs&#x2F;lib</p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: lib&#x2F;jquery.min,<br>underscore: lib&#x2F;underscore.min,<br>backbone: lib&#x2F;backbone.min<br>}<br>});</p>\n</blockquote>\n<p>baseUrl</p>\n<blockquote>\n<p>   require.config({<br>baseUrl: js&#x2F;lib,<br>paths: {<br>jquery: jquery.min,<br>underscore: underscore.min,<br>backbone: backbone.min<br>}<br>});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: <a href=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min\">https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min</a><br>}<br>});</p>\n</blockquote>\n<p>require.jsjsHTTPrequire.js<a href=\"https://requirejs.org/docs/optimization.html\"></a>HTTP</p>\n<h2 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a><font color=#0099ff size=3 face=\"\">AMD</font></h2><p>require.jsAMDAMD</p>\n<p>define()define()</p>\n<p>math.jsmathmath.js</p>\n<blockquote>\n<p>   &#x2F;&#x2F; math.js<br>define(function (){<br>var add &#x3D; function (x,y){<br>return x+y;<br>};<br>return {<br>add: add<br>};<br>});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>   &#x2F;&#x2F; main.js<br>require([math], function (math){<br>alert(math.add(1,1));<br>});</p>\n</blockquote>\n<p>define()</p>\n<blockquote>\n<p>   define([myLib], function(myLib){<br>function foo(){<br>myLib.doSomething();<br>}<br>return {<br>foo : foo<br>};<br>});</p>\n</blockquote>\n<p>require()myLib.js</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>require.jsAMDdefine()jQueryAMDrequire.js</p>\n<p></p>\n<p>require()require.config()</p>\n<p>underscorebackboneAMD</p>\n<blockquote>\n<p>   require.config({<br>shim: {<br>underscore:{<br>exports: _<br>},<br>backbone: {<br>deps: [underscore, jquery],<br>exports: Backbone<br>}<br>}<br>});</p>\n</blockquote>\n<p>require.config()pathsshim1exports2deps</p>\n<p>jQuery</p>\n<blockquote>\n<p>   shim: {<br>jquery.scroll: {<br>deps: [jquery],<br>exports: jQuery.fn.scroll<br>}<br>}</p>\n</blockquote>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>require.js<a href=\"https://github.com/requirejs/requirejs/wiki/Plugins\"></a></p>\n<p>domreadyDOM</p>\n<blockquote>\n<p>   require([domready!], function (doc){<br>&#x2F;&#x2F; called once the DOM is ready<br>});</p>\n</blockquote>\n<p>textimagerequire.js</p>\n<blockquote>\n<p>   define([<br>text!review.txt,<br>image!cat.jpg<br>],<br>function(review,cat){<br>console.log(review);<br>document.body.appendChild(cat);<br>}<br>);</p>\n</blockquote>\n<p>jsonmdownjsonmarkdown</p>\n<p>()</p>\n<p>AMDdefine(id?,dependencies?,factory);</p>\n<p>(dep)factory</p>\n<blockquote>\n<p>define([dep1,dep2],function(dep1,dep2){});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<pre><code>   define(function()&#123;\n    var exports = &#123;&#125;;\n    exports.method = function()&#123;...&#125;;\n    return exports;\n&#125;);\n</code></pre>\n</blockquote>\n<p>defineNodedefineNode..</p>\n<p>AMDWIKI<a href=\"https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88\">AMDWIKI</a></p>\n<h1 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h1><p>seajsCMDAMD<a href=\"http://www6.seajs.org/?s_token=1548666648.0457692136&kw=Javascript&term=learn%20javascript&term=javascript%20example&term=module%20loader&term=api%20integration&term=javascript%20online%20courses&showDomain=1&backfill=0&tdfs=1#docs\">seajsdoc</a></p>\n<blockquote>\n<p>define(function(require,exports,module){});</p>\n</blockquote>\n<p>seajs</p>\n<p>AMDRequireJSAMDCMDAMDRequireJSSeaJS</p>\n<p>CMDAMD</p>\n<p><a href=\"https://github.com/seajs/seajs/issues/277\">SeaJSRequireJS</a></p>\n<p><a href=\"https://www.douban.com/note/283566440/\">SeaJSRequireJS)</a></p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<p><br></p>","more":"<blockquote>\n<p><a href=\"https://www.cnblogs.com/chenguangliang/p/5856701.html\"></a></p>\n</blockquote>\n<h1 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h1><p>   JSAPI()CommonJSCommonJS APIAPIPythonRubyJavaCommonJS APIJavaScript<br>CommonJSJavaScript</p>\n<p>(1).JavaScript<br>(2).<br>(3).<br>(4).TitaniumAdobe AIR</p>\n<p>2009Ryan Dahlnode.jsjavascriptJavascriptNodeJSCommonJSwebpack CommonJS</p>\n<p>node.js<a href=\"https://nodejs.org/docs/latest/api/modules.html\"></a><a href=\"http://wiki.commonjs.org/wiki/Modules/1.1\">CommonJS</a>CommonJSrequire()math.js</p>\n<p>var math &#x3D; require(math);</p>\n<p></p>\n<p>var math &#x3D; require(math);</p>\n<pre><code>  math.add(2,3); // 5\n</code></pre>\n<p>CommonJS:{(require)} {(exports)} {(module)}</p>\n<p>require()exportsmodule</p>\n<p>NodeCommonJS</p>\n<p>CommonJSNodeNPMNPMNodeNodeCommonJSCommonJS WIKImodulespackages</p>\n<p>commonJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>CommonJSNode.js</p>\n<blockquote>\n<ul>\n<li>module</li>\n</ul>\n</blockquote>\n<ul>\n<li><p>exports</p>\n</li>\n<li><p>require</p>\n</li>\n<li><p>global<br>4CommonJS<br></p>\n<p>  var module &#x3D; {<br>  exports : {}<br>  };</p>\n<p>  (function(module,exports){<br>  exports.multiply &#x3D; function(n){return n*100}<br>  }(module,module.exports))</p>\n<p>  var f &#x3D; module.exports.multiply;<br>  f(5) &#x2F;&#x2F; 500</p>\n</li>\n</ul>\n<p> module  exports  module.exports </p>\n<h2 id=\"Browserify-\"><a href=\"#Browserify-\" class=\"headerlink\" title=\"Browserify \"></a><font color=#0099ff size=3 face=\"\">Browserify </font></h2><p><a href=\"http://browserify.org/\">Browserify</a>  CommonJS </p>\n<p>main.js  foo.js <br>    <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// foo.js</span><br><span class=\"line\">module.exports = function(x) &#123;</span><br><span class=\"line\">console.log(x);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// main.js</span><br><span class=\"line\">var foo = require(&quot;./foo&quot;);</span><br><span class=\"line\">foo(&quot;Hi&quot;);</span><br></pre></td></tr></table></figure></p>\n<pre><code>main.js\n</code></pre>\n<p>$ browserify main.js &gt; compiled.js<br>Browserifybrowser-unpack<br>$ npm install browser-unpack -g<br>compile.js<br>    $ browser-unpack &lt; compiled.js<br>    <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;id&quot;:1,</span><br><span class=\"line\">        &quot;source&quot;:&quot;module.exports = function(x) &#123;\\n  console.log(x);\\n&#125;;&quot;,</span><br><span class=\"line\">        &quot;deps&quot;:&#123;&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;id&quot;:2,</span><br><span class=\"line\">        &quot;source&quot;:&quot;var foo = require(\\&quot;./foo\\&quot;);\\nfoo(\\&quot;Hi\\&quot;);&quot;,</span><br><span class=\"line\">        &quot;deps&quot;:&#123;&quot;./foo&quot;:1&#125;,</span><br><span class=\"line\">        &quot;entry&quot;:true</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">] </span><br></pre></td></tr></table></figure><br>browerify id source deps </p>\n<p>main.jsfoo.js,deps.&#x2F;foo1require(.&#x2F;foo)1sourcemodule.exports   </p>\n<h2 id=\"Tiny-Browser-Require\"><a href=\"#Tiny-Browser-Require\" class=\"headerlink\" title=\"Tiny Browser Require\"></a><font color=#0099ff size=3 face=\"\">Tiny Browser Require</font></h2><p> Browserify <br> <a href=\"https://github.com/mochajs/mocha\">mocha</a>  CommonJS  <a href=\"https://github.com/ruanyf/tiny-browser-require\">tiny-browser-require</a> 30</p>\n<p>id</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  function require(p)&#123;</span><br><span class=\"line\">  var path = require.resolve(p); //node.js</span><br><span class=\"line\">  var mod = require.modules[path];</span><br><span class=\"line\">  if (!mod) throw new Error(&#x27;failed to require &quot;&#x27; + p + &#x27;&quot;&#x27;);</span><br><span class=\"line\">  if (!mod.exports) &#123;</span><br><span class=\"line\">    mod.exports = &#123;&#125;;</span><br><span class=\"line\">    mod.call(mod.exports, mod, mod.exports, require.relative(path));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return mod.exports;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">require.modules = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.resolve = function (path)&#123;</span><br><span class=\"line\">  var orig = path;</span><br><span class=\"line\">  var reg = path + &#x27;.js&#x27;;</span><br><span class=\"line\">  var index = path + &#x27;/index.js&#x27;;</span><br><span class=\"line\">  return require.modules[reg] &amp;&amp; reg</span><br><span class=\"line\">    || require.modules[index] &amp;&amp; index</span><br><span class=\"line\">    || orig;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.register = function (path, fn)&#123;</span><br><span class=\"line\">  require.modules[path] = fn;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">require.relative = function (parent) &#123;</span><br><span class=\"line\">  return function(p)&#123;</span><br><span class=\"line\">    if (&#x27;.&#x27; != p.charAt(0)) return require(p);</span><br><span class=\"line\">    var path = parent.split(&#x27;/&#x27;);</span><br><span class=\"line\">    var segs = p.split(&#x27;/&#x27;);</span><br><span class=\"line\">    path.pop();</span><br><span class=\"line\"></span><br><span class=\"line\">    for (var i = 0; i &lt; segs.length; i++) &#123;</span><br><span class=\"line\">      var seg = segs[i];</span><br><span class=\"line\">      if (&#x27;..&#x27; == seg) path.pop();</span><br><span class=\"line\">      else if (&#x27;.&#x27; != seg) path.push(seg);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return require(path.join(&#x27;/&#x27;));</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<pre><code>&lt;script src=&quot;require.js&quot; /&gt;\n&lt;script&gt;\n    require.register(&quot;moduleId&quot;, function(module, exports, require)&#123;\n    // Module code goes here\n    &#125;);\n    var result = require(&quot;moduleId&quot;);\n&lt;/script&gt;\n</code></pre>\n<p> main.js  foo.js </p>\n<pre><code>require.register(&quot;./foo.js&quot;, function(module, exports, require)&#123;\nmodule.exports = function(x) &#123;\n    console.log(x);\n    &#125;;\n&#125;);\n\nvar foo = require(&quot;./foo.js&quot;);\nfoo(&quot;Hi&quot;);\n</code></pre>\n<p> require module exports  global  Node  process</p>\n<h1 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h1><p>commonJSnodeJSCommonJS</p>\n<blockquote>\n<p>var math &#x3D; require(math);<br>math.add(2, 3);</p>\n</blockquote>\n<p>math.add(2, 3)require(math)math.js<font color=red> require </font></p>\n<p></p>\n<p>synchronousasynchronousAMD</p>\n<p>CommonJSJSAMD()JS</p>\n<p><a href=\"https://github.com/amdjs/amdjs-api/wiki/AMD\">AMD</a>Asynchronous Module Definition</p>\n<p>AMDrequire()CommonJS</p>\n<pre><code>require([module], callback);\n</code></pre>\n<p>[module]callbackAMD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&#x27;math&#x27;], function (math) &#123;</span><br><span class=\"line\">    math.add(2, 3);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>math.add()mathAMDJavascriptAMD<a href=\"https://requirejs.org/\">require.js</a><a href=\"https://github.com/cujojs/curl\">curl.js</a><br><font color=red>RequireJSAMD</font><br><font size=2>RequireJSAMD</font></p>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>Javascript</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>js<br>js1.js2.js</p>\n<p>require.js</p>\n<blockquote>\n<p>(1) js<br>(2) </p>\n</blockquote>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>require.js<a href=\"https://requirejs.org/docs/download.html\"></a><br>js</p>\n<pre><code>&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt;\n</code></pre>\n<p>asyncIEdeferdefer<br>require.jsmain.jsjs</p>\n<pre><code>&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/main&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>data-mainjsmain.jsrequire.jsrequire.jsjsmain.jsmain</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>main.jsCmain()<br>main.js<br>javascript</p>\n<blockquote>\n<p> &#x2F;&#x2F; main.js<br>alert();</p>\n</blockquote>\n<p>require.jsAMDrequire()</p>\n<blockquote>\n<p>   &#x2F;&#x2F; main.js<br>require([moduleA, moduleB, moduleC], function (moduleA, moduleB, moduleC){<br>&#x2F;&#x2F; some code here<br>});</p>\n</blockquote>\n<p>require()[moduleA, moduleB, moduleC]</p>\n<p>require()moduleAmoduleBmoduleC</p>\n<p><br>jqueryunderscorebackbonemain.js</p>\n<blockquote>\n<p>require([jquery, underscore, backbone], function ($, _, Backbone){<br>&#x2F;&#x2F; some code here<br>});</p>\n</blockquote>\n<p>require.jsjQueryunderscorebackbone</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>[jquery, underscore, backbone]require.jsmain.jsjquery.jsunderscore.jsbackbone.js</p>\n<p>require.config()require.config()main.jspaths</p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: jquery.min,<br>underscore: underscore.min,<br>backbone: backbone.min<br>}<br>});</p>\n</blockquote>\n<p>main.jsjsjs&#x2F;lib</p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: lib&#x2F;jquery.min,<br>underscore: lib&#x2F;underscore.min,<br>backbone: lib&#x2F;backbone.min<br>}<br>});</p>\n</blockquote>\n<p>baseUrl</p>\n<blockquote>\n<p>   require.config({<br>baseUrl: js&#x2F;lib,<br>paths: {<br>jquery: jquery.min,<br>underscore: underscore.min,<br>backbone: backbone.min<br>}<br>});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>   require.config({<br>paths: {<br>jquery: <a href=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min\">https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min</a><br>}<br>});</p>\n</blockquote>\n<p>require.jsjsHTTPrequire.js<a href=\"https://requirejs.org/docs/optimization.html\"></a>HTTP</p>\n<h2 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a><font color=#0099ff size=3 face=\"\">AMD</font></h2><p>require.jsAMDAMD</p>\n<p>define()define()</p>\n<p>math.jsmathmath.js</p>\n<blockquote>\n<p>   &#x2F;&#x2F; math.js<br>define(function (){<br>var add &#x3D; function (x,y){<br>return x+y;<br>};<br>return {<br>add: add<br>};<br>});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>   &#x2F;&#x2F; main.js<br>require([math], function (math){<br>alert(math.add(1,1));<br>});</p>\n</blockquote>\n<p>define()</p>\n<blockquote>\n<p>   define([myLib], function(myLib){<br>function foo(){<br>myLib.doSomething();<br>}<br>return {<br>foo : foo<br>};<br>});</p>\n</blockquote>\n<p>require()myLib.js</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><font color=#0099ff size=3 face=\"\"></font></h2><p>require.jsAMDdefine()jQueryAMDrequire.js</p>\n<p></p>\n<p>require()require.config()</p>\n<p>underscorebackboneAMD</p>\n<blockquote>\n<p>   require.config({<br>shim: {<br>underscore:{<br>exports: _<br>},<br>backbone: {<br>deps: [underscore, jquery],<br>exports: Backbone<br>}<br>}<br>});</p>\n</blockquote>\n<p>require.config()pathsshim1exports2deps</p>\n<p>jQuery</p>\n<blockquote>\n<p>   shim: {<br>jquery.scroll: {<br>deps: [jquery],<br>exports: jQuery.fn.scroll<br>}<br>}</p>\n</blockquote>\n<h2 id=\"require-js\"><a href=\"#require-js\" class=\"headerlink\" title=\"require.js\"></a><font color=#0099ff size=3 face=\"\">require.js</font></h2><p>require.js<a href=\"https://github.com/requirejs/requirejs/wiki/Plugins\"></a></p>\n<p>domreadyDOM</p>\n<blockquote>\n<p>   require([domready!], function (doc){<br>&#x2F;&#x2F; called once the DOM is ready<br>});</p>\n</blockquote>\n<p>textimagerequire.js</p>\n<blockquote>\n<p>   define([<br>text!review.txt,<br>image!cat.jpg<br>],<br>function(review,cat){<br>console.log(review);<br>document.body.appendChild(cat);<br>}<br>);</p>\n</blockquote>\n<p>jsonmdownjsonmarkdown</p>\n<p>()</p>\n<p>AMDdefine(id?,dependencies?,factory);</p>\n<p>(dep)factory</p>\n<blockquote>\n<p>define([dep1,dep2],function(dep1,dep2){});</p>\n</blockquote>\n<p></p>\n<blockquote>\n<pre><code>   define(function()&#123;\n    var exports = &#123;&#125;;\n    exports.method = function()&#123;...&#125;;\n    return exports;\n&#125;);\n</code></pre>\n</blockquote>\n<p>defineNodedefineNode..</p>\n<p>AMDWIKI<a href=\"https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88\">AMDWIKI</a></p>\n<h1 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h1><p>seajsCMDAMD<a href=\"http://www6.seajs.org/?s_token=1548666648.0457692136&kw=Javascript&term=learn%20javascript&term=javascript%20example&term=module%20loader&term=api%20integration&term=javascript%20online%20courses&showDomain=1&backfill=0&tdfs=1#docs\">seajsdoc</a></p>\n<blockquote>\n<p>define(function(require,exports,module){});</p>\n</blockquote>\n<p>seajs</p>\n<p>AMDRequireJSAMDCMDAMDRequireJSSeaJS</p>\n<p>CMDAMD</p>\n<p><a href=\"https://github.com/seajs/seajs/issues/277\">SeaJSRequireJS</a></p>\n<p><a href=\"https://www.douban.com/note/283566440/\">SeaJSRequireJS)</a></p>"},{"title":" JavaScript  Emoji ","date":"2019-01-27T04:06:29.000Z","copyright":true,"keywords":null,"description":null,"_content":"{% cq %} 9 {% endcq %}\n<!--more-->\n\n>[Wpeach](https://juejin.im/post/5c49b822f265da6142743a87)\n Matthew Rayfield \n [Animating URLs with Javascript and Emojis](http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis/)\n \n  emoji unicode  emoji SEO\n JavaScript \n\n JavaScript  UTF-8  emoji HTTP  META Unicode in Javascript by Flavio\n emoji emoji  emoji \n\n    var f = ['', '', '', '', '', '', '', ''];\n\n    function loop() {\n        location.hash = f[Math.floor((Date.now()/100)%f.length)];\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n\n emoji \n\nvar f = ['','','','','','','','','','','',''];\n emoji !  emoji skin tone modifiers\n\n    var e = ['', '', '', '', ''];\n\n    function loop() {\n        var s = '',\n            i, m;\n\n        for (i = 0; i < 10; i ++) {\n            m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2));\n            s += '' + e[m];\n        }\n\n        location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop(); \n\n\n\n    var f = ['', '', '', '', '', '', '', ''],\n        d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        m = 0;\n\n    function loop() {\n        var s = '', x = 0;\n\n        if (!m) {\n            while (d[x] == 4) {\n                x ++;\n            }\n\n            if (x >= d.length) m = 1;\n            else {\n                d[x] ++;\n            }\n        }\n        else {\n            while (d[x] == 0) {\n                x ++;\n            }\n\n            if (x >= d.length) m = 0;\n            else {\n                d[x] ++;\n\n                if (d[x] == 8) d[x] = 0;\n            }\n        }\n\n        d.forEach(function (n) {\n            s += f[n];\n        });\n\n        location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n\n emoji  unicode \n :\n\n\n\n    function loop() {\n        var i, n, s = '';\n\n        for (i = 0; i < 10; i++) {\n            n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4;\n\n            s += String.fromCharCode(0x2581 + n);\n        }\n\n        window.location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n wavyurl.com \n\n\n    function loop() {\n        var s = '',\n            p;\n\n        p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100);\n\n        while (p >= 8) {\n            s += '';\n            p -= 8;\n        }\n        s += ['','','','','','','',''][p];\n\n        location.hash = s;\n        setTimeout(loop, 50);\n    }\n\n\ntimeupdate\n\n    var video;\n\n    function formatTime(seconds) {\n        var minutes = Math.floor(seconds/60),\n            seconds = Math.floor(seconds - (minutes*60));\n\n        return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);\n    }\n\n    function renderProgressBar() {\n        var s = '',\n            l = 15,\n            p = Math.floor(video.currentTime / video.duration * (l-1)),\n            i;\n\n        for (i = 0; i < l; i ++) {\n            if (i == p) s +='';\n            else if (i < p) s += '';\n            else s += '';\n        }\n\n        location.hash = ''+s+''+formatTime(video.currentTime)+''+formatTime(video.duration);\n    }\n\n    video = document.getElementById('video');\n    video.addEventListener('timeupdate', renderProgressBar);\n emoji \n\n    var e = ['', '', '', '', ''],\n        video;\n\n    function formatTime(seconds) {\n        var minutes = Math.floor(seconds/60),\n            seconds = Math.floor(seconds - (minutes*60));\n\n        return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);\n    }\n\n    function renderProgressBar() {\n        var s = '',\n            c = 0,\n            l = 10,\n            p = Math.floor(video.currentTime / video.duration * ((l*5)-1)),\n            i;\n\n        while (p >= 5) {\n            s += e[4];\n            c ++;\n            p -= 5;\n        }\n        s += e[p];\n        c ++;\n\n        while (c < l) {\n            s += e[0];\n            c ++;\n        }\n\n        location.hash = s+formatTime(video.currentTime)+''+formatTime(video.duration);\n    }\n\n    video = document.getElementById('video');\n    video.addEventListener('timeupdate', renderProgressBar);\n  URL  YouTube\n \n\nlocation.hash =HTML5 History API \n History API URL  hash  History API /    Web / URL  location.hash =\n 32API  Chrome \n\nThrottling history state changes to prevent the browser from hanging.\n\nSafari \n\nSecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds\n\n3\n Firefox web URL  #\n\n ","source":"_posts/Emojis-url.md","raw":"---\ntitle: ' JavaScript  Emoji '\ndate: 2019-01-27 12:06:29\ncategories: web\ntags:\n   - JavaScriptEmoji \ncopyright: true\nkeywords:\ndescription:\n---\n{% cq %} 9 {% endcq %}\n<!--more-->\n\n>[Wpeach](https://juejin.im/post/5c49b822f265da6142743a87)\n Matthew Rayfield \n [Animating URLs with Javascript and Emojis](http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis/)\n \n  emoji unicode  emoji SEO\n JavaScript \n\n JavaScript  UTF-8  emoji HTTP  META Unicode in Javascript by Flavio\n emoji emoji  emoji \n\n    var f = ['', '', '', '', '', '', '', ''];\n\n    function loop() {\n        location.hash = f[Math.floor((Date.now()/100)%f.length)];\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n\n emoji \n\nvar f = ['','','','','','','','','','','',''];\n emoji !  emoji skin tone modifiers\n\n    var e = ['', '', '', '', ''];\n\n    function loop() {\n        var s = '',\n            i, m;\n\n        for (i = 0; i < 10; i ++) {\n            m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2));\n            s += '' + e[m];\n        }\n\n        location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop(); \n\n\n\n    var f = ['', '', '', '', '', '', '', ''],\n        d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        m = 0;\n\n    function loop() {\n        var s = '', x = 0;\n\n        if (!m) {\n            while (d[x] == 4) {\n                x ++;\n            }\n\n            if (x >= d.length) m = 1;\n            else {\n                d[x] ++;\n            }\n        }\n        else {\n            while (d[x] == 0) {\n                x ++;\n            }\n\n            if (x >= d.length) m = 0;\n            else {\n                d[x] ++;\n\n                if (d[x] == 8) d[x] = 0;\n            }\n        }\n\n        d.forEach(function (n) {\n            s += f[n];\n        });\n\n        location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n\n emoji  unicode \n :\n\n\n\n    function loop() {\n        var i, n, s = '';\n\n        for (i = 0; i < 10; i++) {\n            n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4;\n\n            s += String.fromCharCode(0x2581 + n);\n        }\n\n        window.location.hash = s;\n\n        setTimeout(loop, 50);\n    }\n\n    loop();\n wavyurl.com \n\n\n    function loop() {\n        var s = '',\n            p;\n\n        p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100);\n\n        while (p >= 8) {\n            s += '';\n            p -= 8;\n        }\n        s += ['','','','','','','',''][p];\n\n        location.hash = s;\n        setTimeout(loop, 50);\n    }\n\n\ntimeupdate\n\n    var video;\n\n    function formatTime(seconds) {\n        var minutes = Math.floor(seconds/60),\n            seconds = Math.floor(seconds - (minutes*60));\n\n        return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);\n    }\n\n    function renderProgressBar() {\n        var s = '',\n            l = 15,\n            p = Math.floor(video.currentTime / video.duration * (l-1)),\n            i;\n\n        for (i = 0; i < l; i ++) {\n            if (i == p) s +='';\n            else if (i < p) s += '';\n            else s += '';\n        }\n\n        location.hash = ''+s+''+formatTime(video.currentTime)+''+formatTime(video.duration);\n    }\n\n    video = document.getElementById('video');\n    video.addEventListener('timeupdate', renderProgressBar);\n emoji \n\n    var e = ['', '', '', '', ''],\n        video;\n\n    function formatTime(seconds) {\n        var minutes = Math.floor(seconds/60),\n            seconds = Math.floor(seconds - (minutes*60));\n\n        return ('0'+minutes).substr(-2) + ':' + ('0'+seconds).substr(-2);\n    }\n\n    function renderProgressBar() {\n        var s = '',\n            c = 0,\n            l = 10,\n            p = Math.floor(video.currentTime / video.duration * ((l*5)-1)),\n            i;\n\n        while (p >= 5) {\n            s += e[4];\n            c ++;\n            p -= 5;\n        }\n        s += e[p];\n        c ++;\n\n        while (c < l) {\n            s += e[0];\n            c ++;\n        }\n\n        location.hash = s+formatTime(video.currentTime)+''+formatTime(video.duration);\n    }\n\n    video = document.getElementById('video');\n    video.addEventListener('timeupdate', renderProgressBar);\n  URL  YouTube\n \n\nlocation.hash =HTML5 History API \n History API URL  hash  History API /    Web / URL  location.hash =\n 32API  Chrome \n\nThrottling history state changes to prevent the browser from hanging.\n\nSafari \n\nSecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds\n\n3\n Firefox web URL  #\n\n ","slug":"Emojis-url","published":1,"updated":"2026-01-02T00:43:17.570Z","_id":"cmjw5ipq30013w0tg11yb4r30","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>9 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n\n<blockquote>\n<p><a href=\"https://juejin.im/post/5c49b822f265da6142743a87\">Wpeach</a><br> Matthew Rayfield<br> <a href=\"http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis/\">Animating URLs with Javascript and Emojis</a></p>\n</blockquote>\n<p>  emoji unicode  emoji SEO<br> JavaScript <br><br> JavaScript  UTF-8  emoji HTTP  META Unicode in Javascript by Flavio<br> emoji emoji  emoji </p>\n<pre><code>var f = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;];\n\nfunction loop() &#123;\n    location.hash = f[Math.floor((Date.now()/100)%f.length)];\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p><br> emoji </p>\n<p>var f &#x3D; [,,,,,,,,,,,];<br> emoji !  emoji skin tone modifiers</p>\n<pre><code>var e = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;];\n\nfunction loop() &#123;\n    var s = &#39;&#39;,\n        i, m;\n\n    for (i = 0; i &lt; 10; i ++) &#123;\n        m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2));\n        s += &#39;&#39; + e[m];\n    &#125;\n\n    location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop(); \n</code></pre>\n<p><br></p>\n<pre><code>var f = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;],\n    d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    m = 0;\n\nfunction loop() &#123;\n    var s = &#39;&#39;, x = 0;\n\n    if (!m) &#123;\n        while (d[x] == 4) &#123;\n            x ++;\n        &#125;\n\n        if (x &gt;= d.length) m = 1;\n        else &#123;\n            d[x] ++;\n        &#125;\n    &#125;\n    else &#123;\n        while (d[x] == 0) &#123;\n            x ++;\n        &#125;\n\n        if (x &gt;= d.length) m = 0;\n        else &#123;\n            d[x] ++;\n\n            if (d[x] == 8) d[x] = 0;\n        &#125;\n    &#125;\n\n    d.forEach(function (n) &#123;\n        s += f[n];\n    &#125;);\n\n    location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p><br> emoji  unicode <br> :</p>\n<p></p>\n<pre><code>function loop() &#123;\n    var i, n, s = &#39;&#39;;\n\n    for (i = 0; i &lt; 10; i++) &#123;\n        n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4;\n\n        s += String.fromCharCode(0x2581 + n);\n    &#125;\n\n    window.location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p> wavyurl.com <br></p>\n<pre><code>function loop() &#123;\n    var s = &#39;&#39;,\n        p;\n\n    p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100);\n\n    while (p &gt;= 8) &#123;\n        s += &#39;&#39;;\n        p -= 8;\n    &#125;\n    s += [&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;][p];\n\n    location.hash = s;\n    setTimeout(loop, 50);\n&#125;\n</code></pre>\n<p><br><br>timeupdate</p>\n<pre><code>var video;\n\nfunction formatTime(seconds) &#123;\n    var minutes = Math.floor(seconds/60),\n        seconds = Math.floor(seconds - (minutes*60));\n\n    return (&#39;0&#39;+minutes).substr(-2) + &#39;:&#39; + (&#39;0&#39;+seconds).substr(-2);\n&#125;\n\nfunction renderProgressBar() &#123;\n    var s = &#39;&#39;,\n        l = 15,\n        p = Math.floor(video.currentTime / video.duration * (l-1)),\n        i;\n\n    for (i = 0; i &lt; l; i ++) &#123;\n        if (i == p) s +=&#39;&#39;;\n        else if (i &lt; p) s += &#39;&#39;;\n        else s += &#39;&#39;;\n    &#125;\n\n    location.hash = &#39;&#39;+s+&#39;&#39;+formatTime(video.currentTime)+&#39;&#39;+formatTime(video.duration);\n&#125;\n\nvideo = document.getElementById(&#39;video&#39;);\nvideo.addEventListener(&#39;timeupdate&#39;, renderProgressBar);\n</code></pre>\n<p> emoji </p>\n<pre><code>var e = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;],\n    video;\n\nfunction formatTime(seconds) &#123;\n    var minutes = Math.floor(seconds/60),\n        seconds = Math.floor(seconds - (minutes*60));\n\n    return (&#39;0&#39;+minutes).substr(-2) + &#39;:&#39; + (&#39;0&#39;+seconds).substr(-2);\n&#125;\n\nfunction renderProgressBar() &#123;\n    var s = &#39;&#39;,\n        c = 0,\n        l = 10,\n        p = Math.floor(video.currentTime / video.duration * ((l*5)-1)),\n        i;\n\n    while (p &gt;= 5) &#123;\n        s += e[4];\n        c ++;\n        p -= 5;\n    &#125;\n    s += e[p];\n    c ++;\n\n    while (c &lt; l) &#123;\n        s += e[0];\n        c ++;\n    &#125;\n\n    location.hash = s+formatTime(video.currentTime)+&#39;&#39;+formatTime(video.duration);\n&#125;\n\nvideo = document.getElementById(&#39;video&#39;);\nvideo.addEventListener(&#39;timeupdate&#39;, renderProgressBar);\n</code></pre>\n<p>  URL  YouTube<br> <br><br>location.hash &#x3D;HTML5 History API <br> History API URL  hash  History API &#x2F;    Web &#x2F; URL  location.hash &#x3D;<br> 32API  Chrome </p>\n<p>Throttling history state changes to prevent the browser from hanging.</p>\n<p>Safari </p>\n<p>SecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds</p>\n<p>3<br> Firefox web URL  #</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>9 </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<blockquote>\n<p><a href=\"https://juejin.im/post/5c49b822f265da6142743a87\">Wpeach</a><br> Matthew Rayfield<br> <a href=\"http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis/\">Animating URLs with Javascript and Emojis</a></p>\n</blockquote>\n<p>  emoji unicode  emoji SEO<br> JavaScript <br><br> JavaScript  UTF-8  emoji HTTP  META Unicode in Javascript by Flavio<br> emoji emoji  emoji </p>\n<pre><code>var f = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;];\n\nfunction loop() &#123;\n    location.hash = f[Math.floor((Date.now()/100)%f.length)];\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p><br> emoji </p>\n<p>var f &#x3D; [,,,,,,,,,,,];<br> emoji !  emoji skin tone modifiers</p>\n<pre><code>var e = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;];\n\nfunction loop() &#123;\n    var s = &#39;&#39;,\n        i, m;\n\n    for (i = 0; i &lt; 10; i ++) &#123;\n        m = Math.floor(e.length * ((Math.sin((Date.now()/100) + i)+1)/2));\n        s += &#39;&#39; + e[m];\n    &#125;\n\n    location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop(); \n</code></pre>\n<p><br></p>\n<pre><code>var f = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;],\n    d = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    m = 0;\n\nfunction loop() &#123;\n    var s = &#39;&#39;, x = 0;\n\n    if (!m) &#123;\n        while (d[x] == 4) &#123;\n            x ++;\n        &#125;\n\n        if (x &gt;= d.length) m = 1;\n        else &#123;\n            d[x] ++;\n        &#125;\n    &#125;\n    else &#123;\n        while (d[x] == 0) &#123;\n            x ++;\n        &#125;\n\n        if (x &gt;= d.length) m = 0;\n        else &#123;\n            d[x] ++;\n\n            if (d[x] == 8) d[x] = 0;\n        &#125;\n    &#125;\n\n    d.forEach(function (n) &#123;\n        s += f[n];\n    &#125;);\n\n    location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p><br> emoji  unicode <br> :</p>\n<p></p>\n<pre><code>function loop() &#123;\n    var i, n, s = &#39;&#39;;\n\n    for (i = 0; i &lt; 10; i++) &#123;\n        n = Math.floor(Math.sin((Date.now()/200) + (i/2)) * 4) + 4;\n\n        s += String.fromCharCode(0x2581 + n);\n    &#125;\n\n    window.location.hash = s;\n\n    setTimeout(loop, 50);\n&#125;\n\nloop();\n</code></pre>\n<p> wavyurl.com <br></p>\n<pre><code>function loop() &#123;\n    var s = &#39;&#39;,\n        p;\n\n    p = Math.floor(((Math.sin(Date.now()/300)+1)/2) * 100);\n\n    while (p &gt;= 8) &#123;\n        s += &#39;&#39;;\n        p -= 8;\n    &#125;\n    s += [&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;][p];\n\n    location.hash = s;\n    setTimeout(loop, 50);\n&#125;\n</code></pre>\n<p><br><br>timeupdate</p>\n<pre><code>var video;\n\nfunction formatTime(seconds) &#123;\n    var minutes = Math.floor(seconds/60),\n        seconds = Math.floor(seconds - (minutes*60));\n\n    return (&#39;0&#39;+minutes).substr(-2) + &#39;:&#39; + (&#39;0&#39;+seconds).substr(-2);\n&#125;\n\nfunction renderProgressBar() &#123;\n    var s = &#39;&#39;,\n        l = 15,\n        p = Math.floor(video.currentTime / video.duration * (l-1)),\n        i;\n\n    for (i = 0; i &lt; l; i ++) &#123;\n        if (i == p) s +=&#39;&#39;;\n        else if (i &lt; p) s += &#39;&#39;;\n        else s += &#39;&#39;;\n    &#125;\n\n    location.hash = &#39;&#39;+s+&#39;&#39;+formatTime(video.currentTime)+&#39;&#39;+formatTime(video.duration);\n&#125;\n\nvideo = document.getElementById(&#39;video&#39;);\nvideo.addEventListener(&#39;timeupdate&#39;, renderProgressBar);\n</code></pre>\n<p> emoji </p>\n<pre><code>var e = [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;],\n    video;\n\nfunction formatTime(seconds) &#123;\n    var minutes = Math.floor(seconds/60),\n        seconds = Math.floor(seconds - (minutes*60));\n\n    return (&#39;0&#39;+minutes).substr(-2) + &#39;:&#39; + (&#39;0&#39;+seconds).substr(-2);\n&#125;\n\nfunction renderProgressBar() &#123;\n    var s = &#39;&#39;,\n        c = 0,\n        l = 10,\n        p = Math.floor(video.currentTime / video.duration * ((l*5)-1)),\n        i;\n\n    while (p &gt;= 5) &#123;\n        s += e[4];\n        c ++;\n        p -= 5;\n    &#125;\n    s += e[p];\n    c ++;\n\n    while (c &lt; l) &#123;\n        s += e[0];\n        c ++;\n    &#125;\n\n    location.hash = s+formatTime(video.currentTime)+&#39;&#39;+formatTime(video.duration);\n&#125;\n\nvideo = document.getElementById(&#39;video&#39;);\nvideo.addEventListener(&#39;timeupdate&#39;, renderProgressBar);\n</code></pre>\n<p>  URL  YouTube<br> <br><br>location.hash &#x3D;HTML5 History API <br> History API URL  hash  History API &#x2F;    Web &#x2F; URL  location.hash &#x3D;<br> 32API  Chrome </p>\n<p>Throttling history state changes to prevent the browser from hanging.</p>\n<p>Safari </p>\n<p>SecurityError: Attempt to use history.pushState() more than 100 times per 30.000000 seconds</p>\n<p>3<br> Firefox web URL  #</p>"},{"title":"gulpwebpack","date":"2019-01-29T01:48:44.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}{% endcq %}\n<!--more-->\n>[](https://www.cnblogs.com/lovesong/p/6413546.html)\n# gulp\n\ngulptasktaskservergulptask\n\nPSTask Runner\n\n# webpack\n\nwebpackjscssloaderplugins\nPSwebpack is a module bundle\n\n# \n\ngulpwebpack\n\n|       | gulp  |  webpack  |\n| ------------- |:-------------:| -----:|\n| css| gulp-minify-css|extract-text-webpack-pluginwebpack.optimize.UglifyJsPlugin  |\n| js |gulp-uglifygulp-concat| js,webpack.optimize.UglifyJsPlugin \n| sass/less\t| gulp-sass/gulp-less \t| sass-loader/less-loader  \n| server | gulp-webserver | webpack-dev-server\n|  | gulp-revgulp-rev-collector | hash module.exports = {plugins:[new ExtractTextPlugin(style.[hash].css\")}\n\n\n# \n* \n* gulp\n* webpack\n\n# \n* gulpgruntwebpackbrowserify\n* gulpwebpackvuereactwebpackwebpackgulp","source":"_posts/gulpwebpack.md","raw":"---\ntitle: gulpwebpack\ndate: 2019-01-29 09:48:44\ncategories: web\ntags:\n    - gulpwebpack\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}{% endcq %}\n<!--more-->\n>[](https://www.cnblogs.com/lovesong/p/6413546.html)\n# gulp\n\ngulptasktaskservergulptask\n\nPSTask Runner\n\n# webpack\n\nwebpackjscssloaderplugins\nPSwebpack is a module bundle\n\n# \n\ngulpwebpack\n\n|       | gulp  |  webpack  |\n| ------------- |:-------------:| -----:|\n| css| gulp-minify-css|extract-text-webpack-pluginwebpack.optimize.UglifyJsPlugin  |\n| js |gulp-uglifygulp-concat| js,webpack.optimize.UglifyJsPlugin \n| sass/less\t| gulp-sass/gulp-less \t| sass-loader/less-loader  \n| server | gulp-webserver | webpack-dev-server\n|  | gulp-revgulp-rev-collector | hash module.exports = {plugins:[new ExtractTextPlugin(style.[hash].css\")}\n\n\n# \n* \n* gulp\n* webpack\n\n# \n* gulpgruntwebpackbrowserify\n* gulpwebpackvuereactwebpackwebpackgulp","slug":"gulpwebpack","published":1,"updated":"2026-01-02T00:43:17.572Z","_id":"cmjw5ipqi0017w0tg3u4s969j","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/lovesong/p/6413546.html\"></a></p>\n</blockquote>\n<h1 id=\"gulp\"><a href=\"#gulp\" class=\"headerlink\" title=\"gulp\"></a>gulp</h1><p>gulptasktaskservergulptask</p>\n<p>PSTask Runner</p>\n<h1 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h1><p>webpackjscssloaderplugins<br>PSwebpack is a module bundle</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>gulpwebpack</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th align=\"center\">gulp</th>\n<th align=\"right\">webpack</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>css</td>\n<td align=\"center\">gulp-minify-css</td>\n<td align=\"right\">extract-text-webpack-pluginwebpack.optimize.UglifyJsPlugin</td>\n</tr>\n<tr>\n<td>js</td>\n<td align=\"center\">gulp-uglifygulp-concat</td>\n<td align=\"right\">js,webpack.optimize.UglifyJsPlugin</td>\n</tr>\n<tr>\n<td>sass&#x2F;less</td>\n<td align=\"center\">gulp-sass&#x2F;gulp-less </td>\n<td align=\"right\">sass-loader&#x2F;less-loader </td>\n</tr>\n<tr>\n<td>server</td>\n<td align=\"center\">gulp-webserver</td>\n<td align=\"right\">webpack-dev-server</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">gulp-revgulp-rev-collector</td>\n<td align=\"right\">hash module.exports &#x3D; {plugins:[new ExtractTextPlugin(style.[hash].css)}</td>\n</tr>\n</tbody></table>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>gulp</li>\n<li>webpack</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>gulpgruntwebpackbrowserify</li>\n<li>gulpwebpackvuereactwebpackwebpackgulp</li>\n</ul>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<blockquote>\n<p><a href=\"https://www.cnblogs.com/lovesong/p/6413546.html\"></a></p>\n</blockquote>\n<h1 id=\"gulp\"><a href=\"#gulp\" class=\"headerlink\" title=\"gulp\"></a>gulp</h1><p>gulptasktaskservergulptask</p>\n<p>PSTask Runner</p>\n<h1 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h1><p>webpackjscssloaderplugins<br>PSwebpack is a module bundle</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>gulpwebpack</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th align=\"center\">gulp</th>\n<th align=\"right\">webpack</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>css</td>\n<td align=\"center\">gulp-minify-css</td>\n<td align=\"right\">extract-text-webpack-pluginwebpack.optimize.UglifyJsPlugin</td>\n</tr>\n<tr>\n<td>js</td>\n<td align=\"center\">gulp-uglifygulp-concat</td>\n<td align=\"right\">js,webpack.optimize.UglifyJsPlugin</td>\n</tr>\n<tr>\n<td>sass&#x2F;less</td>\n<td align=\"center\">gulp-sass&#x2F;gulp-less </td>\n<td align=\"right\">sass-loader&#x2F;less-loader </td>\n</tr>\n<tr>\n<td>server</td>\n<td align=\"center\">gulp-webserver</td>\n<td align=\"right\">webpack-dev-server</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">gulp-revgulp-rev-collector</td>\n<td align=\"right\">hash module.exports &#x3D; {plugins:[new ExtractTextPlugin(style.[hash].css)}</td>\n</tr>\n</tbody></table>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>gulp</li>\n<li>webpack</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>gulpgruntwebpackbrowserify</li>\n<li>gulpwebpackvuereactwebpackwebpackgulp</li>\n</ul>"},{"title":"hexo","date":"2019-07-09T08:36:44.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} hexo {% endcq %}\n<!--more-->\n\n> hexo clean => hexo s =>  hexo new \"title\"\n\n> hexo clean => hexo g => gulp => hexo dgit","source":"_posts/hexo.md","raw":"---\ntitle: hexo\ndate: 2019-07-09 16:36:44\ncategories: ['hexo']\ntags:\n    - hexo\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} hexo {% endcq %}\n<!--more-->\n\n> hexo clean => hexo s =>  hexo new \"title\"\n\n> hexo clean => hexo g => gulp => hexo dgit","slug":"hexo","published":1,"updated":"2026-01-02T00:43:17.573Z","_id":"cmjw5ipqr001bw0tg7dfefn57","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>hexo </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n\n<blockquote>\n<p>hexo clean &#x3D;&gt; hexo s &#x3D;&gt;  hexo new title</p>\n</blockquote>\n<blockquote>\n<p>hexo clean &#x3D;&gt; hexo g &#x3D;&gt; gulp &#x3D;&gt; hexo dgit</p>\n</blockquote>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>hexo </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<blockquote>\n<p>hexo clean &#x3D;&gt; hexo s &#x3D;&gt;  hexo new title</p>\n</blockquote>\n<blockquote>\n<p>hexo clean &#x3D;&gt; hexo g &#x3D;&gt; gulp &#x3D;&gt; hexo dgit</p>\n</blockquote>"},{"title":"js","date":"2019-02-14T09:21:15.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<!--more-->\n# scrollTop,offsetTop,scrollLeft,offsetLeft\n```javascript\n document.body.clientWidth;\n document.body.clientHeight;\n document.body.offsetWidth ();\n document.body.offsetHeight ();\n document.body.scrollWidth;\n document.body.scrollHeight;\n document.body.scrollTop;\n document.body.scrollLeft;\n window.screenTop;\n window.screenLeft;\n window.screen.height;\n window.screen.width;\n window.screen.availHeight;\n```\n<img src=\"/img/location.jpeg\">\n\n# \n## \n1.:e.screenX,e.screenY\n2.:e.clientX,e.clientY\n3.div:e.offsetX,e.offsetY\n\n---\n\n## \nwindow.onscroll  \n\t\t      document.body.scrollTop | |  document.documentElement.scrollTop\n      \n\t\t\twindow.scrollTo\n\t\t\twindow.scrollBy()\n\n# \n[clientHeightoffsetHeightscrollHeightoffsetTopscrollTop](https://blog.csdn.net/qq_35430000/article/details/80277587)\n","source":"_posts/js.md","raw":"---\ntitle: js\ndate: 2019-02-14 17:21:15\ncategories: web\ntags: \n    - screenX/screenY\n    - clientX/slientY\n    - offsetX/offsetY\n    # - onscroll/scrollTop/scrollTo/scrollBy\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<!--more-->\n# scrollTop,offsetTop,scrollLeft,offsetLeft\n```javascript\n document.body.clientWidth;\n document.body.clientHeight;\n document.body.offsetWidth ();\n document.body.offsetHeight ();\n document.body.scrollWidth;\n document.body.scrollHeight;\n document.body.scrollTop;\n document.body.scrollLeft;\n window.screenTop;\n window.screenLeft;\n window.screen.height;\n window.screen.width;\n window.screen.availHeight;\n```\n<img src=\"/img/location.jpeg\">\n\n# \n## \n1.:e.screenX,e.screenY\n2.:e.clientX,e.clientY\n3.div:e.offsetX,e.offsetY\n\n---\n\n## \nwindow.onscroll  \n\t\t      document.body.scrollTop | |  document.documentElement.scrollTop\n      \n\t\t\twindow.scrollTo\n\t\t\twindow.scrollBy()\n\n# \n[clientHeightoffsetHeightscrollHeightoffsetTopscrollTop](https://blog.csdn.net/qq_35430000/article/details/80277587)\n","slug":"js","published":1,"updated":"2026-01-02T00:43:17.573Z","_id":"cmjw5ipri001gw0tg99qg8mrk","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<h1 id=\"scrollTop-offsetTop-scrollLeft-offsetLeft\"><a href=\"#scrollTop-offsetTop-scrollLeft-offsetLeft\" class=\"headerlink\" title=\"scrollTop,offsetTop,scrollLeft,offsetLeft\"></a>scrollTop,offsetTop,scrollLeft,offsetLeft</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientWidth</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">offsetWidth</span> ();</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">offsetHeight</span> ();</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollWidth</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollHeight</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollLeft</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screenTop</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screenLeft</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">height</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">width</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">availHeight</span>;</span><br></pre></td></tr></table></figure>\n<img src=\"/img/location.jpeg\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.:e.screenX,e.screenY<br>2.:e.clientX,e.clientY<br>3.div:e.offsetX,e.offsetY</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>window.onscroll  <br>              document.body.scrollTop | |  document.documentElement.scrollTop<br>      <br>            window.scrollTo<br>            window.scrollBy()</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://blog.csdn.net/qq_35430000/article/details/80277587\">clientHeightoffsetHeightscrollHeightoffsetTopscrollTop</a></p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h1 id=\"scrollTop-offsetTop-scrollLeft-offsetLeft\"><a href=\"#scrollTop-offsetTop-scrollLeft-offsetLeft\" class=\"headerlink\" title=\"scrollTop,offsetTop,scrollLeft,offsetLeft\"></a>scrollTop,offsetTop,scrollLeft,offsetLeft</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientWidth</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">offsetWidth</span> ();</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">offsetHeight</span> ();</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollWidth</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollHeight</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollLeft</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screenTop</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screenLeft</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">height</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">width</span>;</span><br><span class=\"line\"> <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">availHeight</span>;</span><br></pre></td></tr></table></figure>\n<img src=\"/img/location.jpeg\">\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.:e.screenX,e.screenY<br>2.:e.clientX,e.clientY<br>3.div:e.offsetX,e.offsetY</p>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>window.onscroll  <br>              document.body.scrollTop | |  document.documentElement.scrollTop<br>      <br>            window.scrollTo<br>            window.scrollBy()</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://blog.csdn.net/qq_35430000/article/details/80277587\">clientHeightoffsetHeightscrollHeightoffsetTopscrollTop</a></p>"},{"title":"nodeJs","date":"2019-11-25T06:11:50.000Z","copyright":true,"keywords":null,"description":null,"_content":"{% cq %} Node.js  Chrome V8  JavaScript  {% endcq %}\n<img style=\"height: 176px;width: 50%;\" src=\"/img/libuv.png\">\n<!--more-->\n\n1. **node_modules require('nav') ** \n```\n    node_modulesnavnav.js\n    //nav.js *** nmp init -y  package.json \"main\": \"nav.js\" ***\n\n        const str = 'hello world come from nav.js'\n        module.exports = str\n\n    //js\n        const nav = require('nav')\n        console.log(nav)  //hello world come from nav.js\n```\n\n2. ***fsAPI***\n```\n    const fs = require('fs')\n\n    // 1. \n    fs.readFile('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd.toString())\n    })\n\n    // 2. \n    fs.open('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd)\n    })\n\n    // 3. \n    fs.stat('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd.isFile())\n    })\n\n    // 4. \n    fs.writeFile('log.js', '3', function (err) {\n        if (err) {\n            return console.error(err)\n        }\n    })\n\n    // 5. \n    fs.appendFile('./log.js','appendFile\\n',function(err){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    // 6.  \n    fs.readdir('./src',function(err,fl){\n        if (err) {\n            return console.error(err)\n        }\n        console.log(fl)\n    })\n\n    // 7. fs.rename 1. 2.\n    fs.rename('./src/rename.js','./src/rename1.js',function(err,res){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n    fs.rename('./src/index.html','./static/index.js',function(err,re){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    // 8. fs.rmdir \n    fs.rmdir('index.html', function (err, re) {\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    //9. fs.unlink \n    fs.unlink('index.html', function (err, re) {\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n```\n\n2.1 *** src)***\n```\n    //\n    fs.readdir('src',function(err,files){\n    var allFile = []\n    if(err){\n        return console.error(err)\n    }else{\n        (function a(i){\n            if(files.length == i){\n                console.log(allFile)\n                return false\n            }\n            fs.stat('src/'+files[i],function(err,fd){\n                if(fd.isDirectory()){\n                    allFile.push(files[i])\n                }\n                a(i+1)\n            })\n        })(0)\n    }\n})\n```\n\n3. ***  ***\n```\n    const fs = require('fs');\n\n    //\n    var readStream = fs.createReadStream('demo.txt');\n    var str = '';\n    var count = 0;\n    readStream.on('data',function(chunk){\n        str += chunk;\n        count++;\n    })\n    readStream.on('end',function(chunk){\n        console.log(count)\n        console.log(str)\n    })\n\n    //\n    var writeStream = fs.createWriteStream('input.txt');\n    var data = 'createWriteStream\\n'\n    //for\n    for(var i=0;i<90;i++){\n        writeStream.write(data,'utf-8');\n    }\n    writeStream.end(); // \n    // \n    writeStream.on('finish',function(){\n        console.log('')\n    })\n    //\n    writeStream.on('error',function(){\n        console.log('')\n    })\n\n    //\n    var readerStream = fs.createReadStream('demo.txt'); //\n    var writeStream = fs.createWriteStream('input.txt'); //\n    readerStream.pipe(writeStream)\n    console.log('')\n\n```\n\n4. *** weburl ***\n```\n    const http = require('http');\n    const fs = require('fs');\n    const path = require('path');\n    const mime = require('./static/model/mime');\n\n    http.createServer(function (req, res) {\n        var pathname = req.url;\n        pathname == '/' ? pathname = './index.html' : \"\";\n        //\n        let exname = path.extname(pathname)\n        if (pathname != '/favicon.ico') {\n            fs.readFile('static/' + pathname, function (err, fd) {\n                if (err) {\n                    return console.error(err)\n                } else {\n                    var mimeName = mime.getMime(exname) //text-html,text-css\n                    res.writeHead(200, {\n                        \"Content-Type\": \"mimeName;chart=utf-8\"\n                    })\n                    res.end(fd)\n                }\n            })\n        }\n    }).listen(8888)\n```\n4.1 ***  ***\n```\n    const fs = require('fs');\n    console.log(1)\n    function getMime(callback){\n        fs.readFile('input.txt',function(err,fd){\n            if(err){\n                return console.error(err)\n            }\n            callback(fd)\n        })\n    }\n    getMime(function(data){\n        console.log(data.toString())\n    })\n```\n4.2 *** nodejsevents ***\n```\n    const fs = require('fs');\n    const events = require('events');\n\n    var EventEmitter = new events.EventEmitter();\n\n    fs.readFile('input.txt', function (err, fd) {\n        if (err) {\n            return console.error(err)\n        }\n        EventEmitter.emit('to_parent', fd)\n    })\n\n    EventEmitter.on('to_parent', function (data) {\n        console.log(data.toString())\n    })\n```\n","source":"_posts/nodeJs.md","raw":"---\ntitle: nodeJs\ndate: 2019-11-25 14:11:50\ncategories: web\ntags:\n    - nodejs\ncopyright: true\nkeywords:\ndescription:\n---\n{% cq %} Node.js  Chrome V8  JavaScript  {% endcq %}\n<img style=\"height: 176px;width: 50%;\" src=\"/img/libuv.png\">\n<!--more-->\n\n1. **node_modules require('nav') ** \n```\n    node_modulesnavnav.js\n    //nav.js *** nmp init -y  package.json \"main\": \"nav.js\" ***\n\n        const str = 'hello world come from nav.js'\n        module.exports = str\n\n    //js\n        const nav = require('nav')\n        console.log(nav)  //hello world come from nav.js\n```\n\n2. ***fsAPI***\n```\n    const fs = require('fs')\n\n    // 1. \n    fs.readFile('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd.toString())\n    })\n\n    // 2. \n    fs.open('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd)\n    })\n\n    // 3. \n    fs.stat('./demo.txt',function(err,fd){\n        if(err){\n            return console.error(err)\n        }\n        console.log(fd.isFile())\n    })\n\n    // 4. \n    fs.writeFile('log.js', '3', function (err) {\n        if (err) {\n            return console.error(err)\n        }\n    })\n\n    // 5. \n    fs.appendFile('./log.js','appendFile\\n',function(err){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    // 6.  \n    fs.readdir('./src',function(err,fl){\n        if (err) {\n            return console.error(err)\n        }\n        console.log(fl)\n    })\n\n    // 7. fs.rename 1. 2.\n    fs.rename('./src/rename.js','./src/rename1.js',function(err,res){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n    fs.rename('./src/index.html','./static/index.js',function(err,re){\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    // 8. fs.rmdir \n    fs.rmdir('index.html', function (err, re) {\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n\n    //9. fs.unlink \n    fs.unlink('index.html', function (err, re) {\n        if (err) {\n            return console.error(err)\n        }\n        console.log('')\n    })\n```\n\n2.1 *** src)***\n```\n    //\n    fs.readdir('src',function(err,files){\n    var allFile = []\n    if(err){\n        return console.error(err)\n    }else{\n        (function a(i){\n            if(files.length == i){\n                console.log(allFile)\n                return false\n            }\n            fs.stat('src/'+files[i],function(err,fd){\n                if(fd.isDirectory()){\n                    allFile.push(files[i])\n                }\n                a(i+1)\n            })\n        })(0)\n    }\n})\n```\n\n3. ***  ***\n```\n    const fs = require('fs');\n\n    //\n    var readStream = fs.createReadStream('demo.txt');\n    var str = '';\n    var count = 0;\n    readStream.on('data',function(chunk){\n        str += chunk;\n        count++;\n    })\n    readStream.on('end',function(chunk){\n        console.log(count)\n        console.log(str)\n    })\n\n    //\n    var writeStream = fs.createWriteStream('input.txt');\n    var data = 'createWriteStream\\n'\n    //for\n    for(var i=0;i<90;i++){\n        writeStream.write(data,'utf-8');\n    }\n    writeStream.end(); // \n    // \n    writeStream.on('finish',function(){\n        console.log('')\n    })\n    //\n    writeStream.on('error',function(){\n        console.log('')\n    })\n\n    //\n    var readerStream = fs.createReadStream('demo.txt'); //\n    var writeStream = fs.createWriteStream('input.txt'); //\n    readerStream.pipe(writeStream)\n    console.log('')\n\n```\n\n4. *** weburl ***\n```\n    const http = require('http');\n    const fs = require('fs');\n    const path = require('path');\n    const mime = require('./static/model/mime');\n\n    http.createServer(function (req, res) {\n        var pathname = req.url;\n        pathname == '/' ? pathname = './index.html' : \"\";\n        //\n        let exname = path.extname(pathname)\n        if (pathname != '/favicon.ico') {\n            fs.readFile('static/' + pathname, function (err, fd) {\n                if (err) {\n                    return console.error(err)\n                } else {\n                    var mimeName = mime.getMime(exname) //text-html,text-css\n                    res.writeHead(200, {\n                        \"Content-Type\": \"mimeName;chart=utf-8\"\n                    })\n                    res.end(fd)\n                }\n            })\n        }\n    }).listen(8888)\n```\n4.1 ***  ***\n```\n    const fs = require('fs');\n    console.log(1)\n    function getMime(callback){\n        fs.readFile('input.txt',function(err,fd){\n            if(err){\n                return console.error(err)\n            }\n            callback(fd)\n        })\n    }\n    getMime(function(data){\n        console.log(data.toString())\n    })\n```\n4.2 *** nodejsevents ***\n```\n    const fs = require('fs');\n    const events = require('events');\n\n    var EventEmitter = new events.EventEmitter();\n\n    fs.readFile('input.txt', function (err, fd) {\n        if (err) {\n            return console.error(err)\n        }\n        EventEmitter.emit('to_parent', fd)\n    })\n\n    EventEmitter.on('to_parent', function (data) {\n        console.log(data.toString())\n    })\n```\n","slug":"nodeJs","published":1,"updated":"2026-01-02T00:43:17.573Z","_id":"cmjw5iprj001ow0tg9odi7znk","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>Node.js  Chrome V8  JavaScript  </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img style=\"height: 176px;width: 50%;\" src=\"/img/libuv.png\">\n<span id=\"more\"></span>\n\n<ol>\n<li><p><strong>node_modules require(nav) </strong> </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_modulesnavnav.js</span><br><span class=\"line\">//nav.js *** nmp init -y  package.json &quot;main&quot;: &quot;nav.js&quot; ***</span><br><span class=\"line\"></span><br><span class=\"line\">    const str = &#x27;hello world come from nav.js&#x27;</span><br><span class=\"line\">    module.exports = str</span><br><span class=\"line\"></span><br><span class=\"line\">//js</span><br><span class=\"line\">    const nav = require(&#x27;nav&#x27;)</span><br><span class=\"line\">    console.log(nav)  //hello world come from nav.js</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><em><strong>fsAPI</strong></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 1. </span><br><span class=\"line\">fs.readFile(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd.toString())</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 2. </span><br><span class=\"line\">fs.open(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 3. </span><br><span class=\"line\">fs.stat(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd.isFile())</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 4. </span><br><span class=\"line\">fs.writeFile(&#x27;log.js&#x27;, &#x27;3&#x27;, function (err) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 5. </span><br><span class=\"line\">fs.appendFile(&#x27;./log.js&#x27;,&#x27;appendFile\\n&#x27;,function(err)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 6.  </span><br><span class=\"line\">fs.readdir(&#x27;./src&#x27;,function(err,fl)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fl)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 7. fs.rename 1. 2.</span><br><span class=\"line\">fs.rename(&#x27;./src/rename.js&#x27;,&#x27;./src/rename1.js&#x27;,function(err,res)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">fs.rename(&#x27;./src/index.html&#x27;,&#x27;./static/index.js&#x27;,function(err,re)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 8. fs.rmdir </span><br><span class=\"line\">fs.rmdir(&#x27;index.html&#x27;, function (err, re) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//9. fs.unlink </span><br><span class=\"line\">fs.unlink(&#x27;index.html&#x27;, function (err, re) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>2.1 *** src)***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    //</span><br><span class=\"line\">    fs.readdir(&#x27;src&#x27;,function(err,files)&#123;</span><br><span class=\"line\">    var allFile = []</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;else&#123;</span><br><span class=\"line\">        (function a(i)&#123;</span><br><span class=\"line\">            if(files.length == i)&#123;</span><br><span class=\"line\">                console.log(allFile)</span><br><span class=\"line\">                return false</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fs.stat(&#x27;src/&#x27;+files[i],function(err,fd)&#123;</span><br><span class=\"line\">                if(fd.isDirectory())&#123;</span><br><span class=\"line\">                    allFile.push(files[i])</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                a(i+1)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)(0)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><p>***  ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var readStream = fs.createReadStream(&#x27;demo.txt&#x27;);</span><br><span class=\"line\">var str = &#x27;&#x27;;</span><br><span class=\"line\">var count = 0;</span><br><span class=\"line\">readStream.on(&#x27;data&#x27;,function(chunk)&#123;</span><br><span class=\"line\">    str += chunk;</span><br><span class=\"line\">    count++;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">readStream.on(&#x27;end&#x27;,function(chunk)&#123;</span><br><span class=\"line\">    console.log(count)</span><br><span class=\"line\">    console.log(str)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var writeStream = fs.createWriteStream(&#x27;input.txt&#x27;);</span><br><span class=\"line\">var data = &#x27;createWriteStream\\n&#x27;</span><br><span class=\"line\">//for</span><br><span class=\"line\">for(var i=0;i&lt;90;i++)&#123;</span><br><span class=\"line\">    writeStream.write(data,&#x27;utf-8&#x27;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">writeStream.end(); // </span><br><span class=\"line\">// </span><br><span class=\"line\">writeStream.on(&#x27;finish&#x27;,function()&#123;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">//</span><br><span class=\"line\">writeStream.on(&#x27;error&#x27;,function()&#123;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var readerStream = fs.createReadStream(&#x27;demo.txt&#x27;); //</span><br><span class=\"line\">var writeStream = fs.createWriteStream(&#x27;input.txt&#x27;); //</span><br><span class=\"line\">readerStream.pipe(writeStream)</span><br><span class=\"line\">console.log(&#x27;&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>*** weburl ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\">const mime = require(&#x27;./static/model/mime&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">http.createServer(function (req, res) &#123;</span><br><span class=\"line\">    var pathname = req.url;</span><br><span class=\"line\">    pathname == &#x27;/&#x27; ? pathname = &#x27;./index.html&#x27; : &quot;&quot;;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    let exname = path.extname(pathname)</span><br><span class=\"line\">    if (pathname != &#x27;/favicon.ico&#x27;) &#123;</span><br><span class=\"line\">        fs.readFile(&#x27;static/&#x27; + pathname, function (err, fd) &#123;</span><br><span class=\"line\">            if (err) &#123;</span><br><span class=\"line\">                return console.error(err)</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                var mimeName = mime.getMime(exname) //text-html,text-css</span><br><span class=\"line\">                res.writeHead(200, &#123;</span><br><span class=\"line\">                    &quot;Content-Type&quot;: &quot;mimeName;chart=utf-8&quot;</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                res.end(fd)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;).listen(8888)</span><br></pre></td></tr></table></figure>\n<p>4.1 ***  ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">console.log(1)</span><br><span class=\"line\">function getMime(callback)&#123;</span><br><span class=\"line\">    fs.readFile(&#x27;input.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">        if(err)&#123;</span><br><span class=\"line\">            return console.error(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        callback(fd)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getMime(function(data)&#123;</span><br><span class=\"line\">    console.log(data.toString())</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>4.2 *** nodejsevents ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">const events = require(&#x27;events&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">var EventEmitter = new events.EventEmitter();</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(&#x27;input.txt&#x27;, function (err, fd) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    EventEmitter.emit(&#x27;to_parent&#x27;, fd)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">EventEmitter.on(&#x27;to_parent&#x27;, function (data) &#123;</span><br><span class=\"line\">    console.log(data.toString())</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n</ol>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>Node.js  Chrome V8  JavaScript  </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img style=\"height: 176px;width: 50%;\" src=\"/img/libuv.png\">","more":"<ol>\n<li><p><strong>node_modules require(nav) </strong> </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_modulesnavnav.js</span><br><span class=\"line\">//nav.js *** nmp init -y  package.json &quot;main&quot;: &quot;nav.js&quot; ***</span><br><span class=\"line\"></span><br><span class=\"line\">    const str = &#x27;hello world come from nav.js&#x27;</span><br><span class=\"line\">    module.exports = str</span><br><span class=\"line\"></span><br><span class=\"line\">//js</span><br><span class=\"line\">    const nav = require(&#x27;nav&#x27;)</span><br><span class=\"line\">    console.log(nav)  //hello world come from nav.js</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><em><strong>fsAPI</strong></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 1. </span><br><span class=\"line\">fs.readFile(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd.toString())</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 2. </span><br><span class=\"line\">fs.open(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 3. </span><br><span class=\"line\">fs.stat(&#x27;./demo.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fd.isFile())</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 4. </span><br><span class=\"line\">fs.writeFile(&#x27;log.js&#x27;, &#x27;3&#x27;, function (err) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 5. </span><br><span class=\"line\">fs.appendFile(&#x27;./log.js&#x27;,&#x27;appendFile\\n&#x27;,function(err)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 6.  </span><br><span class=\"line\">fs.readdir(&#x27;./src&#x27;,function(err,fl)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(fl)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 7. fs.rename 1. 2.</span><br><span class=\"line\">fs.rename(&#x27;./src/rename.js&#x27;,&#x27;./src/rename1.js&#x27;,function(err,res)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">fs.rename(&#x27;./src/index.html&#x27;,&#x27;./static/index.js&#x27;,function(err,re)&#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// 8. fs.rmdir </span><br><span class=\"line\">fs.rmdir(&#x27;index.html&#x27;, function (err, re) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//9. fs.unlink </span><br><span class=\"line\">fs.unlink(&#x27;index.html&#x27;, function (err, re) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>2.1 *** src)***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    //</span><br><span class=\"line\">    fs.readdir(&#x27;src&#x27;,function(err,files)&#123;</span><br><span class=\"line\">    var allFile = []</span><br><span class=\"line\">    if(err)&#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;else&#123;</span><br><span class=\"line\">        (function a(i)&#123;</span><br><span class=\"line\">            if(files.length == i)&#123;</span><br><span class=\"line\">                console.log(allFile)</span><br><span class=\"line\">                return false</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fs.stat(&#x27;src/&#x27;+files[i],function(err,fd)&#123;</span><br><span class=\"line\">                if(fd.isDirectory())&#123;</span><br><span class=\"line\">                    allFile.push(files[i])</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                a(i+1)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)(0)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><p>***  ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var readStream = fs.createReadStream(&#x27;demo.txt&#x27;);</span><br><span class=\"line\">var str = &#x27;&#x27;;</span><br><span class=\"line\">var count = 0;</span><br><span class=\"line\">readStream.on(&#x27;data&#x27;,function(chunk)&#123;</span><br><span class=\"line\">    str += chunk;</span><br><span class=\"line\">    count++;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">readStream.on(&#x27;end&#x27;,function(chunk)&#123;</span><br><span class=\"line\">    console.log(count)</span><br><span class=\"line\">    console.log(str)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var writeStream = fs.createWriteStream(&#x27;input.txt&#x27;);</span><br><span class=\"line\">var data = &#x27;createWriteStream\\n&#x27;</span><br><span class=\"line\">//for</span><br><span class=\"line\">for(var i=0;i&lt;90;i++)&#123;</span><br><span class=\"line\">    writeStream.write(data,&#x27;utf-8&#x27;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">writeStream.end(); // </span><br><span class=\"line\">// </span><br><span class=\"line\">writeStream.on(&#x27;finish&#x27;,function()&#123;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">//</span><br><span class=\"line\">writeStream.on(&#x27;error&#x27;,function()&#123;</span><br><span class=\"line\">    console.log(&#x27;&#x27;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">var readerStream = fs.createReadStream(&#x27;demo.txt&#x27;); //</span><br><span class=\"line\">var writeStream = fs.createWriteStream(&#x27;input.txt&#x27;); //</span><br><span class=\"line\">readerStream.pipe(writeStream)</span><br><span class=\"line\">console.log(&#x27;&#x27;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>*** weburl ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\">const mime = require(&#x27;./static/model/mime&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">http.createServer(function (req, res) &#123;</span><br><span class=\"line\">    var pathname = req.url;</span><br><span class=\"line\">    pathname == &#x27;/&#x27; ? pathname = &#x27;./index.html&#x27; : &quot;&quot;;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    let exname = path.extname(pathname)</span><br><span class=\"line\">    if (pathname != &#x27;/favicon.ico&#x27;) &#123;</span><br><span class=\"line\">        fs.readFile(&#x27;static/&#x27; + pathname, function (err, fd) &#123;</span><br><span class=\"line\">            if (err) &#123;</span><br><span class=\"line\">                return console.error(err)</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                var mimeName = mime.getMime(exname) //text-html,text-css</span><br><span class=\"line\">                res.writeHead(200, &#123;</span><br><span class=\"line\">                    &quot;Content-Type&quot;: &quot;mimeName;chart=utf-8&quot;</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">                res.end(fd)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;).listen(8888)</span><br></pre></td></tr></table></figure>\n<p>4.1 ***  ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">console.log(1)</span><br><span class=\"line\">function getMime(callback)&#123;</span><br><span class=\"line\">    fs.readFile(&#x27;input.txt&#x27;,function(err,fd)&#123;</span><br><span class=\"line\">        if(err)&#123;</span><br><span class=\"line\">            return console.error(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        callback(fd)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getMime(function(data)&#123;</span><br><span class=\"line\">    console.log(data.toString())</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>4.2 *** nodejsevents ***</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const fs = require(&#x27;fs&#x27;);</span><br><span class=\"line\">const events = require(&#x27;events&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">var EventEmitter = new events.EventEmitter();</span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(&#x27;input.txt&#x27;, function (err, fd) &#123;</span><br><span class=\"line\">    if (err) &#123;</span><br><span class=\"line\">        return console.error(err)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    EventEmitter.emit(&#x27;to_parent&#x27;, fd)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">EventEmitter.on(&#x27;to_parent&#x27;, function (data) &#123;</span><br><span class=\"line\">    console.log(data.toString())</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n</ol>"},{"title":"githubhexo","date":"2019-01-24T06:16:00.000Z","copyright":true,"_content":"\n{% cq %}  {% endcq %}\n\nGithubhexo+githubhexo+github\n<!--more-->\n# \n\n node.jsnpm\n git\n hexocmd npm install -g hexo\n\n# hexo\n\n MyBlog\n githexo inithexo\n npm install\n hexo server +localhost:4000\n\n# \n\nhexo-generator-searchdb\n> npm install hexo-generator-searchdb --save\n\n/_config.ymlsearch\n\n    search:\n      path: search.xml\n      field: post\n      format: html\n      limit: 10000\n\n/themes/next/_config.yml ,local_search:enable:true\n\n>hexo clean \nhexo s\n\n## loading\nF12200\n1.\n<img src=\"/img/Garbled.png\">\n\n# github\nMyBlog npm install --save hexo-deployer-git\n  *_config.yml*\ndeploy:\ntype: git\nrepo: https://github.com/Honey608/Honey608.github.io.git\nbranch: master\n<img style=\"width:600px;height:200px\" src=\"/img/urlimg.png\" class=\"full-image\" /> hexo clean() hexo g() hexo d()\n: https://zhanghuaxiao.github.io/\n<img style=\"width:600px;height:200px\" src=\"/img/github-pages.png\" class=\"full-image\">\n# nexT\n  [git clone](https://github.com/iissnan/hexo-theme-next themes/next) \n _config.yml theme:next\n \n >hexo clean \n hexo s\n# hexonexT\n\n [hexo](https://hexo.io/zh-cn/docs/helpers)\n [nexT](http://theme-next.iissnan.com/getting-started.html)\n\n# nexT\n\n [nexT](https://segmentfault.com/a/1190000009544924#articleHeader2)\n [seo](https://www.jianshu.com/p/86557c34b671)\n [HexoNextloading](https://www.jianshu.com/p/02afabcae502)","source":"_posts/posts.md","raw":"---\ntitle: githubhexo\ndate: 2019-1-24 14:16\ncategories:\t['hexo']\ntags: \n  - hexo\n  - nexT\n  - \n  - nextloadding\ncopyright: true\n---\n\n{% cq %}  {% endcq %}\n\nGithubhexo+githubhexo+github\n<!--more-->\n# \n\n node.jsnpm\n git\n hexocmd npm install -g hexo\n\n# hexo\n\n MyBlog\n githexo inithexo\n npm install\n hexo server +localhost:4000\n\n# \n\nhexo-generator-searchdb\n> npm install hexo-generator-searchdb --save\n\n/_config.ymlsearch\n\n    search:\n      path: search.xml\n      field: post\n      format: html\n      limit: 10000\n\n/themes/next/_config.yml ,local_search:enable:true\n\n>hexo clean \nhexo s\n\n## loading\nF12200\n1.\n<img src=\"/img/Garbled.png\">\n\n# github\nMyBlog npm install --save hexo-deployer-git\n  *_config.yml*\ndeploy:\ntype: git\nrepo: https://github.com/Honey608/Honey608.github.io.git\nbranch: master\n<img style=\"width:600px;height:200px\" src=\"/img/urlimg.png\" class=\"full-image\" /> hexo clean() hexo g() hexo d()\n: https://zhanghuaxiao.github.io/\n<img style=\"width:600px;height:200px\" src=\"/img/github-pages.png\" class=\"full-image\">\n# nexT\n  [git clone](https://github.com/iissnan/hexo-theme-next themes/next) \n _config.yml theme:next\n \n >hexo clean \n hexo s\n# hexonexT\n\n [hexo](https://hexo.io/zh-cn/docs/helpers)\n [nexT](http://theme-next.iissnan.com/getting-started.html)\n\n# nexT\n\n [nexT](https://segmentfault.com/a/1190000009544924#articleHeader2)\n [seo](https://www.jianshu.com/p/86557c34b671)\n [HexoNextloading](https://www.jianshu.com/p/02afabcae502)","slug":"posts","published":1,"updated":"2026-01-02T00:43:17.574Z","_id":"cmjw5ips9001sw0tg14pvdk85","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n\n<p>Githubhexo+githubhexo+github</p>\n<span id=\"more\"></span>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> node.jsnpm<br> git<br> hexocmd npm install -g hexo</p>\n<h1 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h1><p> MyBlog<br> githexo inithexo<br> npm install<br> hexo server +localhost:4000</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hexo-generator-searchdb</p>\n<blockquote>\n<p>npm install hexo-generator-searchdb save</p>\n</blockquote>\n<p>&#x2F;_config.ymlsearch</p>\n<pre><code>search:\n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n</code></pre>\n<p>&#x2F;themes&#x2F;next&#x2F;_config.yml ,local_search:enable:true<br></p>\n<blockquote>\n<p>hexo clean<br>hexo s</p>\n</blockquote>\n<h2 id=\"loading\"><a href=\"#loading\" class=\"headerlink\" title=\"loading\"></a>loading</h2><p>F12200<br>1.<br><img src=\"/img/Garbled.png\"></p>\n<h1 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h1><p>MyBlog npm install save hexo-deployer-git<br>  <em>_config.yml</em><br>deploy:<br>type: git<br>repo: <a href=\"https://github.com/Honey608/Honey608.github.io.git\">https://github.com/Honey608/Honey608.github.io.git</a><br>branch: master<br><img style=\"width:600px;height:200px\" src=\"/img/urlimg.png\" class=\"full-image\" /> hexo clean() hexo g() hexo d()<br>: <a href=\"https://zhanghuaxiao.github.io/\">https://zhanghuaxiao.github.io/</a><br><img style=\"width:600px;height:200px\" src=\"/img/github-pages.png\" class=\"full-image\"></p>\n<h1 id=\"nexT\"><a href=\"#nexT\" class=\"headerlink\" title=\"nexT\"></a>nexT</h1><p>  [git clone](<a href=\"https://github.com/iissnan/hexo-theme-next\">https://github.com/iissnan/hexo-theme-next</a> themes&#x2F;next)<br> _config.yml theme:next<br> </p>\n<blockquote>\n<p>hexo clean<br> hexo s</p>\n</blockquote>\n<h1 id=\"hexonexT\"><a href=\"#hexonexT\" class=\"headerlink\" title=\"hexonexT\"></a>hexonexT</h1><p> <a href=\"https://hexo.io/zh-cn/docs/helpers\">hexo</a><br> <a href=\"http://theme-next.iissnan.com/getting-started.html\">nexT</a></p>\n<h1 id=\"nexT\"><a href=\"#nexT\" class=\"headerlink\" title=\"nexT\"></a>nexT</h1><p> <a href=\"https://segmentfault.com/a/1190000009544924#articleHeader2\">nexT</a><br> <a href=\"https://www.jianshu.com/p/86557c34b671\">seo</a><br> <a href=\"https://www.jianshu.com/p/02afabcae502\">HexoNextloading</a></p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n\n<p>Githubhexo+githubhexo+github</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> node.jsnpm<br> git<br> hexocmd npm install -g hexo</p>\n<h1 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h1><p> MyBlog<br> githexo inithexo<br> npm install<br> hexo server +localhost:4000</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hexo-generator-searchdb</p>\n<blockquote>\n<p>npm install hexo-generator-searchdb save</p>\n</blockquote>\n<p>&#x2F;_config.ymlsearch</p>\n<pre><code>search:\n  path: search.xml\n  field: post\n  format: html\n  limit: 10000\n</code></pre>\n<p>&#x2F;themes&#x2F;next&#x2F;_config.yml ,local_search:enable:true<br></p>\n<blockquote>\n<p>hexo clean<br>hexo s</p>\n</blockquote>\n<h2 id=\"loading\"><a href=\"#loading\" class=\"headerlink\" title=\"loading\"></a>loading</h2><p>F12200<br>1.<br><img src=\"/img/Garbled.png\"></p>\n<h1 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h1><p>MyBlog npm install save hexo-deployer-git<br>  <em>_config.yml</em><br>deploy:<br>type: git<br>repo: <a href=\"https://github.com/Honey608/Honey608.github.io.git\">https://github.com/Honey608/Honey608.github.io.git</a><br>branch: master<br><img style=\"width:600px;height:200px\" src=\"/img/urlimg.png\" class=\"full-image\" /> hexo clean() hexo g() hexo d()<br>: <a href=\"https://zhanghuaxiao.github.io/\">https://zhanghuaxiao.github.io/</a><br><img style=\"width:600px;height:200px\" src=\"/img/github-pages.png\" class=\"full-image\"></p>\n<h1 id=\"nexT\"><a href=\"#nexT\" class=\"headerlink\" title=\"nexT\"></a>nexT</h1><p>  [git clone](<a href=\"https://github.com/iissnan/hexo-theme-next\">https://github.com/iissnan/hexo-theme-next</a> themes&#x2F;next)<br> _config.yml theme:next<br> </p>\n<blockquote>\n<p>hexo clean<br> hexo s</p>\n</blockquote>\n<h1 id=\"hexonexT\"><a href=\"#hexonexT\" class=\"headerlink\" title=\"hexonexT\"></a>hexonexT</h1><p> <a href=\"https://hexo.io/zh-cn/docs/helpers\">hexo</a><br> <a href=\"http://theme-next.iissnan.com/getting-started.html\">nexT</a></p>\n<h1 id=\"nexT\"><a href=\"#nexT\" class=\"headerlink\" title=\"nexT\"></a>nexT</h1><p> <a href=\"https://segmentfault.com/a/1190000009544924#articleHeader2\">nexT</a><br> <a href=\"https://www.jianshu.com/p/86557c34b671\">seo</a><br> <a href=\"https://www.jianshu.com/p/02afabcae502\">HexoNextloading</a></p>"},{"title":"Promise","date":"2019-05-31T05:23:51.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<!--more-->\n# ES6 Promise \n\nPromiseallrejectresolvethencatch\n## resolve\n    ```javascript\n        <script>\n            var p = new Promise(function(resolve,reject){\n                setTimeout(() => {\n                    console.log('');\n                    resolve(\"\")\n                },2000)\n            })\n        </script>\n        Promise {<pending>}\n                    __proto__: Promise\n                    [[PromiseStatus]]: \"resolved\"\n                    [[PromiseValue]]: \"\"\n        2''\n    ```\n## .thenresovle\n    ```javascript\n        <script>\n             var p = new Promise(function(resolve,reject){\n                setTimeout(() => {\n                    console.log('');\n                    resolve(\"\")\n                },2000)\n            })\n            p.then( (val) => {\n                console.log(val)\n            })\n        </script>\n        2 \"\" \"\"\n    ```\n## resolve.catch\n    ```javascript\n        function getNumber(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    var num = Math.ceil(Math.random()*10); //1-10\n                    if(num<=5){\n                        resolve(num);\n                    }\n                    else{\n                        reject('');\n                    }\n                }, 2000);\n            });\n            return p;            \n        }\n        getNumber().then( val => {\n            console.log(val)\n        }).catch( val => {\n            console.log(val)\n        })\n        if reject''\n    ```\n## all\n> resolve\n    ```javascript\n        function runAsync1(){\n        var p = new Promise(function(resolve, reject){\n            //\n            setTimeout(function(){\n                console.log('1');\n                resolve('1');\n            }, 1000);\n        });\n        return p;            \n        }\n        function runAsync2(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('2');\n                    resolve('2');\n                }, 2000);\n            });\n            return p;            \n        }\n        function runAsync3(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('3');\n                    resolve('3');\n                }, 300);\n            });\n            return p;            \n        }\n        Promise\n        .all([runAsync1(),runAsync2(),runAsync3()])  //\n        .then(function(results){\n            console.log(results);  //\n        });\n        // 3 1 2\n        // [\"1\", \"2\", \"3\"]\n    ```\n## race\n> \n    ```javascript\n        function runAsync1(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('1');\n                    resolve('1');\n                }, 3000);\n            });\n            return p;            \n            }\n        function runAsync2(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('2');\n                    resolve('2');\n                }, 3000);\n            });\n            return p;            \n        }\n        function runAsync3(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('3');\n                    resolve('3');\n                }, 1000);\n            });\n            return p;            \n        }\n        Promise\n        .race([runAsync1(), runAsync2(), runAsync3()])\n        .then(function(results){\n            console.log(results);\n        });\n        //3 3 1 2\n    ```\n\n","source":"_posts/Promise.md","raw":"---\ntitle: Promise\ndate: 2019-05-31 13:23:51\ncategories: web\ntags:\n    - Promise\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<!--more-->\n# ES6 Promise \n\nPromiseallrejectresolvethencatch\n## resolve\n    ```javascript\n        <script>\n            var p = new Promise(function(resolve,reject){\n                setTimeout(() => {\n                    console.log('');\n                    resolve(\"\")\n                },2000)\n            })\n        </script>\n        Promise {<pending>}\n                    __proto__: Promise\n                    [[PromiseStatus]]: \"resolved\"\n                    [[PromiseValue]]: \"\"\n        2''\n    ```\n## .thenresovle\n    ```javascript\n        <script>\n             var p = new Promise(function(resolve,reject){\n                setTimeout(() => {\n                    console.log('');\n                    resolve(\"\")\n                },2000)\n            })\n            p.then( (val) => {\n                console.log(val)\n            })\n        </script>\n        2 \"\" \"\"\n    ```\n## resolve.catch\n    ```javascript\n        function getNumber(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    var num = Math.ceil(Math.random()*10); //1-10\n                    if(num<=5){\n                        resolve(num);\n                    }\n                    else{\n                        reject('');\n                    }\n                }, 2000);\n            });\n            return p;            \n        }\n        getNumber().then( val => {\n            console.log(val)\n        }).catch( val => {\n            console.log(val)\n        })\n        if reject''\n    ```\n## all\n> resolve\n    ```javascript\n        function runAsync1(){\n        var p = new Promise(function(resolve, reject){\n            //\n            setTimeout(function(){\n                console.log('1');\n                resolve('1');\n            }, 1000);\n        });\n        return p;            \n        }\n        function runAsync2(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('2');\n                    resolve('2');\n                }, 2000);\n            });\n            return p;            \n        }\n        function runAsync3(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('3');\n                    resolve('3');\n                }, 300);\n            });\n            return p;            \n        }\n        Promise\n        .all([runAsync1(),runAsync2(),runAsync3()])  //\n        .then(function(results){\n            console.log(results);  //\n        });\n        // 3 1 2\n        // [\"1\", \"2\", \"3\"]\n    ```\n## race\n> \n    ```javascript\n        function runAsync1(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('1');\n                    resolve('1');\n                }, 3000);\n            });\n            return p;            \n            }\n        function runAsync2(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('2');\n                    resolve('2');\n                }, 3000);\n            });\n            return p;            \n        }\n        function runAsync3(){\n            var p = new Promise(function(resolve, reject){\n                //\n                setTimeout(function(){\n                    console.log('3');\n                    resolve('3');\n                }, 1000);\n            });\n            return p;            \n        }\n        Promise\n        .race([runAsync1(), runAsync2(), runAsync3()])\n        .then(function(results){\n            console.log(results);\n        });\n        //3 3 1 2\n    ```\n\n","slug":"Promise","published":1,"updated":"2026-01-02T00:43:17.571Z","_id":"cmjw5ipsp0022w0tg5z0z199d","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<h1 id=\"ES6-Promise-\"><a href=\"#ES6-Promise-\" class=\"headerlink\" title=\"ES6 Promise \"></a>ES6 Promise </h1><p>Promiseallrejectresolvethencatch</p>\n<h2 id=\"resolve\"><a href=\"#resolve\" class=\"headerlink\" title=\"resolve\"></a>resolve</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve,reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#125;,<span class=\"number\">2000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span> &#123;&lt;pending&gt;&#125;</span><br><span class=\"line\">            <span class=\"attr\">__proto__</span>: <span class=\"title class_\">Promise</span></span><br><span class=\"line\">            [[<span class=\"title class_\">PromiseStatus</span>]]: <span class=\"string\">&quot;resolved&quot;</span></span><br><span class=\"line\">            [[<span class=\"title class_\">PromiseValue</span>]]: <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"number\">2</span><span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"-thenresovle\"><a href=\"#-thenresovle\" class=\"headerlink\" title=\".thenresovle\"></a>.thenresovle</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">     <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve,reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#125;,<span class=\"number\">2000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    p.<span class=\"title function_\">then</span>( <span class=\"function\">(<span class=\"params\">val</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"string\">&quot;&quot;</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"resolve-catch\"><a href=\"#resolve-catch\" class=\"headerlink\" title=\"resolve.catch\"></a>resolve.catch</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getNumber</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> num = <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*<span class=\"number\">10</span>); <span class=\"comment\">//1-10</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(num&lt;=<span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">                <span class=\"title function_\">resolve</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">getNumber</span>().<span class=\"title function_\">then</span>( <span class=\"function\"><span class=\"params\">val</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>( <span class=\"function\"><span class=\"params\">val</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">if</span> reject<span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"all\"><a href=\"#all\" class=\"headerlink\" title=\"all\"></a>all</h2><blockquote>\n<p>resolve<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync1</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync2</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync3</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">300</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span></span><br><span class=\"line\">.<span class=\"title function_\">all</span>([<span class=\"title function_\">runAsync1</span>(),<span class=\"title function_\">runAsync2</span>(),<span class=\"title function_\">runAsync3</span>()])  <span class=\"comment\">//</span></span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">results</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(results);  <span class=\"comment\">//</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// 3 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h2 id=\"race\"><a href=\"#race\" class=\"headerlink\" title=\"race\"></a>race</h2><blockquote>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync1</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync2</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync3</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span></span><br><span class=\"line\">.<span class=\"title function_\">race</span>([<span class=\"title function_\">runAsync1</span>(), <span class=\"title function_\">runAsync2</span>(), <span class=\"title function_\">runAsync3</span>()])</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">results</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(results);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//3 3 1 2</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h1 id=\"ES6-Promise-\"><a href=\"#ES6-Promise-\" class=\"headerlink\" title=\"ES6 Promise \"></a>ES6 Promise </h1><p>Promiseallrejectresolvethencatch</p>\n<h2 id=\"resolve\"><a href=\"#resolve\" class=\"headerlink\" title=\"resolve\"></a>resolve</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve,reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#125;,<span class=\"number\">2000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span> &#123;&lt;pending&gt;&#125;</span><br><span class=\"line\">            <span class=\"attr\">__proto__</span>: <span class=\"title class_\">Promise</span></span><br><span class=\"line\">            [[<span class=\"title class_\">PromiseStatus</span>]]: <span class=\"string\">&quot;resolved&quot;</span></span><br><span class=\"line\">            [[<span class=\"title class_\">PromiseValue</span>]]: <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"number\">2</span><span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"-thenresovle\"><a href=\"#-thenresovle\" class=\"headerlink\" title=\".thenresovle\"></a>.thenresovle</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">     <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve,reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#125;,<span class=\"number\">2000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    p.<span class=\"title function_\">then</span>( <span class=\"function\">(<span class=\"params\">val</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"string\">&quot;&quot;</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"resolve-catch\"><a href=\"#resolve-catch\" class=\"headerlink\" title=\"resolve.catch\"></a>resolve.catch</h2><pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getNumber</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> num = <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*<span class=\"number\">10</span>); <span class=\"comment\">//1-10</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(num&lt;=<span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">                <span class=\"title function_\">resolve</span>(num);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"title function_\">reject</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">getNumber</span>().<span class=\"title function_\">then</span>( <span class=\"function\"><span class=\"params\">val</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>( <span class=\"function\"><span class=\"params\">val</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">if</span> reject<span class=\"string\">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n</code></pre>\n<h2 id=\"all\"><a href=\"#all\" class=\"headerlink\" title=\"all\"></a>all</h2><blockquote>\n<p>resolve<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync1</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync2</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync3</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">300</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span></span><br><span class=\"line\">.<span class=\"title function_\">all</span>([<span class=\"title function_\">runAsync1</span>(),<span class=\"title function_\">runAsync2</span>(),<span class=\"title function_\">runAsync3</span>()])  <span class=\"comment\">//</span></span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">results</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(results);  <span class=\"comment\">//</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// 3 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h2 id=\"race\"><a href=\"#race\" class=\"headerlink\" title=\"race\"></a>race</h2><blockquote>\n<p><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync1</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;1&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync2</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">runAsync3</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;3&#x27;</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;            </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Promise</span></span><br><span class=\"line\">.<span class=\"title function_\">race</span>([<span class=\"title function_\">runAsync1</span>(), <span class=\"title function_\">runAsync2</span>(), <span class=\"title function_\">runAsync3</span>()])</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">results</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(results);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//3 3 1 2</span></span><br></pre></td></tr></table></figure></p>\n</blockquote>"},{"title":"Vueslot","date":"2019-04-22T06:27:23.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} slot {% endcq %}\n<img src=\"/img/slot.jpeg\" style=\"width:305px;heigth:277px\">\n\n<!--more-->\n# \n\n    ```javascript\n        <alert-box>\n            Something bad happened\n        </alert-box>\n    ```\nError!Something bad happened\n> \n    ```javascript\n    <div id=\"app\">\n       <childer-component :items=\"items\">\n           <h2></h2>\n           <span> slot </span>\n\n           <h2></h2>\n           <div slot=\"one\">\n                <span>one</span>\n                <span></span>\n           </div>\n           <div slot=\"two\">\n                <span>two</span>\n                <span></span>\n           </div>\n           <h2></h2>\n           <div slot-scope=\"props\">\n                <span>{{ props.addr }}</span>\n                <span>{{ props.cname }}</span>\n                <span>{{ props.age }}</span>\n           </div>\n       </childer-component>\n    </div>\n    <script>\n        var childerComponent = Vue.component('childer-component',{\n            props:['items'],\n            template:`\n                <div>\n                    <h1></h1>    \n                    <slot></slot> \n\n                    <slot name=\"one\"></slot>\n                    <slot name=\"two\"></slot>  \n\n                    <slot :cname=\"items[2].cname\"></slot> \n                    <slot :addr=\"items[2].addr\"></slot> \n                    <slot age=\"18\"></slot> \n                </div>\n            `\n        })\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                items:[\n                    { text:'1' , cname:'tom' , addr:'usa' },\n                    { text:'2' , cname:'wangwu' , addr:'uk' },\n                    { text:'3' , cname:'zhangsan' , addr:'un' }\n                ],\n                components:{\n                    'childerComponent':childerComponent,\n                }\n            }\n        })\n    </script>\n    ```\n","source":"_posts/slot.md","raw":"---\ntitle: Vueslot\ndate: 2019-04-22 14:27:23\ncategories: web\ntags: [\"slot\"]\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} slot {% endcq %}\n<img src=\"/img/slot.jpeg\" style=\"width:305px;heigth:277px\">\n\n<!--more-->\n# \n\n    ```javascript\n        <alert-box>\n            Something bad happened\n        </alert-box>\n    ```\nError!Something bad happened\n> \n    ```javascript\n    <div id=\"app\">\n       <childer-component :items=\"items\">\n           <h2></h2>\n           <span> slot </span>\n\n           <h2></h2>\n           <div slot=\"one\">\n                <span>one</span>\n                <span></span>\n           </div>\n           <div slot=\"two\">\n                <span>two</span>\n                <span></span>\n           </div>\n           <h2></h2>\n           <div slot-scope=\"props\">\n                <span>{{ props.addr }}</span>\n                <span>{{ props.cname }}</span>\n                <span>{{ props.age }}</span>\n           </div>\n       </childer-component>\n    </div>\n    <script>\n        var childerComponent = Vue.component('childer-component',{\n            props:['items'],\n            template:`\n                <div>\n                    <h1></h1>    \n                    <slot></slot> \n\n                    <slot name=\"one\"></slot>\n                    <slot name=\"two\"></slot>  \n\n                    <slot :cname=\"items[2].cname\"></slot> \n                    <slot :addr=\"items[2].addr\"></slot> \n                    <slot age=\"18\"></slot> \n                </div>\n            `\n        })\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                items:[\n                    { text:'1' , cname:'tom' , addr:'usa' },\n                    { text:'2' , cname:'wangwu' , addr:'uk' },\n                    { text:'3' , cname:'zhangsan' , addr:'un' }\n                ],\n                components:{\n                    'childerComponent':childerComponent,\n                }\n            }\n        })\n    </script>\n    ```\n","slug":"slot","published":1,"updated":"2026-01-02T00:43:17.574Z","_id":"cmjw5ipt10026w0tgf5d6dc1x","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>slot </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/slot.jpeg\" style=\"width:305px;heigth:277px\">\n\n<span id=\"more\"></span>\n# \n\n    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;alert-box&gt;</span><br><span class=\"line\">    <span class=\"title class_\">Something</span> bad happened</span><br><span class=\"line\">&lt;/alert-box&gt;</span><br></pre></td></tr></table></figure>\nError!Something bad happened\n> \n    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childer-component</span> <span class=\"attr\">:items</span>=<span class=\"string\">&quot;items&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span> slot <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;one&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>one<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;two&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>two<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;props&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.addr &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.cname &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.age &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">   <span class=\"tag\">&lt;/<span class=\"name\">childer-component</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    var childerComponent = Vue.component(&#x27;childer-component&#x27;,&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        props:[&#x27;items&#x27;],</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        template:`</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span>    </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;one&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;two&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span>  </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:cname</span>=<span class=\"string\">&quot;items[2].cname&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:addr</span>=<span class=\"string\">&quot;items[2].addr&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">age</span>=<span class=\"string\">&quot;18&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        `</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    &#125;)</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    var vm = new Vue(&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        el: &#x27;#app&#x27;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        data: &#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            items:[</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;1&#x27; , cname:&#x27;tom&#x27; , addr:&#x27;usa&#x27; &#125;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;2&#x27; , cname:&#x27;wangwu&#x27; , addr:&#x27;uk&#x27; &#125;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;3&#x27; , cname:&#x27;zhangsan&#x27; , addr:&#x27;un&#x27; &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            ],</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            components:&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#x27;childerComponent&#x27;:childerComponent,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    &#125;)</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>slot </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/slot.jpeg\" style=\"width:305px;heigth:277px\">\n","more":"# \n\n    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;alert-box&gt;</span><br><span class=\"line\">    <span class=\"title class_\">Something</span> bad happened</span><br><span class=\"line\">&lt;/alert-box&gt;</span><br></pre></td></tr></table></figure>\nError!Something bad happened\n> \n    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;</span><br><span class=\"line\">   <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childer-component</span> <span class=\"attr\">:items</span>=<span class=\"string\">&quot;items&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span> slot <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;one&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>one<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;two&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>two<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;props&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.addr &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.cname &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; props.age &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">   <span class=\"tag\">&lt;/<span class=\"name\">childer-component</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    var childerComponent = Vue.component(&#x27;childer-component&#x27;,&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        props:[&#x27;items&#x27;],</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        template:`</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span>    </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;one&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;two&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span>  </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:cname</span>=<span class=\"string\">&quot;items[2].cname&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:addr</span>=<span class=\"string\">&quot;items[2].addr&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">age</span>=<span class=\"string\">&quot;18&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        `</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    &#125;)</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    var vm = new Vue(&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        el: &#x27;#app&#x27;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        data: &#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            items:[</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;1&#x27; , cname:&#x27;tom&#x27; , addr:&#x27;usa&#x27; &#125;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;2&#x27; , cname:&#x27;wangwu&#x27; , addr:&#x27;uk&#x27; &#125;,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#123; text:&#x27;3&#x27; , cname:&#x27;zhangsan&#x27; , addr:&#x27;un&#x27; &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            ],</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            components:&#123;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">                &#x27;childerComponent&#x27;:childerComponent,</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">            &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">        &#125;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\">    &#125;)</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>"},{"title":"vuediff","date":"2019-01-30T04:53:01.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}[Vuejs](https://zhanghuaxiao.github.io/2019/01/30/vue-source-code/){% endcq %}\n<!--more-->\n#  vue\nDOMdomdomdomdomdiff\n\nDOMvirtual DOMvirtual DOMVnodeVnodeoldVnodeDOMoldVnodeVnode\n\ndiffpatchDOM\n# virtual DOMDOM\nvirtual DOMDOMdom\n```javascript\n    <div>\n        <p>123</p>\n    </div>\n\nvirtual DOM\n\n    var Vnode = {\n        tag: 'div',\n        children: [\n            { tag: 'p', text: '123' }\n        ]\n    };\n```\nVNodeoldVNode\n# diff\ndiff, \n```javascript\n    <div>\n        <p>123</p>\n    </div>\n\n    <div>\n        <span>456</span>\n    </div>\n```\ndivpspandivspan\n<img src=\"/img/diff.png\">\n# diff\nsetDep.notifyWatcherpatchDOM\n<img src=\"/img/diff-diagram.png\">\n# \npatch\npatch\n```javascript\n    function patch (oldVnode,vnode){\n        //some code\n        if(sameVnode(oldVnode,vnode)){\n            patchVnode(oldVnode,vnode)\n        }else{\n            const oEl = oldVnode.el   //oldVnode\n            let parentEle = api.parentNode(oEl)   //\n            createEle(vnode)   //Vnode\n                if (parentEle !== null) {\n                //     \n                api.insertBefore(parentEle, vnode.el, api.nextSibling(oEl)) \n                api.removeChild(parentEle, oldVnode.el)  // \n                oldVnode = null\n            }\n        }\n        // some code \n        return vnode\n    }\n```\npatcholdVnodeVnode\n\n*patchVnode*\n```javascript\n    function sameVnode (a, b) {\n        return (\n            a.key === b.key &&  // key\n            a.tag === b.tag &&  // \n            a.isComment === b.isComment &&  // \n            // datadataonclick , style\n            isDef(a.data) === isDef(b.data) &&  \n            sameInputType(a, b) // <input>type\n        )\n    }\n```\n*VnodeoldVnode*\nVnodeoldVnode\n\ndiff...\n# patchVnode\npatchVnode\n```javascript\n        patchVnode (oldVnode, vnode) {\n        const el = vnode.el = oldVnode.el\n        let i, oldCh = oldVnode.children, ch = vnode.children\n        if (oldVnode === vnode) return\n        if (oldVnode.text !== null && vnode.text !== null && oldVnode.text !== vnode.text) {\n            api.setTextContent(el, vnode.text)\n        }else {\n            updateEle(el, vnode, oldVnode)\n            if (oldCh && ch && oldCh !== ch) {\n                updateChildren(el, oldCh, ch)\n            }else if (ch){\n                createEle(vnode) //create el's children dom\n            }else if (oldCh){\n                api.removeChildren(el)\n            }\n        }\n    }\n```\n\n\ndomel\nVnodeoldVnodereturn\nelVnode\noldVnodeVnodeel\noldVnodeVnodeVnodeel\nupdateChildren\nupdateChildren\n# updateChildren\n```javascript\n        updateChildren (parentElm, oldCh, newCh) {\n        let oldStartIdx = 0, newStartIdx = 0\n        let oldEndIdx = oldCh.length - 1\n        let oldStartVnode = oldCh[0]\n        let oldEndVnode = oldCh[oldEndIdx]\n        let newEndIdx = newCh.length - 1\n        let newStartVnode = newCh[0]\n        let newEndVnode = newCh[newEndIdx]\n        let oldKeyToIdx\n        let idxInOld\n        let elmToMove\n        let before\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {   // vnode.keyoldVnode = null\n                oldStartVnode = oldCh[++oldStartIdx] \n            }else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx]\n            }else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx]\n            }else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode)\n                oldStartVnode = oldCh[++oldStartIdx]\n                newStartVnode = newCh[++newStartIdx]\n            }else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode)\n                oldEndVnode = oldCh[--oldEndIdx]\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode)\n                api.insertBefore(parentElm, oldStartVnode.el, api.nextSibling(oldEndVnode.el))\n                oldStartVnode = oldCh[++oldStartIdx]\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode)\n                api.insertBefore(parentElm, oldEndVnode.el, oldStartVnode.el)\n                oldEndVnode = oldCh[--oldEndIdx]\n                newStartVnode = newCh[++newStartIdx]\n            }else {\n            // key\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx) // keyindex\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key]\n                if (!idxInOld) {\n                    api.insertBefore(parentElm, createEle(newStartVnode).el, oldStartVnode.el)\n                    newStartVnode = newCh[++newStartIdx]\n                }\n                else {\n                    elmToMove = oldCh[idxInOld]\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createEle(newStartVnode).el, oldStartVnode.el)\n                    }else {\n                        patchVnode(elmToMove, newStartVnode)\n                        oldCh[idxInOld] = null\n                        api.insertBefore(parentElm, elmToMove.el, oldStartVnode.el)\n                    }\n                    newStartVnode = newCh[++newStartIdx]\n                }\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].el\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx)\n        }else if (newStartIdx > newEndIdx) {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)\n        }\n    }\n```\n\n\n* VnodeVcholdVnodeoldCh\n* oldChvChStartIdxEndIdx244keykeyStartIdx>EndIdxoldChvCh\n\n# updateChildren\n\n<img src=\"/img/updateChildren.png\" >\noldSoldESEsameVnodedomVnode\n\n* oldSEdom\n* oldESdom\n* oldChildSdomSdomoldSoldSS\n<img src=\"/img/sameVnode.png\">\n\n\n\n    oldS = a, oldE = d\n    S = a, E = b;\n\noldSSdomadoma b d\n\n\n    oldS = b, oldE = d\n    S = c, E = b;\n\noldSEbEdomVnodedoma d b\n\n\n    oldS = d, oldE = d\n    S = c, E = d;\n\noldEEdoma d b\n\n\n    oldS++;\n    oldE--;\n    oldS > oldE;\n\noldChvChindexdomdoma c d b\n\n\n* oldS > oldEoldChvChindexdom\n* S > EvChdom[oldS, oldE]\n\n<img src=\"/img/dom.png\">\n\n\n<img src=\"/img/dom1.png\">\n\nsameVnodepatchVnode\n```javascript\n    if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode)\n    }\n```\noldVnodeVnodedomupdateChildren\n\n","source":"_posts/vue-diff.md","raw":"---\ntitle: vuediff\ndate: 2019-01-30 12:53:01\ncategories: web\ntags:\n    - vuediff\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}[Vuejs](https://zhanghuaxiao.github.io/2019/01/30/vue-source-code/){% endcq %}\n<!--more-->\n#  vue\nDOMdomdomdomdomdiff\n\nDOMvirtual DOMvirtual DOMVnodeVnodeoldVnodeDOMoldVnodeVnode\n\ndiffpatchDOM\n# virtual DOMDOM\nvirtual DOMDOMdom\n```javascript\n    <div>\n        <p>123</p>\n    </div>\n\nvirtual DOM\n\n    var Vnode = {\n        tag: 'div',\n        children: [\n            { tag: 'p', text: '123' }\n        ]\n    };\n```\nVNodeoldVNode\n# diff\ndiff, \n```javascript\n    <div>\n        <p>123</p>\n    </div>\n\n    <div>\n        <span>456</span>\n    </div>\n```\ndivpspandivspan\n<img src=\"/img/diff.png\">\n# diff\nsetDep.notifyWatcherpatchDOM\n<img src=\"/img/diff-diagram.png\">\n# \npatch\npatch\n```javascript\n    function patch (oldVnode,vnode){\n        //some code\n        if(sameVnode(oldVnode,vnode)){\n            patchVnode(oldVnode,vnode)\n        }else{\n            const oEl = oldVnode.el   //oldVnode\n            let parentEle = api.parentNode(oEl)   //\n            createEle(vnode)   //Vnode\n                if (parentEle !== null) {\n                //     \n                api.insertBefore(parentEle, vnode.el, api.nextSibling(oEl)) \n                api.removeChild(parentEle, oldVnode.el)  // \n                oldVnode = null\n            }\n        }\n        // some code \n        return vnode\n    }\n```\npatcholdVnodeVnode\n\n*patchVnode*\n```javascript\n    function sameVnode (a, b) {\n        return (\n            a.key === b.key &&  // key\n            a.tag === b.tag &&  // \n            a.isComment === b.isComment &&  // \n            // datadataonclick , style\n            isDef(a.data) === isDef(b.data) &&  \n            sameInputType(a, b) // <input>type\n        )\n    }\n```\n*VnodeoldVnode*\nVnodeoldVnode\n\ndiff...\n# patchVnode\npatchVnode\n```javascript\n        patchVnode (oldVnode, vnode) {\n        const el = vnode.el = oldVnode.el\n        let i, oldCh = oldVnode.children, ch = vnode.children\n        if (oldVnode === vnode) return\n        if (oldVnode.text !== null && vnode.text !== null && oldVnode.text !== vnode.text) {\n            api.setTextContent(el, vnode.text)\n        }else {\n            updateEle(el, vnode, oldVnode)\n            if (oldCh && ch && oldCh !== ch) {\n                updateChildren(el, oldCh, ch)\n            }else if (ch){\n                createEle(vnode) //create el's children dom\n            }else if (oldCh){\n                api.removeChildren(el)\n            }\n        }\n    }\n```\n\n\ndomel\nVnodeoldVnodereturn\nelVnode\noldVnodeVnodeel\noldVnodeVnodeVnodeel\nupdateChildren\nupdateChildren\n# updateChildren\n```javascript\n        updateChildren (parentElm, oldCh, newCh) {\n        let oldStartIdx = 0, newStartIdx = 0\n        let oldEndIdx = oldCh.length - 1\n        let oldStartVnode = oldCh[0]\n        let oldEndVnode = oldCh[oldEndIdx]\n        let newEndIdx = newCh.length - 1\n        let newStartVnode = newCh[0]\n        let newEndVnode = newCh[newEndIdx]\n        let oldKeyToIdx\n        let idxInOld\n        let elmToMove\n        let before\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {   // vnode.keyoldVnode = null\n                oldStartVnode = oldCh[++oldStartIdx] \n            }else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx]\n            }else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx]\n            }else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode)\n                oldStartVnode = oldCh[++oldStartIdx]\n                newStartVnode = newCh[++newStartIdx]\n            }else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode)\n                oldEndVnode = oldCh[--oldEndIdx]\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode)\n                api.insertBefore(parentElm, oldStartVnode.el, api.nextSibling(oldEndVnode.el))\n                oldStartVnode = oldCh[++oldStartIdx]\n                newEndVnode = newCh[--newEndIdx]\n            }else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode)\n                api.insertBefore(parentElm, oldEndVnode.el, oldStartVnode.el)\n                oldEndVnode = oldCh[--oldEndIdx]\n                newStartVnode = newCh[++newStartIdx]\n            }else {\n            // key\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx) // keyindex\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key]\n                if (!idxInOld) {\n                    api.insertBefore(parentElm, createEle(newStartVnode).el, oldStartVnode.el)\n                    newStartVnode = newCh[++newStartIdx]\n                }\n                else {\n                    elmToMove = oldCh[idxInOld]\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createEle(newStartVnode).el, oldStartVnode.el)\n                    }else {\n                        patchVnode(elmToMove, newStartVnode)\n                        oldCh[idxInOld] = null\n                        api.insertBefore(parentElm, elmToMove.el, oldStartVnode.el)\n                    }\n                    newStartVnode = newCh[++newStartIdx]\n                }\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].el\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx)\n        }else if (newStartIdx > newEndIdx) {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)\n        }\n    }\n```\n\n\n* VnodeVcholdVnodeoldCh\n* oldChvChStartIdxEndIdx244keykeyStartIdx>EndIdxoldChvCh\n\n# updateChildren\n\n<img src=\"/img/updateChildren.png\" >\noldSoldESEsameVnodedomVnode\n\n* oldSEdom\n* oldESdom\n* oldChildSdomSdomoldSoldSS\n<img src=\"/img/sameVnode.png\">\n\n\n\n    oldS = a, oldE = d\n    S = a, E = b;\n\noldSSdomadoma b d\n\n\n    oldS = b, oldE = d\n    S = c, E = b;\n\noldSEbEdomVnodedoma d b\n\n\n    oldS = d, oldE = d\n    S = c, E = d;\n\noldEEdoma d b\n\n\n    oldS++;\n    oldE--;\n    oldS > oldE;\n\noldChvChindexdomdoma c d b\n\n\n* oldS > oldEoldChvChindexdom\n* S > EvChdom[oldS, oldE]\n\n<img src=\"/img/dom.png\">\n\n\n<img src=\"/img/dom1.png\">\n\nsameVnodepatchVnode\n```javascript\n    if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode)\n    }\n```\noldVnodeVnodedomupdateChildren\n\n","slug":"vue-diff","published":1,"updated":"2026-01-02T00:43:17.574Z","_id":"cmjw5iptm002aw0tgc1awhwsj","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p><a href=\"https://zhanghuaxiao.github.io/2019/01/30/vue-source-code/\">Vuejs</a></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<h1 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h1><p>DOMdomdomdomdomdiff</p>\n<p>DOMvirtual DOMvirtual DOMVnodeVnodeoldVnodeDOMoldVnodeVnode</p>\n<p>diffpatchDOM</p>\n<h1 id=\"virtual-DOMDOM\"><a href=\"#virtual-DOMDOM\" class=\"headerlink\" title=\"virtual DOMDOM\"></a>virtual DOMDOM</h1><p>virtual DOMDOMdom</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>123<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">virtual <span class=\"variable constant_\">DOM</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> <span class=\"title class_\">Vnode</span> = &#123;</span><br><span class=\"line\">        <span class=\"attr\">tag</span>: <span class=\"string\">&#x27;div&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">children</span>: [</span><br><span class=\"line\">            &#123; <span class=\"attr\">tag</span>: <span class=\"string\">&#x27;p&#x27;</span>, <span class=\"attr\">text</span>: <span class=\"string\">&#x27;123&#x27;</span> &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;;</span><br></pre></td></tr></table></figure>\n<p>VNodeoldVNode</p>\n<h1 id=\"diff\"><a href=\"#diff\" class=\"headerlink\" title=\"diff\"></a>diff</h1><p>diff, </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>123<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>456<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>divpspandivspan<br><img src=\"/img/diff.png\"></p>\n<h1 id=\"diff\"><a href=\"#diff\" class=\"headerlink\" title=\"diff\"></a>diff</h1><p>setDep.notifyWatcherpatchDOM<br><img src=\"/img/diff-diagram.png\"></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>patch<br>patch</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">patch</span> (<span class=\"params\">oldVnode,vnode</span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//some code</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">sameVnode</span>(oldVnode,vnode))&#123;</span><br><span class=\"line\">        <span class=\"title function_\">patchVnode</span>(oldVnode,vnode)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> oEl = oldVnode.<span class=\"property\">el</span>   <span class=\"comment\">//oldVnode</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> parentEle = api.<span class=\"title function_\">parentNode</span>(oEl)   <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"title function_\">createEle</span>(vnode)   <span class=\"comment\">//Vnode</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (parentEle !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//     </span></span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentEle, vnode.<span class=\"property\">el</span>, api.<span class=\"title function_\">nextSibling</span>(oEl)) </span><br><span class=\"line\">            api.<span class=\"title function_\">removeChild</span>(parentEle, oldVnode.<span class=\"property\">el</span>)  <span class=\"comment\">// </span></span><br><span class=\"line\">            oldVnode = <span class=\"literal\">null</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// some code </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> vnode</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>patcholdVnodeVnode</p>\n<p><em>patchVnode</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sameVnode</span> (<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        a.<span class=\"property\">key</span> === b.<span class=\"property\">key</span> &amp;&amp;  <span class=\"comment\">// key</span></span><br><span class=\"line\">        a.<span class=\"property\">tag</span> === b.<span class=\"property\">tag</span> &amp;&amp;  <span class=\"comment\">// </span></span><br><span class=\"line\">        a.<span class=\"property\">isComment</span> === b.<span class=\"property\">isComment</span> &amp;&amp;  <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// datadataonclick , style</span></span><br><span class=\"line\">        <span class=\"title function_\">isDef</span>(a.<span class=\"property\">data</span>) === <span class=\"title function_\">isDef</span>(b.<span class=\"property\">data</span>) &amp;&amp;  </span><br><span class=\"line\">        <span class=\"title function_\">sameInputType</span>(a, b) <span class=\"comment\">// &lt;input&gt;type</span></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><em>VnodeoldVnode</em><br>VnodeoldVnode</p>\n<p>diff</p>\n<h1 id=\"patchVnode\"><a href=\"#patchVnode\" class=\"headerlink\" title=\"patchVnode\"></a>patchVnode</h1><p>patchVnode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"title function_\">patchVnode</span> (oldVnode, vnode) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> el = vnode.<span class=\"property\">el</span> = oldVnode.<span class=\"property\">el</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> i, oldCh = oldVnode.<span class=\"property\">children</span>, ch = vnode.<span class=\"property\">children</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldVnode === vnode) <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldVnode.<span class=\"property\">text</span> !== <span class=\"literal\">null</span> &amp;&amp; vnode.<span class=\"property\">text</span> !== <span class=\"literal\">null</span> &amp;&amp; oldVnode.<span class=\"property\">text</span> !== vnode.<span class=\"property\">text</span>) &#123;</span><br><span class=\"line\">        api.<span class=\"title function_\">setTextContent</span>(el, vnode.<span class=\"property\">text</span>)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">updateEle</span>(el, vnode, oldVnode)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldCh &amp;&amp; ch &amp;&amp; oldCh !== ch) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">updateChildren</span>(el, oldCh, ch)</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (ch)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">createEle</span>(vnode) <span class=\"comment\">//create el&#x27;s children dom</span></span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldCh)&#123;</span><br><span class=\"line\">            api.<span class=\"title function_\">removeChildren</span>(el)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>domel<br>VnodeoldVnodereturn<br>elVnode<br>oldVnodeVnodeel<br>oldVnodeVnodeVnodeel<br>updateChildren<br>updateChildren</p>\n<h1 id=\"updateChildren\"><a href=\"#updateChildren\" class=\"headerlink\" title=\"updateChildren\"></a>updateChildren</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"title function_\">updateChildren</span> (parentElm, oldCh, newCh) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldStartIdx = <span class=\"number\">0</span>, newStartIdx = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldEndIdx = oldCh.<span class=\"property\">length</span> - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldStartVnode = oldCh[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldEndVnode = oldCh[oldEndIdx]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newEndIdx = newCh.<span class=\"property\">length</span> - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> newStartVnode = newCh[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newEndVnode = newCh[newEndIdx]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldKeyToIdx</span><br><span class=\"line\">    <span class=\"keyword\">let</span> idxInOld</span><br><span class=\"line\">    <span class=\"keyword\">let</span> elmToMove</span><br><span class=\"line\">    <span class=\"keyword\">let</span> before</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldStartVnode == <span class=\"literal\">null</span>) &#123;   <span class=\"comment\">// vnode.keyoldVnode = null</span></span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx] </span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldEndVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newStartVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newEndVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newStartVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldStartVnode, newStartVnode)</span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx]</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldEndVnode, newEndVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldEndVnode, newEndVnode)</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newEndVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldStartVnode, newEndVnode)</span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentElm, oldStartVnode.<span class=\"property\">el</span>, api.<span class=\"title function_\">nextSibling</span>(oldEndVnode.<span class=\"property\">el</span>))</span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx]</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldEndVnode, newStartVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldEndVnode, newStartVnode)</span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentElm, oldEndVnode.<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// key</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (oldKeyToIdx === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">                oldKeyToIdx = <span class=\"title function_\">createKeyToOldIdx</span>(oldCh, oldStartIdx, oldEndIdx) <span class=\"comment\">// keyindex</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            idxInOld = oldKeyToIdx[newStartVnode.<span class=\"property\">key</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!idxInOld) &#123;</span><br><span class=\"line\">                api.<span class=\"title function_\">insertBefore</span>(parentElm, <span class=\"title function_\">createEle</span>(newStartVnode).<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                elmToMove = oldCh[idxInOld]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (elmToMove.<span class=\"property\">sel</span> !== newStartVnode.<span class=\"property\">sel</span>) &#123;</span><br><span class=\"line\">                    api.<span class=\"title function_\">insertBefore</span>(parentElm, <span class=\"title function_\">createEle</span>(newStartVnode).<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">patchVnode</span>(elmToMove, newStartVnode)</span><br><span class=\"line\">                    oldCh[idxInOld] = <span class=\"literal\">null</span></span><br><span class=\"line\">                    api.<span class=\"title function_\">insertBefore</span>(parentElm, elmToMove.<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class=\"line\">        before = newCh[newEndIdx + <span class=\"number\">1</span>] == <span class=\"literal\">null</span> ? <span class=\"literal\">null</span> : newCh[newEndIdx + <span class=\"number\">1</span>].<span class=\"property\">el</span></span><br><span class=\"line\">        <span class=\"title function_\">addVnodes</span>(parentElm, before, newCh, newStartIdx, newEndIdx)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newStartIdx &gt; newEndIdx) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">removeVnodes</span>(parentElm, oldCh, oldStartIdx, oldEndIdx)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>VnodeVcholdVnodeoldCh</li>\n<li>oldChvChStartIdxEndIdx244keykeyStartIdx&gt;EndIdxoldChvCh</li>\n</ul>\n<h1 id=\"updateChildren\"><a href=\"#updateChildren\" class=\"headerlink\" title=\"updateChildren\"></a>updateChildren</h1><p><br><img src=\"/img/updateChildren.png\" ><br>oldSoldESEsameVnodedomVnode</p>\n<ul>\n<li>oldSEdom</li>\n<li>oldESdom</li>\n<li>oldChildSdomSdomoldSoldSS<img src=\"/img/sameVnode.png\"></li>\n</ul>\n<p></p>\n<pre><code>oldS = a, oldE = d\nS = a, E = b;\n</code></pre>\n<p>oldSSdomadoma b d<br></p>\n<pre><code>oldS = b, oldE = d\nS = c, E = b;\n</code></pre>\n<p>oldSEbEdomVnodedoma d b<br></p>\n<pre><code>oldS = d, oldE = d\nS = c, E = d;\n</code></pre>\n<p>oldEEdoma d b<br></p>\n<pre><code>oldS++;\noldE--;\noldS &gt; oldE;\n</code></pre>\n<p>oldChvChindexdomdoma c d b<br><br></p>\n<ul>\n<li>oldS &gt; oldEoldChvChindexdom</li>\n<li>S &gt; EvChdom[oldS, oldE]</li>\n</ul>\n<img src=\"/img/dom.png\">\n\n<p><br><img src=\"/img/dom1.png\"></p>\n<p>sameVnodepatchVnode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newStartVnode)) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">patchVnode</span>(oldStartVnode, newStartVnode)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>oldVnodeVnodedomupdateChildren</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p><a href=\"https://zhanghuaxiao.github.io/2019/01/30/vue-source-code/\">Vuejs</a></p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h1 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h1><p>DOMdomdomdomdomdiff</p>\n<p>DOMvirtual DOMvirtual DOMVnodeVnodeoldVnodeDOMoldVnodeVnode</p>\n<p>diffpatchDOM</p>\n<h1 id=\"virtual-DOMDOM\"><a href=\"#virtual-DOMDOM\" class=\"headerlink\" title=\"virtual DOMDOM\"></a>virtual DOMDOM</h1><p>virtual DOMDOMdom</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">        <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>123<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">virtual <span class=\"variable constant_\">DOM</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> <span class=\"title class_\">Vnode</span> = &#123;</span><br><span class=\"line\">        <span class=\"attr\">tag</span>: <span class=\"string\">&#x27;div&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">children</span>: [</span><br><span class=\"line\">            &#123; <span class=\"attr\">tag</span>: <span class=\"string\">&#x27;p&#x27;</span>, <span class=\"attr\">text</span>: <span class=\"string\">&#x27;123&#x27;</span> &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;;</span><br></pre></td></tr></table></figure>\n<p>VNodeoldVNode</p>\n<h1 id=\"diff\"><a href=\"#diff\" class=\"headerlink\" title=\"diff\"></a>diff</h1><p>diff, </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>123<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>456<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>divpspandivspan<br><img src=\"/img/diff.png\"></p>\n<h1 id=\"diff\"><a href=\"#diff\" class=\"headerlink\" title=\"diff\"></a>diff</h1><p>setDep.notifyWatcherpatchDOM<br><img src=\"/img/diff-diagram.png\"></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>patch<br>patch</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">patch</span> (<span class=\"params\">oldVnode,vnode</span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//some code</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">sameVnode</span>(oldVnode,vnode))&#123;</span><br><span class=\"line\">        <span class=\"title function_\">patchVnode</span>(oldVnode,vnode)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> oEl = oldVnode.<span class=\"property\">el</span>   <span class=\"comment\">//oldVnode</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> parentEle = api.<span class=\"title function_\">parentNode</span>(oEl)   <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"title function_\">createEle</span>(vnode)   <span class=\"comment\">//Vnode</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (parentEle !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//     </span></span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentEle, vnode.<span class=\"property\">el</span>, api.<span class=\"title function_\">nextSibling</span>(oEl)) </span><br><span class=\"line\">            api.<span class=\"title function_\">removeChild</span>(parentEle, oldVnode.<span class=\"property\">el</span>)  <span class=\"comment\">// </span></span><br><span class=\"line\">            oldVnode = <span class=\"literal\">null</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// some code </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> vnode</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>patcholdVnodeVnode</p>\n<p><em>patchVnode</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sameVnode</span> (<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        a.<span class=\"property\">key</span> === b.<span class=\"property\">key</span> &amp;&amp;  <span class=\"comment\">// key</span></span><br><span class=\"line\">        a.<span class=\"property\">tag</span> === b.<span class=\"property\">tag</span> &amp;&amp;  <span class=\"comment\">// </span></span><br><span class=\"line\">        a.<span class=\"property\">isComment</span> === b.<span class=\"property\">isComment</span> &amp;&amp;  <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// datadataonclick , style</span></span><br><span class=\"line\">        <span class=\"title function_\">isDef</span>(a.<span class=\"property\">data</span>) === <span class=\"title function_\">isDef</span>(b.<span class=\"property\">data</span>) &amp;&amp;  </span><br><span class=\"line\">        <span class=\"title function_\">sameInputType</span>(a, b) <span class=\"comment\">// &lt;input&gt;type</span></span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><em>VnodeoldVnode</em><br>VnodeoldVnode</p>\n<p>diff</p>\n<h1 id=\"patchVnode\"><a href=\"#patchVnode\" class=\"headerlink\" title=\"patchVnode\"></a>patchVnode</h1><p>patchVnode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"title function_\">patchVnode</span> (oldVnode, vnode) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> el = vnode.<span class=\"property\">el</span> = oldVnode.<span class=\"property\">el</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> i, oldCh = oldVnode.<span class=\"property\">children</span>, ch = vnode.<span class=\"property\">children</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldVnode === vnode) <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldVnode.<span class=\"property\">text</span> !== <span class=\"literal\">null</span> &amp;&amp; vnode.<span class=\"property\">text</span> !== <span class=\"literal\">null</span> &amp;&amp; oldVnode.<span class=\"property\">text</span> !== vnode.<span class=\"property\">text</span>) &#123;</span><br><span class=\"line\">        api.<span class=\"title function_\">setTextContent</span>(el, vnode.<span class=\"property\">text</span>)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">updateEle</span>(el, vnode, oldVnode)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldCh &amp;&amp; ch &amp;&amp; oldCh !== ch) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">updateChildren</span>(el, oldCh, ch)</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (ch)&#123;</span><br><span class=\"line\">            <span class=\"title function_\">createEle</span>(vnode) <span class=\"comment\">//create el&#x27;s children dom</span></span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldCh)&#123;</span><br><span class=\"line\">            api.<span class=\"title function_\">removeChildren</span>(el)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>domel<br>VnodeoldVnodereturn<br>elVnode<br>oldVnodeVnodeel<br>oldVnodeVnodeVnodeel<br>updateChildren<br>updateChildren</p>\n<h1 id=\"updateChildren\"><a href=\"#updateChildren\" class=\"headerlink\" title=\"updateChildren\"></a>updateChildren</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"title function_\">updateChildren</span> (parentElm, oldCh, newCh) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldStartIdx = <span class=\"number\">0</span>, newStartIdx = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldEndIdx = oldCh.<span class=\"property\">length</span> - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldStartVnode = oldCh[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldEndVnode = oldCh[oldEndIdx]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newEndIdx = newCh.<span class=\"property\">length</span> - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> newStartVnode = newCh[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newEndVnode = newCh[newEndIdx]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> oldKeyToIdx</span><br><span class=\"line\">    <span class=\"keyword\">let</span> idxInOld</span><br><span class=\"line\">    <span class=\"keyword\">let</span> elmToMove</span><br><span class=\"line\">    <span class=\"keyword\">let</span> before</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldStartVnode == <span class=\"literal\">null</span>) &#123;   <span class=\"comment\">// vnode.keyoldVnode = null</span></span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx] </span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldEndVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newStartVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newEndVnode == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newStartVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldStartVnode, newStartVnode)</span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx]</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldEndVnode, newEndVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldEndVnode, newEndVnode)</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newEndVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldStartVnode, newEndVnode)</span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentElm, oldStartVnode.<span class=\"property\">el</span>, api.<span class=\"title function_\">nextSibling</span>(oldEndVnode.<span class=\"property\">el</span>))</span><br><span class=\"line\">            oldStartVnode = oldCh[++oldStartIdx]</span><br><span class=\"line\">            newEndVnode = newCh[--newEndIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldEndVnode, newStartVnode)) &#123;</span><br><span class=\"line\">            <span class=\"title function_\">patchVnode</span>(oldEndVnode, newStartVnode)</span><br><span class=\"line\">            api.<span class=\"title function_\">insertBefore</span>(parentElm, oldEndVnode.<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">            oldEndVnode = oldCh[--oldEndIdx]</span><br><span class=\"line\">            newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// key</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (oldKeyToIdx === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">                oldKeyToIdx = <span class=\"title function_\">createKeyToOldIdx</span>(oldCh, oldStartIdx, oldEndIdx) <span class=\"comment\">// keyindex</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            idxInOld = oldKeyToIdx[newStartVnode.<span class=\"property\">key</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!idxInOld) &#123;</span><br><span class=\"line\">                api.<span class=\"title function_\">insertBefore</span>(parentElm, <span class=\"title function_\">createEle</span>(newStartVnode).<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                elmToMove = oldCh[idxInOld]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (elmToMove.<span class=\"property\">sel</span> !== newStartVnode.<span class=\"property\">sel</span>) &#123;</span><br><span class=\"line\">                    api.<span class=\"title function_\">insertBefore</span>(parentElm, <span class=\"title function_\">createEle</span>(newStartVnode).<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"title function_\">patchVnode</span>(elmToMove, newStartVnode)</span><br><span class=\"line\">                    oldCh[idxInOld] = <span class=\"literal\">null</span></span><br><span class=\"line\">                    api.<span class=\"title function_\">insertBefore</span>(parentElm, elmToMove.<span class=\"property\">el</span>, oldStartVnode.<span class=\"property\">el</span>)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                newStartVnode = newCh[++newStartIdx]</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class=\"line\">        before = newCh[newEndIdx + <span class=\"number\">1</span>] == <span class=\"literal\">null</span> ? <span class=\"literal\">null</span> : newCh[newEndIdx + <span class=\"number\">1</span>].<span class=\"property\">el</span></span><br><span class=\"line\">        <span class=\"title function_\">addVnodes</span>(parentElm, before, newCh, newStartIdx, newEndIdx)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (newStartIdx &gt; newEndIdx) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">removeVnodes</span>(parentElm, oldCh, oldStartIdx, oldEndIdx)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>VnodeVcholdVnodeoldCh</li>\n<li>oldChvChStartIdxEndIdx244keykeyStartIdx&gt;EndIdxoldChvCh</li>\n</ul>\n<h1 id=\"updateChildren\"><a href=\"#updateChildren\" class=\"headerlink\" title=\"updateChildren\"></a>updateChildren</h1><p><br><img src=\"/img/updateChildren.png\" ><br>oldSoldESEsameVnodedomVnode</p>\n<ul>\n<li>oldSEdom</li>\n<li>oldESdom</li>\n<li>oldChildSdomSdomoldSoldSS<img src=\"/img/sameVnode.png\"></li>\n</ul>\n<p></p>\n<pre><code>oldS = a, oldE = d\nS = a, E = b;\n</code></pre>\n<p>oldSSdomadoma b d<br></p>\n<pre><code>oldS = b, oldE = d\nS = c, E = b;\n</code></pre>\n<p>oldSEbEdomVnodedoma d b<br></p>\n<pre><code>oldS = d, oldE = d\nS = c, E = d;\n</code></pre>\n<p>oldEEdoma d b<br></p>\n<pre><code>oldS++;\noldE--;\noldS &gt; oldE;\n</code></pre>\n<p>oldChvChindexdomdoma c d b<br><br></p>\n<ul>\n<li>oldS &gt; oldEoldChvChindexdom</li>\n<li>S &gt; EvChdom[oldS, oldE]</li>\n</ul>\n<img src=\"/img/dom.png\">\n\n<p><br><img src=\"/img/dom1.png\"></p>\n<p>sameVnodepatchVnode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"title function_\">sameVnode</span>(oldStartVnode, newStartVnode)) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">patchVnode</span>(oldStartVnode, newStartVnode)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>oldVnodeVnodedomupdateChildren</p>"},{"title":"Vue-router","date":"2021-08-17T10:32:29.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<!--more-->\nvue-router\n```javascript\n    //myVueRouter.js\nlet Vue = null;\nclass HistoryRoute {\n    constructor(){\n        this.current = null\n    }\n}\nclass VueRouter{\n    constructor(options) {\n        this.mode = options.mode || \"hash\"\n        this.routes = options.routes || [] //\n        this.routesMap = this.createMap(this.routes)\n        this.history = new HistoryRoute();\n        this.init()\n\n    }\n    init(){\n        if (this.mode === \"hash\"){\n            // hash#/\n            location.hash? '':location.hash = \"/\";\n            window.addEventListener(\"load\",()=>{\n                this.history.current = location.hash.slice(1)\n            })\n            window.addEventListener(\"hashchange\",()=>{\n                this.history.current = location.hash.slice(1)\n            })\n        } else{\n            location.pathname? '':location.pathname = \"/\";\n            window.addEventListener('load',()=>{\n                this.history.current = location.pathname\n            })\n            window.addEventListener(\"popstate\",()=>{\n                this.history.current = location.pathname\n            })\n        }\n    }\n\n    createMap(routes){\n        return routes.reduce((pre,current)=>{\n            pre[current.path] = current.component\n            return pre;\n        },{})\n    }\n\n}\nVueRouter.install = function (v) {\n    Vue = v;\n    Vue.mixin({\n        beforeCreate(){\n            if (this.$options && this.$options.router){ // \n                this._root = this; //_root\n                this._router = this.$options.router;\n                Vue.util.defineReactive(this,\"xxx\",this._router.history)\n            }else { //\n                this._root= this.$parent && this.$parent._root\n            }\n            Object.defineProperty(this,'$router',{\n                get(){\n                    return this._root._router\n                }\n            });\n            Object.defineProperty(this,'$route',{\n                get(){\n                    return this._root._router.history.current\n                }\n            })\n        }\n    })\n    Vue.component('router-link',{\n        props:{\n            to:String\n        },\n        render(h){\n            let mode = this._self._root._router.mode;\n            let to = mode === \"hash\"?\"#\"+this.to:this.to\n            return h('a',{attrs:{href:to}},this.$slots.default)\n        }\n    })\n    Vue.component('router-view',{\n        render(h){\n            let current = this._self._root._router.history.current\n            let routeMap = this._self._root._router.routesMap;\n            return h(routeMap[current])\n        }\n    })\n};\n\nexport default VueRouter\n\n```","source":"_posts/Vue-router.md","raw":"---\ntitle: Vue-router\ndate: 2021-08-17 18:32:29\ncategories: web\ntags:\n    - Vue-router\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<!--more-->\nvue-router\n```javascript\n    //myVueRouter.js\nlet Vue = null;\nclass HistoryRoute {\n    constructor(){\n        this.current = null\n    }\n}\nclass VueRouter{\n    constructor(options) {\n        this.mode = options.mode || \"hash\"\n        this.routes = options.routes || [] //\n        this.routesMap = this.createMap(this.routes)\n        this.history = new HistoryRoute();\n        this.init()\n\n    }\n    init(){\n        if (this.mode === \"hash\"){\n            // hash#/\n            location.hash? '':location.hash = \"/\";\n            window.addEventListener(\"load\",()=>{\n                this.history.current = location.hash.slice(1)\n            })\n            window.addEventListener(\"hashchange\",()=>{\n                this.history.current = location.hash.slice(1)\n            })\n        } else{\n            location.pathname? '':location.pathname = \"/\";\n            window.addEventListener('load',()=>{\n                this.history.current = location.pathname\n            })\n            window.addEventListener(\"popstate\",()=>{\n                this.history.current = location.pathname\n            })\n        }\n    }\n\n    createMap(routes){\n        return routes.reduce((pre,current)=>{\n            pre[current.path] = current.component\n            return pre;\n        },{})\n    }\n\n}\nVueRouter.install = function (v) {\n    Vue = v;\n    Vue.mixin({\n        beforeCreate(){\n            if (this.$options && this.$options.router){ // \n                this._root = this; //_root\n                this._router = this.$options.router;\n                Vue.util.defineReactive(this,\"xxx\",this._router.history)\n            }else { //\n                this._root= this.$parent && this.$parent._root\n            }\n            Object.defineProperty(this,'$router',{\n                get(){\n                    return this._root._router\n                }\n            });\n            Object.defineProperty(this,'$route',{\n                get(){\n                    return this._root._router.history.current\n                }\n            })\n        }\n    })\n    Vue.component('router-link',{\n        props:{\n            to:String\n        },\n        render(h){\n            let mode = this._self._root._router.mode;\n            let to = mode === \"hash\"?\"#\"+this.to:this.to\n            return h('a',{attrs:{href:to}},this.$slots.default)\n        }\n    })\n    Vue.component('router-view',{\n        render(h){\n            let current = this._self._root._router.history.current\n            let routeMap = this._self._root._router.routesMap;\n            return h(routeMap[current])\n        }\n    })\n};\n\nexport default VueRouter\n\n```","slug":"Vue-router","published":1,"updated":"2026-01-02T00:43:17.571Z","_id":"cmjw5ipuf002ew0tg7mrka16x","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<p>vue-router</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">//myVueRouter.js</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Vue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">HistoryRoute</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">current</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">VueRouter</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> = options.<span class=\"property\">mode</span> || <span class=\"string\">&quot;hash&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">routes</span> = options.<span class=\"property\">routes</span> || [] <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">routesMap</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">createMap</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">routes</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">history</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">HistoryRoute</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">init</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> === <span class=\"string\">&quot;hash&quot;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// hash#/</span></span><br><span class=\"line\">            location.<span class=\"property\">hash</span>? <span class=\"string\">&#x27;&#x27;</span>:location.<span class=\"property\">hash</span> = <span class=\"string\">&quot;/&quot;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">hash</span>.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;hashchange&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">hash</span>.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            location.<span class=\"property\">pathname</span>? <span class=\"string\">&#x27;&#x27;</span>:location.<span class=\"property\">pathname</span> = <span class=\"string\">&quot;/&quot;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;load&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">pathname</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;popstate&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">pathname</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">createMap</span>(<span class=\"params\">routes</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> routes.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">pre,current</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            pre[current.<span class=\"property\">path</span>] = current.<span class=\"property\">component</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">        &#125;,&#123;&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">VueRouter</span>.<span class=\"property\">install</span> = <span class=\"keyword\">function</span> (<span class=\"params\">v</span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span> = v;</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">mixin</span>(&#123;</span><br><span class=\"line\">        <span class=\"title function_\">beforeCreate</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">$options</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">router</span>)&#123; <span class=\"comment\">// </span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span> = <span class=\"variable language_\">this</span>; <span class=\"comment\">//_root</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_router</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">router</span>;</span><br><span class=\"line\">                <span class=\"title class_\">Vue</span>.<span class=\"property\">util</span>.<span class=\"title function_\">defineReactive</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&quot;xxx&quot;</span>,<span class=\"variable language_\">this</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>)</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>= <span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span>.<span class=\"property\">_root</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&#x27;$router&#x27;</span>,&#123;</span><br><span class=\"line\">                <span class=\"title function_\">get</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&#x27;$route&#x27;</span>,&#123;</span><br><span class=\"line\">                <span class=\"title function_\">get</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;router-link&#x27;</span>,&#123;</span><br><span class=\"line\">        <span class=\"attr\">props</span>:&#123;</span><br><span class=\"line\">            <span class=\"attr\">to</span>:<span class=\"title class_\">String</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"title function_\">render</span>(<span class=\"params\">h</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> mode = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">mode</span>;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> to = mode === <span class=\"string\">&quot;hash&quot;</span>?<span class=\"string\">&quot;#&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">to</span>:<span class=\"variable language_\">this</span>.<span class=\"property\">to</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">h</span>(<span class=\"string\">&#x27;a&#x27;</span>,&#123;<span class=\"attr\">attrs</span>:&#123;<span class=\"attr\">href</span>:to&#125;&#125;,<span class=\"variable language_\">this</span>.<span class=\"property\">$slots</span>.<span class=\"property\">default</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;router-view&#x27;</span>,&#123;</span><br><span class=\"line\">        <span class=\"title function_\">render</span>(<span class=\"params\">h</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> current = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span></span><br><span class=\"line\">            <span class=\"keyword\">let</span> routeMap = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">routesMap</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">h</span>(routeMap[current])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">VueRouter</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<p>vue-router</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">//myVueRouter.js</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Vue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">HistoryRoute</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">current</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">VueRouter</span>&#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> = options.<span class=\"property\">mode</span> || <span class=\"string\">&quot;hash&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">routes</span> = options.<span class=\"property\">routes</span> || [] <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">routesMap</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">createMap</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">routes</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">history</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">HistoryRoute</span>();</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">init</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> === <span class=\"string\">&quot;hash&quot;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// hash#/</span></span><br><span class=\"line\">            location.<span class=\"property\">hash</span>? <span class=\"string\">&#x27;&#x27;</span>:location.<span class=\"property\">hash</span> = <span class=\"string\">&quot;/&quot;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;load&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">hash</span>.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;hashchange&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">hash</span>.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            location.<span class=\"property\">pathname</span>? <span class=\"string\">&#x27;&#x27;</span>:location.<span class=\"property\">pathname</span> = <span class=\"string\">&quot;/&quot;</span>;</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;load&#x27;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">pathname</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;popstate&quot;</span>,<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span> = location.<span class=\"property\">pathname</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">createMap</span>(<span class=\"params\">routes</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> routes.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">pre,current</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            pre[current.<span class=\"property\">path</span>] = current.<span class=\"property\">component</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> pre;</span><br><span class=\"line\">        &#125;,&#123;&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">VueRouter</span>.<span class=\"property\">install</span> = <span class=\"keyword\">function</span> (<span class=\"params\">v</span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span> = v;</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">mixin</span>(&#123;</span><br><span class=\"line\">        <span class=\"title function_\">beforeCreate</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">$options</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">router</span>)&#123; <span class=\"comment\">// </span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span> = <span class=\"variable language_\">this</span>; <span class=\"comment\">//_root</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_router</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">router</span>;</span><br><span class=\"line\">                <span class=\"title class_\">Vue</span>.<span class=\"property\">util</span>.<span class=\"title function_\">defineReactive</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&quot;xxx&quot;</span>,<span class=\"variable language_\">this</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>)</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> &#123; <span class=\"comment\">//</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>= <span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span>.<span class=\"property\">_root</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&#x27;$router&#x27;</span>,&#123;</span><br><span class=\"line\">                <span class=\"title function_\">get</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(<span class=\"variable language_\">this</span>,<span class=\"string\">&#x27;$route&#x27;</span>,&#123;</span><br><span class=\"line\">                <span class=\"title function_\">get</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;router-link&#x27;</span>,&#123;</span><br><span class=\"line\">        <span class=\"attr\">props</span>:&#123;</span><br><span class=\"line\">            <span class=\"attr\">to</span>:<span class=\"title class_\">String</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"title function_\">render</span>(<span class=\"params\">h</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> mode = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">mode</span>;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> to = mode === <span class=\"string\">&quot;hash&quot;</span>?<span class=\"string\">&quot;#&quot;</span>+<span class=\"variable language_\">this</span>.<span class=\"property\">to</span>:<span class=\"variable language_\">this</span>.<span class=\"property\">to</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">h</span>(<span class=\"string\">&#x27;a&#x27;</span>,&#123;<span class=\"attr\">attrs</span>:&#123;<span class=\"attr\">href</span>:to&#125;&#125;,<span class=\"variable language_\">this</span>.<span class=\"property\">$slots</span>.<span class=\"property\">default</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;router-view&#x27;</span>,&#123;</span><br><span class=\"line\">        <span class=\"title function_\">render</span>(<span class=\"params\">h</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> current = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">history</span>.<span class=\"property\">current</span></span><br><span class=\"line\">            <span class=\"keyword\">let</span> routeMap = <span class=\"variable language_\">this</span>.<span class=\"property\">_self</span>.<span class=\"property\">_root</span>.<span class=\"property\">_router</span>.<span class=\"property\">routesMap</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">h</span>(routeMap[current])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">VueRouter</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":"Vue.js ","date":"2019-01-30T03:37:58.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<img src='/img/curious.jpg'>\n<!--more-->\n[](https://juejin.im/book/5a36661851882538e2259c0f/section/5a37bbb35188257d167a4d64)\n# \n Vue.js  Vue.js \n\n\n<img src=\"/img/vuejsfrist.png\" class=\"full-image\">\nVue.js\n\n# \n<img src=\"/img/vuejs2.png\" class=\"full-image\">\n new Vue()  Vue  _init  init  props methods data computed  watch  Object.defineProperty  setter  getter \n\n $mount  render function  template \n\n# \ncompile parseoptimize  generate  render function\n<img src=\"/img/vuejs3.png\" class=\"full-image\">\n\n## parse\nparse  template classstyleAST\n\n## optimize\noptimize  static  Vue  update  patch  [diff](https://zhanghuaxiao.github.io/2019/01/30/vue-diff/#more)  patch \n\n## generate\ngenerate  AST  render function  render  staticRenderFns \n\n parseoptimize  generate  VNode  render function \n\n# \n Vue.js \n<img src=\"/img/vuejs4.png\" class=\"full-image\">\n\n getter  setter  init  Object.defineProperty  getter  setter \n\n render function  getter  Watcher  Dep  subs \n<img src=\"/img/vuejs5.png\" class=\"full-image\">\n\n setter setter  Dep  Watcher Watcher  update  patch \n\n# Virtual DOM\nrender function  VNode Virtual DOM  JavaScript  VNode  DOM  Virtual DOM  JavaScript WeexNode \n\n\n\n    {\n        tag: 'div',                 /*div*/\n        children: [                 /**/\n            {\n                tag: 'a',           /*a*/\n                text: 'click me'    /**/\n            }\n        ]\n    }\n\n\n\n    <div>\n        <a>click me</a>\n    </div>\n\n isStatic  isComment \n\n# \n<img src=\"/img/vuejs6.png\" class=\"full-image\">\n setter -> Watcher -> update \n\n render function  VNode  VNode  innerHTML  DOM \n\npatch VNode  VNode  patch  diff  DOM \n\n# \n<img src=\"/img/vuejs7.png\" class=\"full-image\">\n","source":"_posts/vue-source-code.md","raw":"---\ntitle: Vue.js \ndate: 2019-01-30 11:37:58\ncategories: web\ntags:\n    - Vue.js \n    - patch\n    - render function \n    - diff\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<img src='/img/curious.jpg'>\n<!--more-->\n[](https://juejin.im/book/5a36661851882538e2259c0f/section/5a37bbb35188257d167a4d64)\n# \n Vue.js  Vue.js \n\n\n<img src=\"/img/vuejsfrist.png\" class=\"full-image\">\nVue.js\n\n# \n<img src=\"/img/vuejs2.png\" class=\"full-image\">\n new Vue()  Vue  _init  init  props methods data computed  watch  Object.defineProperty  setter  getter \n\n $mount  render function  template \n\n# \ncompile parseoptimize  generate  render function\n<img src=\"/img/vuejs3.png\" class=\"full-image\">\n\n## parse\nparse  template classstyleAST\n\n## optimize\noptimize  static  Vue  update  patch  [diff](https://zhanghuaxiao.github.io/2019/01/30/vue-diff/#more)  patch \n\n## generate\ngenerate  AST  render function  render  staticRenderFns \n\n parseoptimize  generate  VNode  render function \n\n# \n Vue.js \n<img src=\"/img/vuejs4.png\" class=\"full-image\">\n\n getter  setter  init  Object.defineProperty  getter  setter \n\n render function  getter  Watcher  Dep  subs \n<img src=\"/img/vuejs5.png\" class=\"full-image\">\n\n setter setter  Dep  Watcher Watcher  update  patch \n\n# Virtual DOM\nrender function  VNode Virtual DOM  JavaScript  VNode  DOM  Virtual DOM  JavaScript WeexNode \n\n\n\n    {\n        tag: 'div',                 /*div*/\n        children: [                 /**/\n            {\n                tag: 'a',           /*a*/\n                text: 'click me'    /**/\n            }\n        ]\n    }\n\n\n\n    <div>\n        <a>click me</a>\n    </div>\n\n isStatic  isComment \n\n# \n<img src=\"/img/vuejs6.png\" class=\"full-image\">\n setter -> Watcher -> update \n\n render function  VNode  VNode  innerHTML  DOM \n\npatch VNode  VNode  patch  diff  DOM \n\n# \n<img src=\"/img/vuejs7.png\" class=\"full-image\">\n","slug":"vue-source-code","published":1,"updated":"2026-01-02T00:43:17.575Z","_id":"cmjw5ipuv002iw0tg30xz5zf7","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src='/img/curious.jpg'>\n<span id=\"more\"></span>\n[](https://juejin.im/book/5a36661851882538e2259c0f/section/5a37bbb35188257d167a4d64)\n# \n Vue.js  Vue.js \n\n<p><br><img src=\"/img/vuejsfrist.png\" class=\"full-image\"><br>Vue.js</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs2.png\" class=\"full-image\">\n new Vue()  Vue  _init  init  props methods data computed  watch  Object.defineProperty  setter  getter \n\n<p> $mount  render function  template </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>compile parseoptimize  generate  render function<br><img src=\"/img/vuejs3.png\" class=\"full-image\"></p>\n<h2 id=\"parse\"><a href=\"#parse\" class=\"headerlink\" title=\"parse\"></a>parse</h2><p>parse  template classstyleAST</p>\n<h2 id=\"optimize\"><a href=\"#optimize\" class=\"headerlink\" title=\"optimize\"></a>optimize</h2><p>optimize  static  Vue  update  patch  <a href=\"https://zhanghuaxiao.github.io/2019/01/30/vue-diff%E7%AE%97%E6%B3%95/#more\">diff</a>  patch </p>\n<h2 id=\"generate\"><a href=\"#generate\" class=\"headerlink\" title=\"generate\"></a>generate</h2><p>generate  AST  render function  render  staticRenderFns </p>\n<p> parseoptimize  generate  VNode  render function </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> Vue.js <br><img src=\"/img/vuejs4.png\" class=\"full-image\"></p>\n<p> getter  setter  init  Object.defineProperty  getter  setter </p>\n<p> render function  getter  Watcher  Dep  subs <br><img src=\"/img/vuejs5.png\" class=\"full-image\"></p>\n<p> setter setter  Dep  Watcher Watcher  update  patch </p>\n<h1 id=\"Virtual-DOM\"><a href=\"#Virtual-DOM\" class=\"headerlink\" title=\"Virtual DOM\"></a>Virtual DOM</h1><p>render function  VNode Virtual DOM  JavaScript  VNode  DOM  Virtual DOM  JavaScript WeexNode </p>\n<p></p>\n<pre><code>&#123;\n    tag: &#39;div&#39;,                 /*div*/\n    children: [                 /**/\n        &#123;\n            tag: &#39;a&#39;,           /*a*/\n            text: &#39;click me&#39;    /**/\n        &#125;\n    ]\n&#125;\n</code></pre>\n<p></p>\n<pre><code>&lt;div&gt;\n    &lt;a&gt;click me&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p> isStatic  isComment </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs6.png\" class=\"full-image\">\n setter -> Watcher -> update \n\n<p> render function  VNode  VNode  innerHTML  DOM </p>\n<p>patch VNode  VNode  patch  diff  DOM </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs7.png\" class=\"full-image\">\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src='/img/curious.jpg'>","more":"[](https://juejin.im/book/5a36661851882538e2259c0f/section/5a37bbb35188257d167a4d64)\n# \n Vue.js  Vue.js \n\n<p><br><img src=\"/img/vuejsfrist.png\" class=\"full-image\"><br>Vue.js</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs2.png\" class=\"full-image\">\n new Vue()  Vue  _init  init  props methods data computed  watch  Object.defineProperty  setter  getter \n\n<p> $mount  render function  template </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>compile parseoptimize  generate  render function<br><img src=\"/img/vuejs3.png\" class=\"full-image\"></p>\n<h2 id=\"parse\"><a href=\"#parse\" class=\"headerlink\" title=\"parse\"></a>parse</h2><p>parse  template classstyleAST</p>\n<h2 id=\"optimize\"><a href=\"#optimize\" class=\"headerlink\" title=\"optimize\"></a>optimize</h2><p>optimize  static  Vue  update  patch  <a href=\"https://zhanghuaxiao.github.io/2019/01/30/vue-diff%E7%AE%97%E6%B3%95/#more\">diff</a>  patch </p>\n<h2 id=\"generate\"><a href=\"#generate\" class=\"headerlink\" title=\"generate\"></a>generate</h2><p>generate  AST  render function  render  staticRenderFns </p>\n<p> parseoptimize  generate  VNode  render function </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> Vue.js <br><img src=\"/img/vuejs4.png\" class=\"full-image\"></p>\n<p> getter  setter  init  Object.defineProperty  getter  setter </p>\n<p> render function  getter  Watcher  Dep  subs <br><img src=\"/img/vuejs5.png\" class=\"full-image\"></p>\n<p> setter setter  Dep  Watcher Watcher  update  patch </p>\n<h1 id=\"Virtual-DOM\"><a href=\"#Virtual-DOM\" class=\"headerlink\" title=\"Virtual DOM\"></a>Virtual DOM</h1><p>render function  VNode Virtual DOM  JavaScript  VNode  DOM  Virtual DOM  JavaScript WeexNode </p>\n<p></p>\n<pre><code>&#123;\n    tag: &#39;div&#39;,                 /*div*/\n    children: [                 /**/\n        &#123;\n            tag: &#39;a&#39;,           /*a*/\n            text: &#39;click me&#39;    /**/\n        &#125;\n    ]\n&#125;\n</code></pre>\n<p></p>\n<pre><code>&lt;div&gt;\n    &lt;a&gt;click me&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p> isStatic  isComment </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs6.png\" class=\"full-image\">\n setter -> Watcher -> update \n\n<p> render function  VNode  VNode  innerHTML  DOM </p>\n<p>patch VNode  VNode  patch  diff  DOM </p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><img src=\"/img/vuejs7.png\" class=\"full-image\">\n"},{"title":"Vue$emit $on $once $off","date":"2019-08-23T03:12:11.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} , {% endcq %}\n<!--more-->\n1.[](https://cn.vuejs.org/v2/api/#vm-on)\n2.\n```javascript\n<body>\n    <div id=\"app\">\n        <p>{{msg}}{{count}}</p>\n        <children-component @aa=\"aa\"></children-component> <br/>\n        <button @click=\"removeClick\">$off$on</button>\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\n    <script>\n        var bus = new Vue()\n        var children = {\n                data(){\n                    return{\n                        data:\"\"\n                    }\n                },\n                methods: {\n                    childrenClick(){\n                        bus.$emit('aa','emit')\n                    },\n                    hanldClick(){\n                        bus.$emit('bb','$once')\n                    }\n                },\n            template:`<div>\n                <button @click=\"childrenClick\">$emit$on</button><br/><br/> \n                <button @click=\"hanldClick\">$emit$once</button>\n            </div>`\n        }\n        var vm = new Vue({\n            el:\"#app\",\n            data:{\n                msg:'',\n                count:0\n            },\n            components:{\n                'children-component':children\n            },\n            methods:{\n                aa(s){\n                    console.log(s)  \n                },\n                removeClick(){\n                    bus.$off('aa')\n                }\n            },\n            mounted(){\n                bus.$on('aa',(val)=>{\n                    this.msg = val\n                    this.count++\n                })\n                bus.$once('bb',(val)=>{\n                    console.log(val)\n                })\n            }\n        })\n    </script>\n</body>\n```\n\n","source":"_posts/vue-emit-on-once-off.md","raw":"---\ntitle: Vue$emit $on $once $off\ndate: 2019-08-23 11:12:11\ncategories: web\ntags: ['vue$emit/$on/$once/$off']\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} , {% endcq %}\n<!--more-->\n1.[](https://cn.vuejs.org/v2/api/#vm-on)\n2.\n```javascript\n<body>\n    <div id=\"app\">\n        <p>{{msg}}{{count}}</p>\n        <children-component @aa=\"aa\"></children-component> <br/>\n        <button @click=\"removeClick\">$off$on</button>\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\n    <script>\n        var bus = new Vue()\n        var children = {\n                data(){\n                    return{\n                        data:\"\"\n                    }\n                },\n                methods: {\n                    childrenClick(){\n                        bus.$emit('aa','emit')\n                    },\n                    hanldClick(){\n                        bus.$emit('bb','$once')\n                    }\n                },\n            template:`<div>\n                <button @click=\"childrenClick\">$emit$on</button><br/><br/> \n                <button @click=\"hanldClick\">$emit$once</button>\n            </div>`\n        }\n        var vm = new Vue({\n            el:\"#app\",\n            data:{\n                msg:'',\n                count:0\n            },\n            components:{\n                'children-component':children\n            },\n            methods:{\n                aa(s){\n                    console.log(s)  \n                },\n                removeClick(){\n                    bus.$off('aa')\n                }\n            },\n            mounted(){\n                bus.$on('aa',(val)=>{\n                    this.msg = val\n                    this.count++\n                })\n                bus.$once('bb',(val)=>{\n                    console.log(val)\n                })\n            }\n        })\n    </script>\n</body>\n```\n\n","slug":"vue-emit-on-once-off","published":1,"updated":"2026-01-02T00:43:17.576Z","_id":"cmjw5ipvq002sw0tg987uh8d7","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>, </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<p>1.<a href=\"https://cn.vuejs.org/v2/api/#vm-on\"></a><br>2.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;&#123;&#123;count&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">children-component</span> @<span class=\"attr\">aa</span>=<span class=\"string\">&quot;aa&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">children-component</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;removeClick&quot;</span>&gt;</span>$off$on<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> bus = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>()</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> children = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"keyword\">return</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        <span class=\"attr\">data</span>:<span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">methods</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"title function_\">childrenClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        bus.$emit(<span class=\"string\">&#x27;aa&#x27;</span>,<span class=\"string\">&#x27;emit&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"title function_\">hanldClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        bus.$emit(<span class=\"string\">&#x27;bb&#x27;</span>,<span class=\"string\">&#x27;$once&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;button @click=&quot;childrenClick&quot;&gt;$emit$on&lt;/button&gt;&lt;br/&gt;&lt;br/&gt; </span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;button @click=&quot;hanldClick&quot;&gt;$emit$once&lt;/button&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">data</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">msg</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">count</span>:<span class=\"number\">0</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;children-component&#x27;</span>:children</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">aa</span>(<span class=\"params\">s</span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s)  </span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">removeClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    bus.$off(<span class=\"string\">&#x27;aa&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                bus.$on(<span class=\"string\">&#x27;aa&#x27;</span>,<span class=\"function\">(<span class=\"params\">val</span>)=&gt;</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">msg</span> = val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>++</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                bus.$once(<span class=\"string\">&#x27;bb&#x27;</span>,<span class=\"function\">(<span class=\"params\">val</span>)=&gt;</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>\n\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>, </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<p>1.<a href=\"https://cn.vuejs.org/v2/api/#vm-on\"></a><br>2.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;&#123;&#123;count&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">children-component</span> @<span class=\"attr\">aa</span>=<span class=\"string\">&quot;aa&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">children-component</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;removeClick&quot;</span>&gt;</span>$off$on<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> bus = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>()</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> children = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"keyword\">return</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        <span class=\"attr\">data</span>:<span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">methods</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"title function_\">childrenClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        bus.$emit(<span class=\"string\">&#x27;aa&#x27;</span>,<span class=\"string\">&#x27;emit&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"title function_\">hanldClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        bus.$emit(<span class=\"string\">&#x27;bb&#x27;</span>,<span class=\"string\">&#x27;$once&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;button @click=&quot;childrenClick&quot;&gt;$emit$on&lt;/button&gt;&lt;br/&gt;&lt;br/&gt; </span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;button @click=&quot;hanldClick&quot;&gt;$emit$once&lt;/button&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">data</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">msg</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"attr\">count</span>:<span class=\"number\">0</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;children-component&#x27;</span>:children</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">aa</span>(<span class=\"params\">s</span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(s)  </span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"title function_\">removeClick</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    bus.$off(<span class=\"string\">&#x27;aa&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                bus.$on(<span class=\"string\">&#x27;aa&#x27;</span>,<span class=\"function\">(<span class=\"params\">val</span>)=&gt;</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">msg</span> = val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">this</span>.<span class=\"property\">count</span>++</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                bus.$once(<span class=\"string\">&#x27;bb&#x27;</span>,<span class=\"function\">(<span class=\"params\">val</span>)=&gt;</span>&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>"},{"title":"vuefunctionnal","date":"2020-05-25T07:19:48.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} vuefunctionnal {% endcq %}\n<img src=\"../img/functionnal.gif\" style=\"width:305px;heigth:277px\">\n<!--more-->\n Vue.js  functional  true \n\n Render  context datapropsslotschildren  parent  context \n\n1.functionnal.jsjs\n  ```javascript\n    //\n      // eslint-disable-next-line no-unused-vars\n      var imgOptions = {\n      props: [\"data\"],\n      render: function(createElement) {\n        return createElement(\"div\", [\n          createElement(\"p\", \"\"),\n          createElement(\"img\", {\n            attrs: {\n              src: this.data.url,\n              height: 300,\n              weight: 400\n            }\n          })\n        ]);\n      }\n    };\n    //\n    // eslint-disable-next-line no-unused-vars\n    var textOptions = {\n      props: [\"data\"],\n      render: function(createElement) {\n        return createElement(\"div\", [\n          createElement(\"p\", \"\"),\n          createElement(\"span\", {\n            attrs: {\n              height: 300,\n              weight: 400\n            }\n          }),\n          this.data.content\n        ]);\n      }\n    };\n\n    // eslint-disable-next-line no-unused-vars\n    var renderData = {};\n\n    export default {\n      functional: true,\n      render(createElement, { data }) {\n        console.log(data);\n        if (data.attrs.data.type === \"text\") {\n          renderData = textOptions;\n        } else if (data.attrs.data.type === \"img\") {\n          renderData = imgOptions;\n        }\n        return createElement(renderData, data);\n      }\n    };\n```\n2.About.vue\n  ```javascript\n    <template>\n      <div class=\"about\">\n        <h1>functionnal</h1>\n        <button @click=\"log('img')\"></button>\n        <button @click=\"log('text')\"></button>\n        <functionalVue :data=\"data\"></functionalVue>\n      </div>\n    </template>\n\n    <script>\n    import functionalVue from \"./functionnal\";\n    export default {\n      data() {\n        return {\n          data: {}\n        };\n      },\n      components: {\n        functionalVue\n      },\n      methods: {\n        log(type) {\n          if (type === \"img\") {\n            this.data = {\n              type: type,\n              url:\n                \"http://pic-bucket.ws.126.net/photo/0001/2019-02-07/E7D8PON900AO0001NOS.jpg\"\n            };\n          } else {\n            this.data = {\n              type: type,\n              content:\n                \"\"\n            };\n          }\n        }\n      },\n      created() {\n        this.data = {\n          type: \"text\",\n          content: \"\"\n        };\n      }\n    };\n    </script>\n\n  ```\n","source":"_posts/vuefunctionnal.md","raw":"---\ntitle: vuefunctionnal\ndate: 2020-05-25 15:19:48\ncategories: web\ntags:\n    - vuefunctionnal\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} vuefunctionnal {% endcq %}\n<img src=\"../img/functionnal.gif\" style=\"width:305px;heigth:277px\">\n<!--more-->\n Vue.js  functional  true \n\n Render  context datapropsslotschildren  parent  context \n\n1.functionnal.jsjs\n  ```javascript\n    //\n      // eslint-disable-next-line no-unused-vars\n      var imgOptions = {\n      props: [\"data\"],\n      render: function(createElement) {\n        return createElement(\"div\", [\n          createElement(\"p\", \"\"),\n          createElement(\"img\", {\n            attrs: {\n              src: this.data.url,\n              height: 300,\n              weight: 400\n            }\n          })\n        ]);\n      }\n    };\n    //\n    // eslint-disable-next-line no-unused-vars\n    var textOptions = {\n      props: [\"data\"],\n      render: function(createElement) {\n        return createElement(\"div\", [\n          createElement(\"p\", \"\"),\n          createElement(\"span\", {\n            attrs: {\n              height: 300,\n              weight: 400\n            }\n          }),\n          this.data.content\n        ]);\n      }\n    };\n\n    // eslint-disable-next-line no-unused-vars\n    var renderData = {};\n\n    export default {\n      functional: true,\n      render(createElement, { data }) {\n        console.log(data);\n        if (data.attrs.data.type === \"text\") {\n          renderData = textOptions;\n        } else if (data.attrs.data.type === \"img\") {\n          renderData = imgOptions;\n        }\n        return createElement(renderData, data);\n      }\n    };\n```\n2.About.vue\n  ```javascript\n    <template>\n      <div class=\"about\">\n        <h1>functionnal</h1>\n        <button @click=\"log('img')\"></button>\n        <button @click=\"log('text')\"></button>\n        <functionalVue :data=\"data\"></functionalVue>\n      </div>\n    </template>\n\n    <script>\n    import functionalVue from \"./functionnal\";\n    export default {\n      data() {\n        return {\n          data: {}\n        };\n      },\n      components: {\n        functionalVue\n      },\n      methods: {\n        log(type) {\n          if (type === \"img\") {\n            this.data = {\n              type: type,\n              url:\n                \"http://pic-bucket.ws.126.net/photo/0001/2019-02-07/E7D8PON900AO0001NOS.jpg\"\n            };\n          } else {\n            this.data = {\n              type: type,\n              content:\n                \"\"\n            };\n          }\n        }\n      },\n      created() {\n        this.data = {\n          type: \"text\",\n          content: \"\"\n        };\n      }\n    };\n    </script>\n\n  ```\n","slug":"vuefunctionnal","published":1,"updated":"2026-01-02T00:46:24.227Z","_id":"cmjw5ipwm002ww0tgbrkra7fd","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>vuefunctionnal </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"../img/functionnal.gif\" style=\"width:305px;heigth:277px\">\n<span id=\"more\"></span>\n Vue.js  functional  true \n\n<p> Render  context datapropsslotschildren  parent  context </p>\n<p>1.functionnal.jsjs<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> imgOptions = &#123;</span><br><span class=\"line\">  <span class=\"attr\">props</span>: [<span class=\"string\">&quot;data&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>, [</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>, <span class=\"string\">&quot;&quot;</span>),</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;img&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">attrs</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">src</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">url</span>,</span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"number\">300</span>,</span><br><span class=\"line\">          <span class=\"attr\">weight</span>: <span class=\"number\">400</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> textOptions = &#123;</span><br><span class=\"line\">  <span class=\"attr\">props</span>: [<span class=\"string\">&quot;data&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>, [</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>, <span class=\"string\">&quot;&quot;</span>),</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;span&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">attrs</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"number\">300</span>,</span><br><span class=\"line\">          <span class=\"attr\">weight</span>: <span class=\"number\">400</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">content</span></span><br><span class=\"line\">    ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> renderData = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">functional</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\">createElement, &#123; data &#125;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (data.<span class=\"property\">attrs</span>.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;text&quot;</span>) &#123;</span><br><span class=\"line\">      renderData = textOptions;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">attrs</span>.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;img&quot;</span>) &#123;</span><br><span class=\"line\">      renderData = imgOptions;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(renderData, data);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure><br>2.About.vue<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;about&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>functionnal<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;log(&#x27;img&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;log(&#x27;text&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">functionalVue</span> <span class=\"attr\">:data</span>=<span class=\"string\">&quot;data&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">functionalVue</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">import</span> functionalVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;./functionnal&quot;</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">data</span>: &#123;&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    functionalVue</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">methods</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">log</span>(<span class=\"params\">type</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"keyword\">if</span> (type === <span class=\"string\">&quot;img&quot;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">type</span>: type,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">url</span>:</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&quot;http://pic-bucket.ws.126.net/photo/0001/2019-02-07/E7D8PON900AO0001NOS.jpg&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">type</span>: type,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">content</span>:</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">type</span>: <span class=\"string\">&quot;text&quot;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">content</span>: <span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>vuefunctionnal </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"../img/functionnal.gif\" style=\"width:305px;heigth:277px\">","more":"Vue.js  functional  true \n\n<p> Render  context datapropsslotschildren  parent  context </p>\n<p>1.functionnal.jsjs<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> imgOptions = &#123;</span><br><span class=\"line\">  <span class=\"attr\">props</span>: [<span class=\"string\">&quot;data&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>, [</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>, <span class=\"string\">&quot;&quot;</span>),</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;img&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">attrs</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">src</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">url</span>,</span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"number\">300</span>,</span><br><span class=\"line\">          <span class=\"attr\">weight</span>: <span class=\"number\">400</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> textOptions = &#123;</span><br><span class=\"line\">  <span class=\"attr\">props</span>: [<span class=\"string\">&quot;data&quot;</span>],</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;div&quot;</span>, [</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;p&quot;</span>, <span class=\"string\">&quot;&quot;</span>),</span><br><span class=\"line\">      <span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;span&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">attrs</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"number\">300</span>,</span><br><span class=\"line\">          <span class=\"attr\">weight</span>: <span class=\"number\">400</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">content</span></span><br><span class=\"line\">    ]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// eslint-disable-next-line no-unused-vars</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> renderData = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">functional</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\">createElement, &#123; data &#125;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (data.<span class=\"property\">attrs</span>.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;text&quot;</span>) &#123;</span><br><span class=\"line\">      renderData = textOptions;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (data.<span class=\"property\">attrs</span>.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;img&quot;</span>) &#123;</span><br><span class=\"line\">      renderData = imgOptions;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(renderData, data);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure><br>2.About.vue<br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;about&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>functionnal<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;log(&#x27;img&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;log(&#x27;text&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">functionalVue</span> <span class=\"attr\">:data</span>=<span class=\"string\">&quot;data&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">functionalVue</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">import</span> functionalVue <span class=\"keyword\">from</span> <span class=\"string\">&quot;./functionnal&quot;</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">data</span>: &#123;&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    functionalVue</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">methods</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">log</span>(<span class=\"params\">type</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"keyword\">if</span> (type === <span class=\"string\">&quot;img&quot;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">type</span>: type,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">url</span>:</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&quot;http://pic-bucket.ws.126.net/photo/0001/2019-02-07/E7D8PON900AO0001NOS.jpg&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">type</span>: type,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">          <span class=\"attr\">content</span>:</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">type</span>: <span class=\"string\">&quot;text&quot;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">content</span>: <span class=\"string\">&quot;&quot;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>"},{"title":"Vue","date":"2019-07-09T07:22:16.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %}  {% endcq %}\n<!--more-->\n    ```javascript\n        <body>\n            <div id=\"app\">\n                <input type=\"text\" v-model=\"text\"> {{ text }}\n            </div>\n            <script>\n                function observe(obj, vm) {\n                Object.keys(obj).forEach(function (key) {\n                    defineReactive(vm, key, obj[key]);\n                })\n                }\n                function defineReactive(obj, key, val) {\n                var dep = new Dep();\n                Object.defineProperty(obj, key, {\n                    get: function () {\n                    //  watcher  Dep\n                    if (Dep.target) dep.addSub(Dep.target);\n                    return val\n                    },\n                    set: function (newVal) {\n                    if (newVal === val) return\n                    val = newVal;\n                    // \n                    dep.notify();\n                    }\n                });\n                }\n                function nodeToFragment(node, vm) {\n                var flag = document.createDocumentFragment();\n                var child;\n                //  while (child = node.firstChild) \n                // appendChild  child  DOM \n                // node.firstChild \n                while (child = node.firstChild) {\n                    compile(child, vm);\n                    flag.appendChild(child); // \n                }\n                return flag\n                }\n                function compile(node, vm) {\n                var reg = /\\{\\{(.*)\\}\\}/;\n                // \n                if (node.nodeType === 1) {\n                    var attr = node.attributes;\n                    // \n                    for (var i = 0; i < attr.length; i++) {\n                    if (attr[i].nodeName == 'v-model') {\n                        var name = attr[i].nodeValue; //  v-model \n                        node.addEventListener('input', function (e) {\n                        //  data  set \n                        vm[name] = e.target.value;\n                        });\n                        node.value = vm[name]; //  data  node\n                        node.removeAttribute('v-model');\n                    }\n                    };\n                    new Watcher(vm, node, name, 'input');\n                }\n                //  text\n                if (node.nodeType === 3) {\n                    if (reg.test(node.nodeValue)) {\n                    var name = RegExp.$1; // \n                    name = name.trim();\n                    new Watcher(vm, node, name, 'text');\n                    }\n                }\n                }\n                function Watcher(vm, node, name, nodeType) {\n                Dep.target = this;\n                this.name = name;\n                this.node = node;\n                this.vm = vm;\n                this.nodeType = nodeType;\n                this.update();\n                Dep.target = null;\n                }\n                Watcher.prototype = {\n                update: function () {\n                    this.get();\n                    if (this.nodeType == 'text') {\n                    this.node.nodeValue = this.value;\n                    }\n                    if (this.nodeType == 'input') {\n                    this.node.value = this.value;\n                    }\n                },\n                //  data \n                get: function () {\n                    this.value = this.vm[this.name]; //  get\n                }\n                }\n                function Dep() {\n                this.subs = []\n                }\n                Dep.prototype = {\n                addSub: function (sub) {\n                    this.subs.push(sub);\n                },\n                notify: function () {\n                    this.subs.forEach(function (sub) {\n                    sub.update();\n                    });\n                }\n                }\n                function Vue(options) {\n                this.data = options.data;\n                var data = this.data;\n                observe(data, this);\n                var id = options.el;\n                var dom = nodeToFragment(document.getElementById(id), this);\n                //  dom  app \n                document.getElementById(id).appendChild(dom);\n                }\n                var vm = new Vue({\n                el: 'app',\n                data: {\n                    text: 'hello world',\n                }\n                })\n            </script>\n        </body>\n    ```","source":"_posts/Vue.md","raw":"---\ntitle: Vue\ndate: 2019-07-09 15:22:16\ncategories:\ntags:\n    - Vue\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %}  {% endcq %}\n<!--more-->\n    ```javascript\n        <body>\n            <div id=\"app\">\n                <input type=\"text\" v-model=\"text\"> {{ text }}\n            </div>\n            <script>\n                function observe(obj, vm) {\n                Object.keys(obj).forEach(function (key) {\n                    defineReactive(vm, key, obj[key]);\n                })\n                }\n                function defineReactive(obj, key, val) {\n                var dep = new Dep();\n                Object.defineProperty(obj, key, {\n                    get: function () {\n                    //  watcher  Dep\n                    if (Dep.target) dep.addSub(Dep.target);\n                    return val\n                    },\n                    set: function (newVal) {\n                    if (newVal === val) return\n                    val = newVal;\n                    // \n                    dep.notify();\n                    }\n                });\n                }\n                function nodeToFragment(node, vm) {\n                var flag = document.createDocumentFragment();\n                var child;\n                //  while (child = node.firstChild) \n                // appendChild  child  DOM \n                // node.firstChild \n                while (child = node.firstChild) {\n                    compile(child, vm);\n                    flag.appendChild(child); // \n                }\n                return flag\n                }\n                function compile(node, vm) {\n                var reg = /\\{\\{(.*)\\}\\}/;\n                // \n                if (node.nodeType === 1) {\n                    var attr = node.attributes;\n                    // \n                    for (var i = 0; i < attr.length; i++) {\n                    if (attr[i].nodeName == 'v-model') {\n                        var name = attr[i].nodeValue; //  v-model \n                        node.addEventListener('input', function (e) {\n                        //  data  set \n                        vm[name] = e.target.value;\n                        });\n                        node.value = vm[name]; //  data  node\n                        node.removeAttribute('v-model');\n                    }\n                    };\n                    new Watcher(vm, node, name, 'input');\n                }\n                //  text\n                if (node.nodeType === 3) {\n                    if (reg.test(node.nodeValue)) {\n                    var name = RegExp.$1; // \n                    name = name.trim();\n                    new Watcher(vm, node, name, 'text');\n                    }\n                }\n                }\n                function Watcher(vm, node, name, nodeType) {\n                Dep.target = this;\n                this.name = name;\n                this.node = node;\n                this.vm = vm;\n                this.nodeType = nodeType;\n                this.update();\n                Dep.target = null;\n                }\n                Watcher.prototype = {\n                update: function () {\n                    this.get();\n                    if (this.nodeType == 'text') {\n                    this.node.nodeValue = this.value;\n                    }\n                    if (this.nodeType == 'input') {\n                    this.node.value = this.value;\n                    }\n                },\n                //  data \n                get: function () {\n                    this.value = this.vm[this.name]; //  get\n                }\n                }\n                function Dep() {\n                this.subs = []\n                }\n                Dep.prototype = {\n                addSub: function (sub) {\n                    this.subs.push(sub);\n                },\n                notify: function () {\n                    this.subs.forEach(function (sub) {\n                    sub.update();\n                    });\n                }\n                }\n                function Vue(options) {\n                this.data = options.data;\n                var data = this.data;\n                observe(data, this);\n                var id = options.el;\n                var dom = nodeToFragment(document.getElementById(id), this);\n                //  dom  app \n                document.getElementById(id).appendChild(dom);\n                }\n                var vm = new Vue({\n                el: 'app',\n                data: {\n                    text: 'hello world',\n                }\n                })\n            </script>\n        </body>\n    ```","slug":"Vue","published":1,"updated":"2026-01-02T00:43:17.572Z","_id":"cmjw5ipxi0030w0tg96r92w5j","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span> &#123;&#123; text &#125;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">observe</span>(<span class=\"params\">obj, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(obj).<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">key</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">defineReactive</span>(vm, key, obj[key]);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">defineReactive</span>(<span class=\"params\">obj, key, val</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> dep = <span class=\"keyword\">new</span> <span class=\"title class_\">Dep</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(obj, key, &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">get</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">//  watcher  Dep</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"title class_\">Dep</span>.<span class=\"property\">target</span>) dep.<span class=\"title function_\">addSub</span>(<span class=\"title class_\">Dep</span>.<span class=\"property\">target</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">return</span> val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">set</span>: <span class=\"keyword\">function</span> (<span class=\"params\">newVal</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (newVal === val) <span class=\"keyword\">return</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            val = newVal;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            dep.<span class=\"title function_\">notify</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">nodeToFragment</span>(<span class=\"params\">node, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> flag = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createDocumentFragment</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> child;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  while (child = node.firstChild) </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// appendChild  child  DOM </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// node.firstChild </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">while</span> (child = node.<span class=\"property\">firstChild</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">compile</span>(child, vm);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            flag.<span class=\"title function_\">appendChild</span>(child); <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> flag</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">compile</span>(<span class=\"params\">node, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/\\&#123;\\&#123;(.*)\\&#125;\\&#125;/</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">if</span> (node.<span class=\"property\">nodeType</span> === <span class=\"number\">1</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">var</span> attr = node.<span class=\"property\">attributes</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; attr.<span class=\"property\">length</span>; i++) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (attr[i].<span class=\"property\">nodeName</span> == <span class=\"string\">&#x27;v-model&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"keyword\">var</span> name = attr[i].<span class=\"property\">nodeValue</span>; <span class=\"comment\">//  v-model </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;input&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"comment\">//  data  set </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                vm[name] = e.<span class=\"property\">target</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"property\">value</span> = vm[name]; <span class=\"comment\">//  data  node</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;v-model&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Watcher</span>(vm, node, name, <span class=\"string\">&#x27;input&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  text</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">if</span> (node.<span class=\"property\">nodeType</span> === <span class=\"number\">3</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(node.<span class=\"property\">nodeValue</span>)) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">var</span> name = <span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>; <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            name = name.<span class=\"title function_\">trim</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Watcher</span>(vm, node, name, <span class=\"string\">&#x27;text&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Watcher</span>(<span class=\"params\">vm, node, name, nodeType</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\">target</span> = <span class=\"variable language_\">this</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">node</span> = node;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">vm</span> = vm;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> = nodeType;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">update</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\">target</span> = <span class=\"literal\">null</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Watcher</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">update</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">get</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> == <span class=\"string\">&#x27;text&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"property\">nodeValue</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> == <span class=\"string\">&#x27;input&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"property\">value</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  data </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">get</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">vm</span>[<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>]; <span class=\"comment\">//  get</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Dep</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span> = []</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">addSub</span>: <span class=\"keyword\">function</span> (<span class=\"params\">sub</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span>.<span class=\"title function_\">push</span>(sub);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">notify</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">sub</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            sub.<span class=\"title function_\">update</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Vue</span>(<span class=\"params\">options</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = options.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">observe</span>(data, <span class=\"variable language_\">this</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> id = options.<span class=\"property\">el</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> dom = <span class=\"title function_\">nodeToFragment</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(id), <span class=\"variable language_\">this</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  dom  app </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(id).<span class=\"title function_\">appendChild</span>(dom);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">el</span>: <span class=\"string\">&#x27;app&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">data</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">text</span>: <span class=\"string\">&#x27;hello world&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n</code></pre>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<pre><code><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span> &#123;&#123; text &#125;&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">observe</span>(<span class=\"params\">obj, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(obj).<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">key</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">defineReactive</span>(vm, key, obj[key]);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">defineReactive</span>(<span class=\"params\">obj, key, val</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> dep = <span class=\"keyword\">new</span> <span class=\"title class_\">Dep</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(obj, key, &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">get</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">//  watcher  Dep</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"title class_\">Dep</span>.<span class=\"property\">target</span>) dep.<span class=\"title function_\">addSub</span>(<span class=\"title class_\">Dep</span>.<span class=\"property\">target</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">return</span> val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">set</span>: <span class=\"keyword\">function</span> (<span class=\"params\">newVal</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (newVal === val) <span class=\"keyword\">return</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            val = newVal;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            dep.<span class=\"title function_\">notify</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">nodeToFragment</span>(<span class=\"params\">node, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> flag = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createDocumentFragment</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> child;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  while (child = node.firstChild) </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// appendChild  child  DOM </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// node.firstChild </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">while</span> (child = node.<span class=\"property\">firstChild</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">compile</span>(child, vm);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            flag.<span class=\"title function_\">appendChild</span>(child); <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> flag</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">compile</span>(<span class=\"params\">node, vm</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/\\&#123;\\&#123;(.*)\\&#125;\\&#125;/</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">if</span> (node.<span class=\"property\">nodeType</span> === <span class=\"number\">1</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">var</span> attr = node.<span class=\"property\">attributes</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; attr.<span class=\"property\">length</span>; i++) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (attr[i].<span class=\"property\">nodeName</span> == <span class=\"string\">&#x27;v-model&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"keyword\">var</span> name = attr[i].<span class=\"property\">nodeValue</span>; <span class=\"comment\">//  v-model </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;input&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"comment\">//  data  set </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                vm[name] = e.<span class=\"property\">target</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"property\">value</span> = vm[name]; <span class=\"comment\">//  data  node</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                node.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;v-model&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Watcher</span>(vm, node, name, <span class=\"string\">&#x27;input&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  text</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">if</span> (node.<span class=\"property\">nodeType</span> === <span class=\"number\">3</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (reg.<span class=\"title function_\">test</span>(node.<span class=\"property\">nodeValue</span>)) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">var</span> name = <span class=\"title class_\">RegExp</span>.<span class=\"property\">$1</span>; <span class=\"comment\">// </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            name = name.<span class=\"title function_\">trim</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">new</span> <span class=\"title class_\">Watcher</span>(vm, node, name, <span class=\"string\">&#x27;text&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Watcher</span>(<span class=\"params\">vm, node, name, nodeType</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\">target</span> = <span class=\"variable language_\">this</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">node</span> = node;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">vm</span> = vm;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> = nodeType;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">update</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\">target</span> = <span class=\"literal\">null</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Watcher</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">update</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">get</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> == <span class=\"string\">&#x27;text&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"property\">nodeValue</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">nodeType</span> == <span class=\"string\">&#x27;input&#x27;</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">node</span>.<span class=\"property\">value</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">value</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  data </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">get</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">vm</span>[<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>]; <span class=\"comment\">//  get</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Dep</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span> = []</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title class_\">Dep</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">addSub</span>: <span class=\"keyword\">function</span> (<span class=\"params\">sub</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span>.<span class=\"title function_\">push</span>(sub);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">notify</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">subs</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">sub</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            sub.<span class=\"title function_\">update</span>();</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Vue</span>(<span class=\"params\">options</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = options.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> data = <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">observe</span>(data, <span class=\"variable language_\">this</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> id = options.<span class=\"property\">el</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> dom = <span class=\"title function_\">nodeToFragment</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(id), <span class=\"variable language_\">this</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">//  dom  app </span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(id).<span class=\"title function_\">appendChild</span>(dom);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">el</span>: <span class=\"string\">&#x27;app&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">data</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">text</span>: <span class=\"string\">&#x27;hello world&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n</code></pre>"},{"title":"VUEinheritAttrs,attrs,listeners","date":"2020-05-26T03:15:22.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} VueinheritAttrs$attrs$listeners {% endcq %}\n<!--more-->\n# \n> ,propsvuexinheritAttrs$attrs\n\n```javascript\n      <template>\n          <div class=\"home\">\n            <mytest  :title=\"title\" :massgae=\"massgae\"></mytest>\n          </div>\n        </template>\n          export default {\n            name: 'home',\n            data () {\n              return {\n                title:'title1111',\n                massgae:'message111'\n              }\n            },\n            components:{\n              'mytest':{\n                template:`<div>h1{{title}}</div>`,\n                props:['title'],\n                data(){\n                  return{\n                    mag:'111'\n                  }\n                },\n                created:function(){\n                  console.log(this.$attrs)//\n                }\n              }\n            }\n          }\n```\n\n  > titlemassgae\n  <img src=\"/img/7579449-9b4f591d793547b6.webp\">\n  > htmlpropDRYVue2.4.0,inheritAttrsfalsepropsHTML$attrs\n   inheritAttrs: false\n\n  ```javascript\n    components:{\n    'mytest':{\n      template:`<div>h1{{title}}</div>`,\n      props:['title'],\n      inheritAttrs: false,\n      data(){\n        return{\n          mag:'111'\n        }\n      },\n      created:function(){\n        console.log(this.$attrs)//\n      }\n    }\n  ```\n  <img src=\"/img/7579449-a8a0b3970380eeeb.webp\">\n\n  # $attrs\n  \n  ```javascript\n    <template>\n    <div style=\"padding:50px;\">\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            template:`<div>\n                <div>{{name}}</div>\n                <grandcom v-bind=\"$attrs\"></grandcom>\n            </div>`,\n            props:['name'],\n            components: {\n                'grandcom':{\n                    template:`<div>{{$attrs}}</div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n  ```\n\n<img src=\"/img/7579449-b2ab8dfe80fe828d.webp\">\nattrschildcomgrandcomthis.$attrs{{$attrs}}propschildcomprops\n\ngrandcomthis.$attrschildcomchildcomchildcompropsnamegrandcom$attrsnamethis.$attrs = { 'age':'30', 'sex':''}\n# $attrs\n\n```javascript\n<template>\n    <div>\n        <childcom></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            template:`<div>\n                <div></div>\n                <grandcom></grandcom>\n            </div>`,\n            components: {\n                'grandcom':{\n                    template:`<div></div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n```\nnameagepropsnameagepropspropsageage \n\n$attrs\n```javascript\n<template>\n    <div>\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name'],\n            template:`<div>\n                <div>   {{name}}</div>\n                <grandcom v-bind=\"$attrs\"></grandcom>\n            </div>`,\n            components: {\n                'grandcom':{\n                    template:`<div>{{$attrs.age}}</div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n```\n\"$attrs\"namenamename\n```javascript\n <grandcom v-bind=\"$attrs\" :name=\"name\"></grandcom>\n```\n\n\n# inheritAttrs\ninheritAttrs$attrsinheritAttrs props  (attribute bindings)  HTML  inheritAttrs  false ( 2.4 )  $attrs  v-bind \n\n class  style \n\nVue2.4.0html\n\ninheritAttrs\n\n```javascript\n<template>\n    <childcom :name=\"name\" :age=\"age\" type=\"text\"></childcom>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name','age'],\n            template:`<input type=\"number\" style=\"border:1px solid blue\">`,\n        }\n    }\n}\n</script>\n```\ninput type=\"text\"input type=\"number\"\n<img src=\"/img/inheritAttrs2.webp\">\ntype=\"text\"input type=\"number\"input\n\ninput type=\"number\"type=\"text\"\n```javascript\n<template>\n    <childcom :name=\"name\" :age=\"age\" type=\"text\"></childcom>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            inheritAttrs:false,\n            props:['name','age'],\n            template:`<input type=\"number\" style=\"border:1px solid blue\">`,\n            created () {\n                console.log(this.$attrs.type)\n            }\n        }\n    }\n}\n</script>\n```\n\n<img src=\"/img/inheritAttrs1.webp\">\n\ninheritAttrsvue props   HTML inputinheritAttrs:false\n\n# $listeners\n--$listeners\n```javascript\n<template>\n    <div>\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\" @testChangeName=\"changeName\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name'],\n            template:`<div>\n                <div>   {{name}}</div>\n                <grandcom v-bind=\"$attrs\" v-on=\"$listeners\"></grandcom>\n            </div>`,\n           \n            components: {\n                'grandcom':{\n                    template:`<div>-------<button @click=\"grandChangeName\"></button></div>`,\n                    methods:{\n                        grandChangeName(){\n                           this.$emit('testChangeName','kkkkkk')\n                        }\n                    }\n                }\n            }\n        }\n    },\n    methods:{\n        changeName(val){\n            this.name = val\n        }\n    }\n}\n</script>\n```\n\n<img src=\"/img/inheritAttrs3.webp\">\n$listeners............\n\n\n","source":"_posts/VUEinheritAttrs-attrs-listeners.md","raw":"---\ntitle: 'VUEinheritAttrs,attrs,listeners'\ndate: 2020-05-26 11:15:22\ncategories: web\ntags:\n     VueinheritAttrs$attrs$listeners\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} VueinheritAttrs$attrs$listeners {% endcq %}\n<!--more-->\n# \n> ,propsvuexinheritAttrs$attrs\n\n```javascript\n      <template>\n          <div class=\"home\">\n            <mytest  :title=\"title\" :massgae=\"massgae\"></mytest>\n          </div>\n        </template>\n          export default {\n            name: 'home',\n            data () {\n              return {\n                title:'title1111',\n                massgae:'message111'\n              }\n            },\n            components:{\n              'mytest':{\n                template:`<div>h1{{title}}</div>`,\n                props:['title'],\n                data(){\n                  return{\n                    mag:'111'\n                  }\n                },\n                created:function(){\n                  console.log(this.$attrs)//\n                }\n              }\n            }\n          }\n```\n\n  > titlemassgae\n  <img src=\"/img/7579449-9b4f591d793547b6.webp\">\n  > htmlpropDRYVue2.4.0,inheritAttrsfalsepropsHTML$attrs\n   inheritAttrs: false\n\n  ```javascript\n    components:{\n    'mytest':{\n      template:`<div>h1{{title}}</div>`,\n      props:['title'],\n      inheritAttrs: false,\n      data(){\n        return{\n          mag:'111'\n        }\n      },\n      created:function(){\n        console.log(this.$attrs)//\n      }\n    }\n  ```\n  <img src=\"/img/7579449-a8a0b3970380eeeb.webp\">\n\n  # $attrs\n  \n  ```javascript\n    <template>\n    <div style=\"padding:50px;\">\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            template:`<div>\n                <div>{{name}}</div>\n                <grandcom v-bind=\"$attrs\"></grandcom>\n            </div>`,\n            props:['name'],\n            components: {\n                'grandcom':{\n                    template:`<div>{{$attrs}}</div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n  ```\n\n<img src=\"/img/7579449-b2ab8dfe80fe828d.webp\">\nattrschildcomgrandcomthis.$attrs{{$attrs}}propschildcomprops\n\ngrandcomthis.$attrschildcomchildcomchildcompropsnamegrandcom$attrsnamethis.$attrs = { 'age':'30', 'sex':''}\n# $attrs\n\n```javascript\n<template>\n    <div>\n        <childcom></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            template:`<div>\n                <div></div>\n                <grandcom></grandcom>\n            </div>`,\n            components: {\n                'grandcom':{\n                    template:`<div></div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n```\nnameagepropsnameagepropspropsageage \n\n$attrs\n```javascript\n<template>\n    <div>\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name'],\n            template:`<div>\n                <div>   {{name}}</div>\n                <grandcom v-bind=\"$attrs\"></grandcom>\n            </div>`,\n            components: {\n                'grandcom':{\n                    template:`<div>{{$attrs.age}}</div>`,\n                }\n            }\n        }\n    }\n}\n</script>\n```\n\"$attrs\"namenamename\n```javascript\n <grandcom v-bind=\"$attrs\" :name=\"name\"></grandcom>\n```\n\n\n# inheritAttrs\ninheritAttrs$attrsinheritAttrs props  (attribute bindings)  HTML  inheritAttrs  false ( 2.4 )  $attrs  v-bind \n\n class  style \n\nVue2.4.0html\n\ninheritAttrs\n\n```javascript\n<template>\n    <childcom :name=\"name\" :age=\"age\" type=\"text\"></childcom>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name','age'],\n            template:`<input type=\"number\" style=\"border:1px solid blue\">`,\n        }\n    }\n}\n</script>\n```\ninput type=\"text\"input type=\"number\"\n<img src=\"/img/inheritAttrs2.webp\">\ntype=\"text\"input type=\"number\"input\n\ninput type=\"number\"type=\"text\"\n```javascript\n<template>\n    <childcom :name=\"name\" :age=\"age\" type=\"text\"></childcom>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            inheritAttrs:false,\n            props:['name','age'],\n            template:`<input type=\"number\" style=\"border:1px solid blue\">`,\n            created () {\n                console.log(this.$attrs.type)\n            }\n        }\n    }\n}\n</script>\n```\n\n<img src=\"/img/inheritAttrs1.webp\">\n\ninheritAttrsvue props   HTML inputinheritAttrs:false\n\n# $listeners\n--$listeners\n```javascript\n<template>\n    <div>\n        <childcom :name=\"name\" :age=\"age\" :sex=\"sex\" @testChangeName=\"changeName\"></childcom>\n    </div>\n</template>\n<script>\nexport default {\n    'name':'test',\n    props:[],\n    data(){\n        return {\n            'name':'',\n            'age':'30',\n            'sex':''\n        }\n    },\n    components:{\n        'childcom':{\n            props:['name'],\n            template:`<div>\n                <div>   {{name}}</div>\n                <grandcom v-bind=\"$attrs\" v-on=\"$listeners\"></grandcom>\n            </div>`,\n           \n            components: {\n                'grandcom':{\n                    template:`<div>-------<button @click=\"grandChangeName\"></button></div>`,\n                    methods:{\n                        grandChangeName(){\n                           this.$emit('testChangeName','kkkkkk')\n                        }\n                    }\n                }\n            }\n        }\n    },\n    methods:{\n        changeName(val){\n            this.name = val\n        }\n    }\n}\n</script>\n```\n\n<img src=\"/img/inheritAttrs3.webp\">\n$listeners............\n\n\n","slug":"VUEinheritAttrs-attrs-listeners","published":1,"updated":"2026-01-02T00:43:17.571Z","_id":"cmjw5ipye0033w0tga3501q7v","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>VueinheritAttrs$attrs$listeners </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>,propsvuexinheritAttrs$attrs</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;home&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;<span class=\"name\">mytest</span>  <span class=\"attr\">:title</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:massgae</span>=<span class=\"string\">&quot;massgae&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">mytest</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  &lt;/template&gt;</span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span><br><span class=\"line\">      <span class=\"title function_\">data</span> () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          <span class=\"attr\">title</span>:<span class=\"string\">&#x27;title1111&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">massgae</span>:<span class=\"string\">&#x27;message111&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">components</span>:&#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;mytest&#x27;</span>:&#123;</span><br><span class=\"line\">          <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;h1&#123;&#123;title&#125;&#125;&lt;/div&gt;`</span>,</span><br><span class=\"line\">          <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;title&#x27;</span>],</span><br><span class=\"line\">          <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">              <span class=\"attr\">mag</span>:<span class=\"string\">&#x27;111&#x27;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"attr\">created</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>)<span class=\"comment\">//</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>titlemassgae<br>  <img src=\"/img/7579449-9b4f591d793547b6.webp\"><br>htmlpropDRYVue2.4.0,inheritAttrsfalsepropsHTML$attrs<br>   inheritAttrs: false</p>\n</blockquote>\n  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">components</span>:&#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;mytest&#x27;</span>:&#123;</span><br><span class=\"line\">  <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;h1&#123;&#123;title&#125;&#125;&lt;/div&gt;`</span>,</span><br><span class=\"line\">  <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;title&#x27;</span>],</span><br><span class=\"line\">  <span class=\"attr\">inheritAttrs</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">      <span class=\"attr\">mag</span>:<span class=\"string\">&#x27;111&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">created</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>)<span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n  <img src=\"/img/7579449-a8a0b3970380eeeb.webp\">\n\n<h1 id=\"attrs\"><a href=\"#attrs\" class=\"headerlink\" title=\"$attrs\"></a>$attrs</h1><p>  <br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;padding:50px;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&#123;&#123;$attrs&#125;&#125;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br><br><img src=\"/img/7579449-b2ab8dfe80fe828d.webp\"><br>attrschildcomgrandcomthis.$attrspropschildcomprops</p>\n<p>grandcomthis.$attrschildcomchildcomchildcompropsnamegrandcom$attrsnamethis.$attrs &#x3D; { age:30, sex:}</p>\n<h1 id=\"-attrs\"><a href=\"#-attrs\" class=\"headerlink\" title=\"$attrs\"></a>$attrs</h1><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>nameagepropsnameagepropspropsageage </p>\n<p>$attrs</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;   &#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&#123;&#123;$attrs.age&#125;&#125;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>$attrsnamenamename</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;grandcom v-bind=<span class=\"string\">&quot;$attrs&quot;</span> :name=<span class=\"string\">&quot;name&quot;</span>&gt;&lt;/grandcom&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"inheritAttrs\"><a href=\"#inheritAttrs\" class=\"headerlink\" title=\"inheritAttrs\"></a>inheritAttrs</h1><p>inheritAttrs$attrsinheritAttrs props  (attribute bindings)  HTML  inheritAttrs  false ( 2.4 )  $attrs  v-bind </p>\n<p> class  style </p>\n<p>Vue2.4.0html</p>\n<p>inheritAttrs</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;age&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;input type=&quot;number&quot; style=&quot;border:1px solid blue&quot;&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>input type&#x3D;textinput type&#x3D;number<br><img src=\"/img/inheritAttrs2.webp\"><br>type&#x3D;textinput type&#x3D;numberinput</p>\n<p>input type&#x3D;numbertype&#x3D;text</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">inheritAttrs</span>:<span class=\"literal\">false</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;age&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;input type=&quot;number&quot; style=&quot;border:1px solid blue&quot;&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">created</span> () &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>.<span class=\"property\">type</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><img src=\"/img/inheritAttrs1.webp\"></p>\n<p>inheritAttrsvue props   HTML inputinheritAttrs:false</p>\n<h1 id=\"-listeners\"><a href=\"#-listeners\" class=\"headerlink\" title=\"$listeners\"></a>$listeners</h1><p>--$listeners</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span> @<span class=\"attr\">testChangeName</span>=<span class=\"string\">&quot;changeName&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;   &#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot; v-on=&quot;$listeners&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">           </span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;-------&lt;button @click=&quot;grandChangeName&quot;&gt;&lt;/button&gt;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        <span class=\"title function_\">grandChangeName</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                           <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&#x27;testChangeName&#x27;</span>,<span class=\"string\">&#x27;kkkkkk&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">changeName</span>(<span class=\"params\">val</span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><img src=\"/img/inheritAttrs3.webp\"><br>$listeners</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>VueinheritAttrs$attrs$listeners </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><blockquote>\n<p>,propsvuexinheritAttrs$attrs</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;home&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;<span class=\"name\">mytest</span>  <span class=\"attr\">:title</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:massgae</span>=<span class=\"string\">&quot;massgae&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">mytest</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  &lt;/template&gt;</span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span><br><span class=\"line\">      <span class=\"title function_\">data</span> () &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          <span class=\"attr\">title</span>:<span class=\"string\">&#x27;title1111&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">massgae</span>:<span class=\"string\">&#x27;message111&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">components</span>:&#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;mytest&#x27;</span>:&#123;</span><br><span class=\"line\">          <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;h1&#123;&#123;title&#125;&#125;&lt;/div&gt;`</span>,</span><br><span class=\"line\">          <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;title&#x27;</span>],</span><br><span class=\"line\">          <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">              <span class=\"attr\">mag</span>:<span class=\"string\">&#x27;111&#x27;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"attr\">created</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>)<span class=\"comment\">//</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>titlemassgae<br>  <img src=\"/img/7579449-9b4f591d793547b6.webp\"><br>htmlpropDRYVue2.4.0,inheritAttrsfalsepropsHTML$attrs<br>   inheritAttrs: false</p>\n</blockquote>\n  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">components</span>:&#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;mytest&#x27;</span>:&#123;</span><br><span class=\"line\">  <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;h1&#123;&#123;title&#125;&#125;&lt;/div&gt;`</span>,</span><br><span class=\"line\">  <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;title&#x27;</span>],</span><br><span class=\"line\">  <span class=\"attr\">inheritAttrs</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">      <span class=\"attr\">mag</span>:<span class=\"string\">&#x27;111&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">created</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>)<span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n  <img src=\"/img/7579449-a8a0b3970380eeeb.webp\">\n\n<h1 id=\"attrs\"><a href=\"#attrs\" class=\"headerlink\" title=\"$attrs\"></a>$attrs</h1><p>  <br>  <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    &lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;padding:50px;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&#123;&#123;$attrs&#125;&#125;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br><br><img src=\"/img/7579449-b2ab8dfe80fe828d.webp\"><br>attrschildcomgrandcomthis.$attrspropschildcomprops</p>\n<p>grandcomthis.$attrschildcomchildcomchildcompropsnamegrandcom$attrsnamethis.$attrs &#x3D; { age:30, sex:}</p>\n<h1 id=\"-attrs\"><a href=\"#-attrs\" class=\"headerlink\" title=\"$attrs\"></a>$attrs</h1><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>nameagepropsnameagepropspropsageage </p>\n<p>$attrs</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;   &#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;&#123;&#123;$attrs.age&#125;&#125;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>$attrsnamenamename</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;grandcom v-bind=<span class=\"string\">&quot;$attrs&quot;</span> :name=<span class=\"string\">&quot;name&quot;</span>&gt;&lt;/grandcom&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<h1 id=\"inheritAttrs\"><a href=\"#inheritAttrs\" class=\"headerlink\" title=\"inheritAttrs\"></a>inheritAttrs</h1><p>inheritAttrs$attrsinheritAttrs props  (attribute bindings)  HTML  inheritAttrs  false ( 2.4 )  $attrs  v-bind </p>\n<p> class  style </p>\n<p>Vue2.4.0html</p>\n<p>inheritAttrs</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;age&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;input type=&quot;number&quot; style=&quot;border:1px solid blue&quot;&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>input type&#x3D;textinput type&#x3D;number<br><img src=\"/img/inheritAttrs2.webp\"><br>type&#x3D;textinput type&#x3D;numberinput</p>\n<p>input type&#x3D;numbertype&#x3D;text</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">inheritAttrs</span>:<span class=\"literal\">false</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;age&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;input type=&quot;number&quot; style=&quot;border:1px solid blue&quot;&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"title function_\">created</span> () &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>.<span class=\"property\">type</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><img src=\"/img/inheritAttrs1.webp\"></p>\n<p>inheritAttrsvue props   HTML inputinheritAttrs:false</p>\n<h1 id=\"-listeners\"><a href=\"#-listeners\" class=\"headerlink\" title=\"$listeners\"></a>$listeners</h1><p>--$listeners</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">childcom</span> <span class=\"attr\">:name</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">:age</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">:sex</span>=<span class=\"string\">&quot;sex&quot;</span> @<span class=\"attr\">testChangeName</span>=<span class=\"string\">&quot;changeName&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">childcom</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;test&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">props</span>:[],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"keyword\">return</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;age&#x27;</span>:<span class=\"string\">&#x27;30&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"string\">&#x27;sex&#x27;</span>:<span class=\"string\">&#x27;&#x27;</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">components</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"string\">&#x27;childcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;name&#x27;</span>],</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;div&gt;   &#123;&#123;name&#125;&#125;&lt;/div&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">                &lt;grandcom v-bind=&quot;$attrs&quot; v-on=&quot;$listeners&quot;&gt;&lt;/grandcom&gt;</span></span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\"><span class=\"language-xml\">            &lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">           </span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"attr\">components</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                <span class=\"string\">&#x27;grandcom&#x27;</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">template</span>:<span class=\"string\">`&lt;div&gt;-------&lt;button @click=&quot;grandChangeName&quot;&gt;&lt;/button&gt;&lt;/div&gt;`</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        <span class=\"title function_\">grandChangeName</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                           <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&#x27;testChangeName&#x27;</span>,<span class=\"string\">&#x27;kkkkkk&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"attr\">methods</span>:&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"title function_\">changeName</span>(<span class=\"params\">val</span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">            <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = val</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><img src=\"/img/inheritAttrs3.webp\"><br>$listeners</p>"},{"title":"Vuejs","date":"2019-01-31T08:40:13.000Z","copyright":null,"keywords":null,"description":null,"_content":"{% cq %} vue, {% endcq %}\n<!--more-->\n[vue.js](https://github.com/vuejs/vue/blob/dev/src/core/instance/index.js)\n# \n1.[Vue](http://hcysun.me/vue-design/art/2vue-constructor.html)\n# example\n```javascript\n    <div id=\"app\">{{test}}</div>\n\n    var vm = new Vue({\n    el: '#app',\n    data: {\n            test: 1\n        }\n    })\n    ```\n*Vue* *el*  *data*,DOM:\n```javascript\n    <div id=\"app\">1<div>\n```\n## \nVueVueVue*core/instance/index.js*\n    ```javascript\n    function Vue (options) {\n        if (process.env.NODE_ENV !== 'production' &&\n            !(this instanceof Vue)\n        ) {\n            warn('Vue is a constructor and should be called with the `new` keyword')\n        }\n        this._init(options)\n    }\n    ```\nnew Vuethis._init(options)optionsVue\n    ```javascript\n    options = {\n        el:'#app',\n        data:{\n            test:1\n        }\n    }\n    ```\n *_init*_init  src/core/instance/init.js  Vue  _init \n_init \n```javascript\n    const vm: Component = this\n    // a uid\n    vm._uid = uid++\n```\nvmvm *_uid*uid0 Vue uid  ++\n\n## \n```javascript\n    let startTag, endTag\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = `vue-perf-start:${vm._uid}`\n      endTag = `vue-perf-end:${vm._uid}`\n      mark(startTag)\n    }\n```\nstartTag, endTag(parameter)ifconfig.performancemark config.performance  core/config.js Vue.config  Vue \n**Vue  Vue.config.performance true**\n## \n1(component init)\n2(compile)(template)\n3(render)DOM(vnode)\n4(patch)DOMDOM\n\n","source":"_posts/Vuejs.md","raw":"---\ntitle: Vuejs\ndate: 2019-01-31 16:40:13\ncategories:\ntags:\ncopyright:\nkeywords:\ndescription:\n---\n{% cq %} vue, {% endcq %}\n<!--more-->\n[vue.js](https://github.com/vuejs/vue/blob/dev/src/core/instance/index.js)\n# \n1.[Vue](http://hcysun.me/vue-design/art/2vue-constructor.html)\n# example\n```javascript\n    <div id=\"app\">{{test}}</div>\n\n    var vm = new Vue({\n    el: '#app',\n    data: {\n            test: 1\n        }\n    })\n    ```\n*Vue* *el*  *data*,DOM:\n```javascript\n    <div id=\"app\">1<div>\n```\n## \nVueVueVue*core/instance/index.js*\n    ```javascript\n    function Vue (options) {\n        if (process.env.NODE_ENV !== 'production' &&\n            !(this instanceof Vue)\n        ) {\n            warn('Vue is a constructor and should be called with the `new` keyword')\n        }\n        this._init(options)\n    }\n    ```\nnew Vuethis._init(options)optionsVue\n    ```javascript\n    options = {\n        el:'#app',\n        data:{\n            test:1\n        }\n    }\n    ```\n *_init*_init  src/core/instance/init.js  Vue  _init \n_init \n```javascript\n    const vm: Component = this\n    // a uid\n    vm._uid = uid++\n```\nvmvm *_uid*uid0 Vue uid  ++\n\n## \n```javascript\n    let startTag, endTag\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = `vue-perf-start:${vm._uid}`\n      endTag = `vue-perf-end:${vm._uid}`\n      mark(startTag)\n    }\n```\nstartTag, endTag(parameter)ifconfig.performancemark config.performance  core/config.js Vue.config  Vue \n**Vue  Vue.config.performance true**\n## \n1(component init)\n2(compile)(template)\n3(render)DOM(vnode)\n4(patch)DOMDOM\n\n","slug":"Vuejs","published":1,"updated":"2026-01-02T00:43:17.572Z","_id":"cmjw5ipza0037w0tg3h6q6t3n","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>vue, </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<span id=\"more\"></span>\n<p><a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/index.js\">vue.js</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>1.<a href=\"http://hcysun.me/vue-design/art/2vue-constructor.html\">Vue</a></p>\n<h1 id=\"example\"><a href=\"#example\" class=\"headerlink\" title=\"example\"></a>example</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\"><span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><em>Vue</em> <em>el</em>  <em>data</em>,DOM:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;<span class=\"number\">1</span>&lt;div&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>VueVueVue<em>core&#x2F;instance&#x2F;index.js</em><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Vue</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> !== <span class=\"string\">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class=\"line\">        !(<span class=\"variable language_\">this</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Vue</span>)</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">warn</span>(<span class=\"string\">&#x27;Vue is a constructor and should be called with the `new` keyword&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">_init</span>(options)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>new Vuethis._init(options)optionsVue<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">options = &#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>:<span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>:<span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br> <em>_init</em>_init  src&#x2F;core&#x2F;instance&#x2F;init.js  Vue  _init <br>_init </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">vm</span>: <span class=\"title class_\">Component</span> = <span class=\"variable language_\">this</span></span><br><span class=\"line\"><span class=\"comment\">// a uid</span></span><br><span class=\"line\">vm.<span class=\"property\">_uid</span> = uid++</span><br></pre></td></tr></table></figure>\n<p>vmvm <em>_uid</em>uid0 Vue uid  ++</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> startTag, endTag</span><br><span class=\"line\"><span class=\"comment\">/* istanbul ignore if */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> !== <span class=\"string\">&#x27;production&#x27;</span> &amp;&amp; config.<span class=\"property\">performance</span> &amp;&amp; mark) &#123;</span><br><span class=\"line\">  startTag = <span class=\"string\">`vue-perf-start:<span class=\"subst\">$&#123;vm._uid&#125;</span>`</span></span><br><span class=\"line\">  endTag = <span class=\"string\">`vue-perf-end:<span class=\"subst\">$&#123;vm._uid&#125;</span>`</span></span><br><span class=\"line\">  <span class=\"title function_\">mark</span>(startTag)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>startTag, endTag(parameter)ifconfig.performancemark config.performance  core&#x2F;config.js Vue.config  Vue <br><strong>Vue  Vue.config.performance true</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1(component init)<br>2(compile)(template)<br>3(render)DOM(vnode)<br>4(patch)DOMDOM</p>\n","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p>vue, </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>","more":"<p><a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/index.js\">vue.js</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>1.<a href=\"http://hcysun.me/vue-design/art/2vue-constructor.html\">Vue</a></p>\n<h1 id=\"example\"><a href=\"#example\" class=\"headerlink\" title=\"example\"></a>example</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\"><span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\"><span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><em>Vue</em> <em>el</em>  <em>data</em>,DOM:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;<span class=\"number\">1</span>&lt;div&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>VueVueVue<em>core&#x2F;instance&#x2F;index.js</em><br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Vue</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> !== <span class=\"string\">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class=\"line\">        !(<span class=\"variable language_\">this</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Vue</span>)</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">warn</span>(<span class=\"string\">&#x27;Vue is a constructor and should be called with the `new` keyword&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">_init</span>(options)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>new Vuethis._init(options)optionsVue<br>    <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">options = &#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>:<span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>:<span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br> <em>_init</em>_init  src&#x2F;core&#x2F;instance&#x2F;init.js  Vue  _init <br>_init </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">vm</span>: <span class=\"title class_\">Component</span> = <span class=\"variable language_\">this</span></span><br><span class=\"line\"><span class=\"comment\">// a uid</span></span><br><span class=\"line\">vm.<span class=\"property\">_uid</span> = uid++</span><br></pre></td></tr></table></figure>\n<p>vmvm <em>_uid</em>uid0 Vue uid  ++</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> startTag, endTag</span><br><span class=\"line\"><span class=\"comment\">/* istanbul ignore if */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> !== <span class=\"string\">&#x27;production&#x27;</span> &amp;&amp; config.<span class=\"property\">performance</span> &amp;&amp; mark) &#123;</span><br><span class=\"line\">  startTag = <span class=\"string\">`vue-perf-start:<span class=\"subst\">$&#123;vm._uid&#125;</span>`</span></span><br><span class=\"line\">  endTag = <span class=\"string\">`vue-perf-end:<span class=\"subst\">$&#123;vm._uid&#125;</span>`</span></span><br><span class=\"line\">  <span class=\"title function_\">mark</span>(startTag)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>startTag, endTag(parameter)ifconfig.performancemark config.performance  core&#x2F;config.js Vue.config  Vue <br><strong>Vue  Vue.config.performance true</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1(component init)<br>2(compile)(template)<br>3(render)DOM(vnode)<br>4(patch)DOMDOM</p>"},{"title":"webpack4.29.0","date":"2019-01-25T09:11:32.000Z","copyright":true,"keywords":null,"description":null,"_content":"\n{% cq %}  {% endcq %}\n<img src=\"/img/jy.png\">\n<!--more-->\n# \n+ webpackwebpack-cli\n    >sudo npm install webpack -g\n    >sudo npm install webpack-cli -g\n\n+ \n    >npm init -y\n    >sudo npm install webpack --save-dev\n    >sudo npm install webpack-cli --save-dev\n\n## js\n``` \n    //webpack.config.js\n    const path = require('path')\n    module.exports = {\n        mode:'development',\n        entry:'./app.js',\n        output:{\n            filename:'[name].bundle.js',\n            path:path.join(__dirname,'./dist'),\n      }\n    }\n    distapp.bundle.js\n```\n## js\n```\n    //webpack.config.js\n    const path = require('path')\n    const CleanWebpackPlugin = require('clean-webpack-plugin')\n    module.exports = {\n        mode: 'development',\n        entry: {\n            index: './src/index.js',\n            test: './src/test.js',\n            test1: './src/test1.js',\n        },\n        output: {\n            path: path.join(__dirname,'./dist/js'),\n            filename:'[name]-[hash].js',\n            pubicPath: 'http://cdn.con' //location.protocol='http'(host='cdn.con')\n        }\n        plugins: [\n            new CleanWebpackPlugin (['./dist/js']) //\n        ]\n    }\n```\n## jshtml\n```\n    //webpack.config.js\n    const path = require('path')\n    const HtmlWebpackPlugin = require('html-webpack-plugin') //loader\n    const CleanWebpackPlugin = require('clean-webpack-plugin')\n    module.exports = {\n        entry:{\n            index:'./src/index.js',\n            test:'./src/test.js',\n            test1:'./src/test1.js',\n        },\n        output:{\n            path:path.join(__dirname,'./dist/js'),\n            filename:'[name]-[hash].js',\n            publicPath:\"http://cdn.com\"\n        },\n        plugins:[\n            new HtmlWebpackPlugin({\n                title: 'this a index.html', //html title\n                template:'hello.html',\n                filename:'index.html',\n                excludeChunks:['test','test1'] //test.js,test1.jsjs\n            }),\n            new HtmlWebpackPlugin({\n                title:'this a test.js',\n                template:'hello.html',\n                filename:'test.html',\n                excludeChunks:['index','test1']\n            }),\n            new HtmlWebpackPlugin({\n                title:'this a test1.js',\n                template:'hello.html',\n                filename:'test1.html',\n                excludeChunks:['test','index']       \n            }),\n            new CleanWebpackPlugin(['./dist/js'])\n        ]\n    }\n\n    //hello.html \n    <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title><%= htmlWebpackPlugin.options.title%></title>\n    <script type=\"text/javascript\">\n        <%=\n        compilation.assets[htmlWebpackPlugin.files.chunks.test1.entry.substr\n        (htmlWebpackPlugin.files.publicPath.length)].source() %>\n    </script>\n    </head>\n    <body>\n        <% for(let k in htmlWebpackPlugin.files.chunks) {%>\n            <% if(k != 'index') {%>\n                <script src=\"<%=htmlWebpackPlugin.files.chunks[k].entry %>\"></script>\n            <% }%>\n        <% } %>\n    </body>\n```\n## file-loader|css-loader|style-loader|postcss-loader\n```\n    //webpack.config.js\n    module.exports = {\n    mode: 'development',\n    entry: './app.js',\n    output: {\n        filename: '[name].bundle.js',\n        path: path.join(__dirname, './dist/js1'),\n    },\n    plugins: [\n        new CleanWebpackPlugin(['./dist/js1']),\n        require('autoprefixer')\n    ],\n    module: {\n        rules: [\n        {\n            test: /\\.(le|c)ss$/,\n            test: /\\.(png|jpg|gif)$/,\n            use: [\n            { loader: \"style-loader\" },\n            { loader: \"css-loader\" },\n            { loader: 'file-loader'},\n            {\n                loader: \"postcss-loader\",\n                options: {\n                plugins: [\n                    require(\"autoprefixer\") /**/,\n                ],\n                }\n            }\n            ]\n\n        }\n        ]\n     },\n    }\n```\n### \n\n```\n    //webapck.config.js\n    const path = require('path');\n\n    module.exports = {\n        mode:'development',\n        entry: './src/index.js',\n        // \n        externals:['lodash'],\n        output: {\n            path: path.resolve(__dirname, 'dist'),\n            // \n            filename: 'library.js',\n            //src\n            library:'library',   \n            //librarythis window\n            libraryTarget: \"umd\"\n        }\n    };\n```","source":"_posts/webpack4-29-0.md","raw":"---\ntitle: 'webpack4.29.0'\ndate: 2019-01-25 17:11:32\ncategories: web\ntags:\n    - webpack4+\ncopyright: true\nkeywords:\ndescription:\n---\n\n{% cq %}  {% endcq %}\n<img src=\"/img/jy.png\">\n<!--more-->\n# \n+ webpackwebpack-cli\n    >sudo npm install webpack -g\n    >sudo npm install webpack-cli -g\n\n+ \n    >npm init -y\n    >sudo npm install webpack --save-dev\n    >sudo npm install webpack-cli --save-dev\n\n## js\n``` \n    //webpack.config.js\n    const path = require('path')\n    module.exports = {\n        mode:'development',\n        entry:'./app.js',\n        output:{\n            filename:'[name].bundle.js',\n            path:path.join(__dirname,'./dist'),\n      }\n    }\n    distapp.bundle.js\n```\n## js\n```\n    //webpack.config.js\n    const path = require('path')\n    const CleanWebpackPlugin = require('clean-webpack-plugin')\n    module.exports = {\n        mode: 'development',\n        entry: {\n            index: './src/index.js',\n            test: './src/test.js',\n            test1: './src/test1.js',\n        },\n        output: {\n            path: path.join(__dirname,'./dist/js'),\n            filename:'[name]-[hash].js',\n            pubicPath: 'http://cdn.con' //location.protocol='http'(host='cdn.con')\n        }\n        plugins: [\n            new CleanWebpackPlugin (['./dist/js']) //\n        ]\n    }\n```\n## jshtml\n```\n    //webpack.config.js\n    const path = require('path')\n    const HtmlWebpackPlugin = require('html-webpack-plugin') //loader\n    const CleanWebpackPlugin = require('clean-webpack-plugin')\n    module.exports = {\n        entry:{\n            index:'./src/index.js',\n            test:'./src/test.js',\n            test1:'./src/test1.js',\n        },\n        output:{\n            path:path.join(__dirname,'./dist/js'),\n            filename:'[name]-[hash].js',\n            publicPath:\"http://cdn.com\"\n        },\n        plugins:[\n            new HtmlWebpackPlugin({\n                title: 'this a index.html', //html title\n                template:'hello.html',\n                filename:'index.html',\n                excludeChunks:['test','test1'] //test.js,test1.jsjs\n            }),\n            new HtmlWebpackPlugin({\n                title:'this a test.js',\n                template:'hello.html',\n                filename:'test.html',\n                excludeChunks:['index','test1']\n            }),\n            new HtmlWebpackPlugin({\n                title:'this a test1.js',\n                template:'hello.html',\n                filename:'test1.html',\n                excludeChunks:['test','index']       \n            }),\n            new CleanWebpackPlugin(['./dist/js'])\n        ]\n    }\n\n    //hello.html \n    <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title><%= htmlWebpackPlugin.options.title%></title>\n    <script type=\"text/javascript\">\n        <%=\n        compilation.assets[htmlWebpackPlugin.files.chunks.test1.entry.substr\n        (htmlWebpackPlugin.files.publicPath.length)].source() %>\n    </script>\n    </head>\n    <body>\n        <% for(let k in htmlWebpackPlugin.files.chunks) {%>\n            <% if(k != 'index') {%>\n                <script src=\"<%=htmlWebpackPlugin.files.chunks[k].entry %>\"></script>\n            <% }%>\n        <% } %>\n    </body>\n```\n## file-loader|css-loader|style-loader|postcss-loader\n```\n    //webpack.config.js\n    module.exports = {\n    mode: 'development',\n    entry: './app.js',\n    output: {\n        filename: '[name].bundle.js',\n        path: path.join(__dirname, './dist/js1'),\n    },\n    plugins: [\n        new CleanWebpackPlugin(['./dist/js1']),\n        require('autoprefixer')\n    ],\n    module: {\n        rules: [\n        {\n            test: /\\.(le|c)ss$/,\n            test: /\\.(png|jpg|gif)$/,\n            use: [\n            { loader: \"style-loader\" },\n            { loader: \"css-loader\" },\n            { loader: 'file-loader'},\n            {\n                loader: \"postcss-loader\",\n                options: {\n                plugins: [\n                    require(\"autoprefixer\") /**/,\n                ],\n                }\n            }\n            ]\n\n        }\n        ]\n     },\n    }\n```\n### \n\n```\n    //webapck.config.js\n    const path = require('path');\n\n    module.exports = {\n        mode:'development',\n        entry: './src/index.js',\n        // \n        externals:['lodash'],\n        output: {\n            path: path.resolve(__dirname, 'dist'),\n            // \n            filename: 'library.js',\n            //src\n            library:'library',   \n            //librarythis window\n            libraryTarget: \"umd\"\n        }\n    };\n```","slug":"webpack4-29-0","published":1,"updated":"2026-01-02T00:43:17.576Z","_id":"cmjw5ipzq0038w0tgckau1q3r","comments":1,"layout":"post","photos":[],"content":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/jy.png\">\n<span id=\"more\"></span>\n# \n+ webpackwebpack-cli\n    >sudo npm install webpack -g\n    >sudo npm install webpack-cli -g\n\n<ul>\n<li><blockquote>\n<p>npm init -y<br>sudo npm install webpack save-dev<br>sudo npm install webpack-cli save-dev</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode:&#x27;development&#x27;,</span><br><span class=\"line\">    entry:&#x27;./app.js&#x27;,</span><br><span class=\"line\">    output:&#123;</span><br><span class=\"line\">        filename:&#x27;[name].bundle.js&#x27;,</span><br><span class=\"line\">        path:path.join(__dirname,&#x27;./dist&#x27;),</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">distapp.bundle.js</span><br></pre></td></tr></table></figure>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">const CleanWebpackPlugin = require(&#x27;clean-webpack-plugin&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode: &#x27;development&#x27;,</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        index: &#x27;./src/index.js&#x27;,</span><br><span class=\"line\">        test: &#x27;./src/test.js&#x27;,</span><br><span class=\"line\">        test1: &#x27;./src/test1.js&#x27;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname,&#x27;./dist/js&#x27;),</span><br><span class=\"line\">        filename:&#x27;[name]-[hash].js&#x27;,</span><br><span class=\"line\">        pubicPath: &#x27;http://cdn.con&#x27; //location.protocol=&#x27;http&#x27;(host=&#x27;cdn.con&#x27;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">        new CleanWebpackPlugin ([&#x27;./dist/js&#x27;]) //</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"jshtml\"><a href=\"#jshtml\" class=\"headerlink\" title=\"jshtml\"></a>jshtml</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;) //loader</span><br><span class=\"line\">const CleanWebpackPlugin = require(&#x27;clean-webpack-plugin&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    entry:&#123;</span><br><span class=\"line\">        index:&#x27;./src/index.js&#x27;,</span><br><span class=\"line\">        test:&#x27;./src/test.js&#x27;,</span><br><span class=\"line\">        test1:&#x27;./src/test1.js&#x27;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output:&#123;</span><br><span class=\"line\">        path:path.join(__dirname,&#x27;./dist/js&#x27;),</span><br><span class=\"line\">        filename:&#x27;[name]-[hash].js&#x27;,</span><br><span class=\"line\">        publicPath:&quot;http://cdn.com&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins:[</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title: &#x27;this a index.html&#x27;, //html title</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;index.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;test&#x27;,&#x27;test1&#x27;] //test.js,test1.jsjs</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title:&#x27;this a test.js&#x27;,</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;test.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;index&#x27;,&#x27;test1&#x27;]</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title:&#x27;this a test1.js&#x27;,</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;test1.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;test&#x27;,&#x27;index&#x27;]       </span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new CleanWebpackPlugin([&#x27;./dist/js&#x27;])</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//hello.html </span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class=\"line\">&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title%&gt;&lt;/title&gt;</span><br><span class=\"line\">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">    &lt;%=</span><br><span class=\"line\">    compilation.assets[htmlWebpackPlugin.files.chunks.test1.entry.substr</span><br><span class=\"line\">    (htmlWebpackPlugin.files.publicPath.length)].source() %&gt;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;% for(let k in htmlWebpackPlugin.files.chunks) &#123;%&gt;</span><br><span class=\"line\">        &lt;% if(k != &#x27;index&#x27;) &#123;%&gt;</span><br><span class=\"line\">            &lt;script src=&quot;&lt;%=htmlWebpackPlugin.files.chunks[k].entry %&gt;&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">        &lt;% &#125;%&gt;</span><br><span class=\"line\">    &lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"file-loader-css-loader-style-loader-postcss-loader\"><a href=\"#file-loader-css-loader-style-loader-postcss-loader\" class=\"headerlink\" title=\"file-loader|css-loader|style-loader|postcss-loader\"></a>file-loader|css-loader|style-loader|postcss-loader</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">mode: &#x27;development&#x27;,</span><br><span class=\"line\">entry: &#x27;./app.js&#x27;,</span><br><span class=\"line\">output: &#123;</span><br><span class=\"line\">    filename: &#x27;[name].bundle.js&#x27;,</span><br><span class=\"line\">    path: path.join(__dirname, &#x27;./dist/js1&#x27;),</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#x27;./dist/js1&#x27;]),</span><br><span class=\"line\">    require(&#x27;autoprefixer&#x27;)</span><br><span class=\"line\">],</span><br><span class=\"line\">module: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        test: /\\.(le|c)ss$/,</span><br><span class=\"line\">        test: /\\.(png|jpg|gif)$/,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">        &#123; loader: &quot;style-loader&quot; &#125;,</span><br><span class=\"line\">        &#123; loader: &quot;css-loader&quot; &#125;,</span><br><span class=\"line\">        &#123; loader: &#x27;file-loader&#x27;&#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            loader: &quot;postcss-loader&quot;,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">            plugins: [</span><br><span class=\"line\">                require(&quot;autoprefixer&quot;) /**/,</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webapck.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode:&#x27;development&#x27;,</span><br><span class=\"line\">    entry: &#x27;./src/index.js&#x27;,</span><br><span class=\"line\">    // </span><br><span class=\"line\">    externals:[&#x27;lodash&#x27;],</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.resolve(__dirname, &#x27;dist&#x27;),</span><br><span class=\"line\">        // </span><br><span class=\"line\">        filename: &#x27;library.js&#x27;,</span><br><span class=\"line\">        //src</span><br><span class=\"line\">        library:&#x27;library&#x27;,   </span><br><span class=\"line\">        //librarythis window</span><br><span class=\"line\">        libraryTarget: &quot;umd&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>","excerpt":"<blockquote class=\"blockquote-center\">\n            <i class=\"fa fa-quote-left\"></i>\n            <p> </p>\n\n            <i class=\"fa fa-quote-right\"></i>\n          </blockquote>\n<img src=\"/img/jy.png\">","more":"# \n+ webpackwebpack-cli\n    >sudo npm install webpack -g\n    >sudo npm install webpack-cli -g\n\n<ul>\n<li><blockquote>\n<p>npm init -y<br>sudo npm install webpack save-dev<br>sudo npm install webpack-cli save-dev</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode:&#x27;development&#x27;,</span><br><span class=\"line\">    entry:&#x27;./app.js&#x27;,</span><br><span class=\"line\">    output:&#123;</span><br><span class=\"line\">        filename:&#x27;[name].bundle.js&#x27;,</span><br><span class=\"line\">        path:path.join(__dirname,&#x27;./dist&#x27;),</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">distapp.bundle.js</span><br></pre></td></tr></table></figure>\n<h2 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">const CleanWebpackPlugin = require(&#x27;clean-webpack-plugin&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode: &#x27;development&#x27;,</span><br><span class=\"line\">    entry: &#123;</span><br><span class=\"line\">        index: &#x27;./src/index.js&#x27;,</span><br><span class=\"line\">        test: &#x27;./src/test.js&#x27;,</span><br><span class=\"line\">        test1: &#x27;./src/test1.js&#x27;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.join(__dirname,&#x27;./dist/js&#x27;),</span><br><span class=\"line\">        filename:&#x27;[name]-[hash].js&#x27;,</span><br><span class=\"line\">        pubicPath: &#x27;http://cdn.con&#x27; //location.protocol=&#x27;http&#x27;(host=&#x27;cdn.con&#x27;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">        new CleanWebpackPlugin ([&#x27;./dist/js&#x27;]) //</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"jshtml\"><a href=\"#jshtml\" class=\"headerlink\" title=\"jshtml\"></a>jshtml</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;)</span><br><span class=\"line\">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;) //loader</span><br><span class=\"line\">const CleanWebpackPlugin = require(&#x27;clean-webpack-plugin&#x27;)</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    entry:&#123;</span><br><span class=\"line\">        index:&#x27;./src/index.js&#x27;,</span><br><span class=\"line\">        test:&#x27;./src/test.js&#x27;,</span><br><span class=\"line\">        test1:&#x27;./src/test1.js&#x27;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    output:&#123;</span><br><span class=\"line\">        path:path.join(__dirname,&#x27;./dist/js&#x27;),</span><br><span class=\"line\">        filename:&#x27;[name]-[hash].js&#x27;,</span><br><span class=\"line\">        publicPath:&quot;http://cdn.com&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    plugins:[</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title: &#x27;this a index.html&#x27;, //html title</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;index.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;test&#x27;,&#x27;test1&#x27;] //test.js,test1.jsjs</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title:&#x27;this a test.js&#x27;,</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;test.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;index&#x27;,&#x27;test1&#x27;]</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">            title:&#x27;this a test1.js&#x27;,</span><br><span class=\"line\">            template:&#x27;hello.html&#x27;,</span><br><span class=\"line\">            filename:&#x27;test1.html&#x27;,</span><br><span class=\"line\">            excludeChunks:[&#x27;test&#x27;,&#x27;index&#x27;]       </span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        new CleanWebpackPlugin([&#x27;./dist/js&#x27;])</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//hello.html </span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class=\"line\">&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title%&gt;&lt;/title&gt;</span><br><span class=\"line\">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">    &lt;%=</span><br><span class=\"line\">    compilation.assets[htmlWebpackPlugin.files.chunks.test1.entry.substr</span><br><span class=\"line\">    (htmlWebpackPlugin.files.publicPath.length)].source() %&gt;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;% for(let k in htmlWebpackPlugin.files.chunks) &#123;%&gt;</span><br><span class=\"line\">        &lt;% if(k != &#x27;index&#x27;) &#123;%&gt;</span><br><span class=\"line\">            &lt;script src=&quot;&lt;%=htmlWebpackPlugin.files.chunks[k].entry %&gt;&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">        &lt;% &#125;%&gt;</span><br><span class=\"line\">    &lt;% &#125; %&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"file-loader-css-loader-style-loader-postcss-loader\"><a href=\"#file-loader-css-loader-style-loader-postcss-loader\" class=\"headerlink\" title=\"file-loader|css-loader|style-loader|postcss-loader\"></a>file-loader|css-loader|style-loader|postcss-loader</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webpack.config.js</span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">mode: &#x27;development&#x27;,</span><br><span class=\"line\">entry: &#x27;./app.js&#x27;,</span><br><span class=\"line\">output: &#123;</span><br><span class=\"line\">    filename: &#x27;[name].bundle.js&#x27;,</span><br><span class=\"line\">    path: path.join(__dirname, &#x27;./dist/js1&#x27;),</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#x27;./dist/js1&#x27;]),</span><br><span class=\"line\">    require(&#x27;autoprefixer&#x27;)</span><br><span class=\"line\">],</span><br><span class=\"line\">module: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        test: /\\.(le|c)ss$/,</span><br><span class=\"line\">        test: /\\.(png|jpg|gif)$/,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">        &#123; loader: &quot;style-loader&quot; &#125;,</span><br><span class=\"line\">        &#123; loader: &quot;css-loader&quot; &#125;,</span><br><span class=\"line\">        &#123; loader: &#x27;file-loader&#x27;&#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            loader: &quot;postcss-loader&quot;,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">            plugins: [</span><br><span class=\"line\">                require(&quot;autoprefixer&quot;) /**/,</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//webapck.config.js</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">    mode:&#x27;development&#x27;,</span><br><span class=\"line\">    entry: &#x27;./src/index.js&#x27;,</span><br><span class=\"line\">    // </span><br><span class=\"line\">    externals:[&#x27;lodash&#x27;],</span><br><span class=\"line\">    output: &#123;</span><br><span class=\"line\">        path: path.resolve(__dirname, &#x27;dist&#x27;),</span><br><span class=\"line\">        // </span><br><span class=\"line\">        filename: &#x27;library.js&#x27;,</span><br><span class=\"line\">        //src</span><br><span class=\"line\">        library:&#x27;library&#x27;,   </span><br><span class=\"line\">        //librarythis window</span><br><span class=\"line\">        libraryTarget: &quot;umd&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"cmjw5hvsf0000w0tg1jwicmyz","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5hvsh0004w0tg72n61lbe"},{"post_id":"cmjw5ipng0005w0tge1ua0mrv","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipnh0007w0tgabxtahgz"},{"post_id":"cmjw5ipnu0008w0tghdon1s1n","category_id":"cmjw5ipnu0009w0tgcgk403ou","_id":"cmjw5ipnu000cw0tg1ffw43qe"},{"post_id":"cmjw5ipoc000dw0tgcquxfg96","category_id":"cmjw5ipoc000ew0tggc4lb3gh","_id":"cmjw5ipoc000hw0tggiela9gp"},{"post_id":"cmjw5ipod000iw0tgak6n64l1","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipod000kw0tg80xt24sc"},{"post_id":"cmjw5ipor000mw0tg95ww4lln","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipos000ow0tg5lz09amo"},{"post_id":"cmjw5ipoy000qw0tg4eckhxeg","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipoz000sw0tgak2k8dpp"},{"post_id":"cmjw5ipp7000ww0tg33bw36q6","category_id":"cmjw5ipp8000xw0tg7kcu0uqb","_id":"cmjw5ipp8000yw0tg60kqeu6j"},{"post_id":"cmjw5ippl000zw0tgffqtgbcl","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ippm0011w0tg8pfgetz2"},{"post_id":"cmjw5ipq30013w0tg11yb4r30","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipq40015w0tg7blvd1rx"},{"post_id":"cmjw5ipqi0017w0tg3u4s969j","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipqj0019w0tgffm37f14"},{"post_id":"cmjw5ipqr001bw0tg7dfefn57","category_id":"cmjw5ipqs001cw0tg99ynehq8","_id":"cmjw5ipqs001fw0tg316bclg1"},{"post_id":"cmjw5ipri001gw0tg99qg8mrk","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipri001iw0tg1309edeh"},{"post_id":"cmjw5iprj001ow0tg9odi7znk","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5iprk001qw0tgcjxsb9bk"},{"post_id":"cmjw5ips9001sw0tg14pvdk85","category_id":"cmjw5ipqs001cw0tg99ynehq8","_id":"cmjw5ips9001uw0tg09302ykf"},{"post_id":"cmjw5ipsp0022w0tg5z0z199d","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipsp0024w0tg078w6qsw"},{"post_id":"cmjw5ipt10026w0tgf5d6dc1x","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipt20028w0tgc7oxgnwn"},{"post_id":"cmjw5iptm002aw0tgc1awhwsj","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5iptn002cw0tg7836a9z6"},{"post_id":"cmjw5ipuf002ew0tg7mrka16x","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipug002gw0tgeeei6r8d"},{"post_id":"cmjw5ipuv002iw0tg30xz5zf7","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipuv002kw0tgc8ik8wgc"},{"post_id":"cmjw5ipvq002sw0tg987uh8d7","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipvr002uw0tg5b77fvlr"},{"post_id":"cmjw5ipwm002ww0tgbrkra7fd","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipwn002yw0tg7ux17njn"},{"post_id":"cmjw5ipye0033w0tga3501q7v","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipyf0035w0tgbpi51a5y"},{"post_id":"cmjw5ipzq0038w0tgckau1q3r","category_id":"cmjw5hvsh0001w0tg6vr888gd","_id":"cmjw5ipzq003aw0tg2c0pav25"}],"PostTag":[{"post_id":"cmjw5hvsf0000w0tg1jwicmyz","tag_id":"cmjw5hvsh0002w0tggwz924l6","_id":"cmjw5hvsh0003w0tg0rq93ln0"},{"post_id":"cmjw5ipng0005w0tge1ua0mrv","tag_id":"cmjw5hvsh0002w0tggwz924l6","_id":"cmjw5ipnh0006w0tg3c1e1rfj"},{"post_id":"cmjw5ipnu0008w0tghdon1s1n","tag_id":"cmjw5ipnu000aw0tg3w0thp68","_id":"cmjw5ipnu000bw0tg4kpxd2na"},{"post_id":"cmjw5ipoc000dw0tgcquxfg96","tag_id":"cmjw5ipoc000fw0tg1totdqvr","_id":"cmjw5ipoc000gw0tg1d8e4rv7"},{"post_id":"cmjw5ipod000iw0tgak6n64l1","tag_id":"cmjw5ipod000jw0tg6o3yf8f8","_id":"cmjw5ipod000lw0tg21cr8f3y"},{"post_id":"cmjw5ipor000mw0tg95ww4lln","tag_id":"cmjw5ipos000nw0tg5ga30cfh","_id":"cmjw5ipos000pw0tg50w02smh"},{"post_id":"cmjw5ipoy000qw0tg4eckhxeg","tag_id":"cmjw5ipoy000rw0tg5owa7mu0","_id":"cmjw5ipoz000uw0tg28myadb7"},{"post_id":"cmjw5ipoy000qw0tg4eckhxeg","tag_id":"cmjw5ipoz000tw0tg7alv45zd","_id":"cmjw5ipoz000vw0tg8el19lpk"},{"post_id":"cmjw5ippl000zw0tgffqtgbcl","tag_id":"cmjw5ippm0010w0tgfp4g84hz","_id":"cmjw5ippm0012w0tg6k2tc3g3"},{"post_id":"cmjw5ipq30013w0tg11yb4r30","tag_id":"cmjw5ipq40014w0tg9i7j55sm","_id":"cmjw5ipq40016w0tgchur0v4o"},{"post_id":"cmjw5ipqi0017w0tg3u4s969j","tag_id":"cmjw5ipqi0018w0tg3di12d08","_id":"cmjw5ipqj001aw0tg9whr7mzh"},{"post_id":"cmjw5ipqr001bw0tg7dfefn57","tag_id":"cmjw5ipqs001dw0tg1gacado3","_id":"cmjw5ipqs001ew0tg24f787fk"},{"post_id":"cmjw5ipri001gw0tg99qg8mrk","tag_id":"cmjw5ipri001hw0tg7cild1m1","_id":"cmjw5iprj001lw0tg7t9g8gjb"},{"post_id":"cmjw5ipri001gw0tg99qg8mrk","tag_id":"cmjw5ipri001jw0tgegfthjs4","_id":"cmjw5iprj001mw0tghkzs2ol2"},{"post_id":"cmjw5ipri001gw0tg99qg8mrk","tag_id":"cmjw5ipri001kw0tgfma04d41","_id":"cmjw5iprj001nw0tg14e88bwo"},{"post_id":"cmjw5iprj001ow0tg9odi7znk","tag_id":"cmjw5iprk001pw0tgbshw0m8p","_id":"cmjw5iprk001rw0tgem5e1gdg"},{"post_id":"cmjw5ips9001sw0tg14pvdk85","tag_id":"cmjw5ips9001tw0tg715bf8o3","_id":"cmjw5ips9001yw0tgaxtn9w37"},{"post_id":"cmjw5ips9001sw0tg14pvdk85","tag_id":"cmjw5ips9001vw0tg8kgl73hg","_id":"cmjw5ips9001zw0tga3d10nti"},{"post_id":"cmjw5ips9001sw0tg14pvdk85","tag_id":"cmjw5ips9001ww0tg4vechi8l","_id":"cmjw5ips90020w0tg73go7iuw"},{"post_id":"cmjw5ips9001sw0tg14pvdk85","tag_id":"cmjw5ips9001xw0tg8xt1aq0u","_id":"cmjw5ips90021w0tg8ov15q20"},{"post_id":"cmjw5ipsp0022w0tg5z0z199d","tag_id":"cmjw5ipsp0023w0tgg48b33nt","_id":"cmjw5ipsq0025w0tg0tx0g10s"},{"post_id":"cmjw5ipt10026w0tgf5d6dc1x","tag_id":"cmjw5ipt20027w0tghm8505gj","_id":"cmjw5ipt20029w0tg2s186im8"},{"post_id":"cmjw5iptm002aw0tgc1awhwsj","tag_id":"cmjw5iptm002bw0tgg52gafw9","_id":"cmjw5iptn002dw0tgcglqahzc"},{"post_id":"cmjw5ipuf002ew0tg7mrka16x","tag_id":"cmjw5ipuf002fw0tgco1o5xl1","_id":"cmjw5ipug002hw0tgelbl3i7x"},{"post_id":"cmjw5ipuv002iw0tg30xz5zf7","tag_id":"cmjw5ipuv002jw0tg32y4bc4l","_id":"cmjw5ipuw002ow0tgcdcxb38i"},{"post_id":"cmjw5ipuv002iw0tg30xz5zf7","tag_id":"cmjw5ipuv002lw0tg7sdb19w1","_id":"cmjw5ipuw002pw0tghbis4hzv"},{"post_id":"cmjw5ipuv002iw0tg30xz5zf7","tag_id":"cmjw5ipuv002mw0tgauzfhlad","_id":"cmjw5ipuw002qw0tgb6ne65sr"},{"post_id":"cmjw5ipuv002iw0tg30xz5zf7","tag_id":"cmjw5ipuw002nw0tgbnutgwmw","_id":"cmjw5ipuw002rw0tg2dyw033y"},{"post_id":"cmjw5ipvq002sw0tg987uh8d7","tag_id":"cmjw5ipvr002tw0tg0kqud2dn","_id":"cmjw5ipvr002vw0tgh07kb4ca"},{"post_id":"cmjw5ipwm002ww0tgbrkra7fd","tag_id":"cmjw5ipwn002xw0tg1mr0eaon","_id":"cmjw5ipwn002zw0tg68iyea40"},{"post_id":"cmjw5ipxi0030w0tg96r92w5j","tag_id":"cmjw5ipxj0031w0tgakcj0shw","_id":"cmjw5ipxj0032w0tg70kt5f11"},{"post_id":"cmjw5ipye0033w0tga3501q7v","tag_id":"cmjw5ipyf0034w0tgb2g8fit8","_id":"cmjw5ipyf0036w0tggzh3evkg"},{"post_id":"cmjw5ipzq0038w0tgckau1q3r","tag_id":"cmjw5ipzq0039w0tg6xs38v8t","_id":"cmjw5ipzq003bw0tg2zc56cux"}],"Tag":[{"name":",7","_id":"cmjw5hvsh0002w0tggwz924l6"},{"name":"","_id":"cmjw5ipnu000aw0tg3w0thp68"},{"name":"","_id":"cmjw5ipoc000fw0tg1totdqvr"},{"name":"npm","_id":"cmjw5ipod000jw0tg6o3yf8f8"},{"name":"call  apply ","_id":"cmjw5ipos000nw0tg5ga30cfh"},{"name":"","_id":"cmjw5ipoy000rw0tg5owa7mu0"},{"name":"3","_id":"cmjw5ipoz000tw0tg7alv45zd"},{"name":"CommonJS/AMD/CMD","_id":"cmjw5ippm0010w0tgfp4g84hz"},{"name":"JavaScriptEmoji ","_id":"cmjw5ipq40014w0tg9i7j55sm"},{"name":"gulpwebpack","_id":"cmjw5ipqi0018w0tg3di12d08"},{"name":"hexo","_id":"cmjw5ipqs001dw0tg1gacado3"},{"name":"screenX/screenY","_id":"cmjw5ipri001hw0tg7cild1m1"},{"name":"clientX/slientY","_id":"cmjw5ipri001jw0tgegfthjs4"},{"name":"offsetX/offsetY","_id":"cmjw5ipri001kw0tgfma04d41"},{"name":"nodejs","_id":"cmjw5iprk001pw0tgbshw0m8p"},{"name":"hexo","_id":"cmjw5ips9001tw0tg715bf8o3"},{"name":"nexT","_id":"cmjw5ips9001vw0tg8kgl73hg"},{"name":"","_id":"cmjw5ips9001ww0tg4vechi8l"},{"name":"nextloadding","_id":"cmjw5ips9001xw0tg8xt1aq0u"},{"name":"Promise","_id":"cmjw5ipsp0023w0tgg48b33nt"},{"name":"slot","_id":"cmjw5ipt20027w0tghm8505gj"},{"name":"vuediff","_id":"cmjw5iptm002bw0tgg52gafw9"},{"name":"Vue-router","_id":"cmjw5ipuf002fw0tgco1o5xl1"},{"name":"Vue.js ","_id":"cmjw5ipuv002jw0tg32y4bc4l"},{"name":"patch","_id":"cmjw5ipuv002lw0tg7sdb19w1"},{"name":"render function","_id":"cmjw5ipuv002mw0tgauzfhlad"},{"name":"diff","_id":"cmjw5ipuw002nw0tgbnutgwmw"},{"name":"vue$emit/$on/$once/$off","_id":"cmjw5ipvr002tw0tg0kqud2dn"},{"name":"vuefunctionnal","_id":"cmjw5ipwn002xw0tg1mr0eaon"},{"name":"Vue","_id":"cmjw5ipxj0031w0tgakcj0shw"},{"name":" VueinheritAttrs$attrs$listeners","_id":"cmjw5ipyf0034w0tgb2g8fit8"},{"name":"webpack4+","_id":"cmjw5ipzq0039w0tg6xs38v8t"}]}}